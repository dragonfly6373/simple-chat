function Dialog(){BaseTemplatedWidget.call(this),this.bind("click",this.handleActionClick,this.dialogFooter),this.bind("click",this.handleCloseClick,this.dialogClose),this.bind("mousedown",this.handleHeaderMouseDown,this.dialogHeaderPane),this.bind("keypress",this.handleBodyKeyPress,this.dialogBody),Dialog.ensureGlobalHandlers()}widget.ActionBar=function(){function e(t){var e=Dom.getTarget(t),i=Dom.findUpward(e,{eval:function(t){return t._action}});i&&(i.disabled||(Dom.cancelEvent(t),i._action.run()))}function t(t){this.container=widget.get(t),this.actions=[],this.buttonGroupDiv=document.createElement("div"),Dom.addClass(this.buttonGroupDiv,"btn-group nav-pills"),this.container.appendChild(this.buttonGroupDiv),Dom.registerEvent(this.buttonGroupDiv,"click",e,!1)}return t.prototype.register=function(t){this.actions.push(t),this.invalidate()},t.prototype.invalidate=function(){this.buttonGroupDiv.innerHTML="";for(var t=0;t<this.actions.length;t++){var e=this.actions[t];if(!e.isVisible||e.isVisible()){var i=e.isApplicable&&!e.isApplicable(),o=document.createElement("button");o.setAttribute("type","button"),Dom.addClass(o,"btn btn-default"),o.innerHTML='<span><i class="fa '+e.getIcon()+'"></i> '+Dom.htmlEncode(e.getTitle())+"</span>",this.buttonGroupDiv.appendChild(o),i&&(Dom.addClass(o,"disabled"),o.setAttribute("disabled","true")),o._action=e}}},t}(),__extend(BaseTemplatedWidget,Dialog),Dialog.ACTION_CANCEL={type:"cancel",title:"Cancel",run:function(){return!0}},Dialog.ACTION_CLOSE={type:"cancel",title:"Close",run:function(){return!0}},Dialog.ensureGlobalHandlers=function(){Dialog.globalHandlersRegistered||(document.addEventListener("mousemove",Dialog.globalMouseMoveHandler,!1),document.addEventListener("mouseup",function(t){Dialog.heldInstance=null},!1),Dialog.globalHandlersRegistered=!0)},Dialog.prototype.canCloseNow=function(){return!!this.closeHandler&&this.closeHandler.apply(this)},Dialog.prototype.getFrameTemplate=function(){return console.log("Dialog frame_template",this.getTemplatePrefix()+"Dialog.xhtml"),this.getTemplatePrefix()+"Dialog.xhtml"},Dialog.prototype.buildDOMNode=function(){var t=this.getFrameTemplate(),e=widget.Util.loadTemplateAsNodeSync(t,this),i=this.buildContentNode();return this.dialogBody.appendChild(i),e},Dialog.prototype.buildContentNode=function(){return widget.Util.loadTemplateAsNodeSync(this.getTemplatePath(),this)},Dialog.prototype.open=function(t){this.setup&&this.setup(t),this.invalidateElements(),BaseWidget.handleGlobalMouseDown(),this.show()};var DIALOG_BUTTON_ORDER={accept:10,cancel:1,extra1:-10,extra2:-9,extra3:-8};function BuilderBasedDialog(t){this.builder=t,this.builder._dialog=this,Dialog.call(this),this.title="function"==typeof t.title?t.title.bind(this.builder):t.title}Dialog.prototype.invalidateElements=function(){var t=this.getDialogActions();this.closeHandler=null,this.positiveHandler=null,this.primaryButton=null,t.forEach(function(t){t.isValid&&!t.isValid()||(t.order=t.order||DIALOG_BUTTON_ORDER[t.type],void 0===t.order&&(t.order=-99),"cancel"==t.type?this.closeHandler=t.run:"accept"==t.type&&(this.positiveHandler=t.run))},this),t.sort(function(t,e){return t.order-e.order}),Dom.empty(this.dialogFooterStartPane),Dom.empty(this.dialogFooterMiddlePane),Dom.empty(this.dialogFooterEndPane),t.forEach(function(t){if(!t.isApplicable||t.isApplicable()){var e=this.createButton(t);t.order<0?this.dialogFooterStartPane.appendChild(e):0==t.order?this.dialogFooterMiddlePane.appendChild(e):this.dialogFooterEndPane.appendChild(e),"accept"==t.type&&(this.primaryButton=e)}},this),Dom.empty(this.dialogTitle),this.dialogTitle.appendChild(document.createTextNode(this.e(this.title))),Dom.empty(this.dialogSubTitle),this.dialogSubTitle.appendChild(document.createTextNode(this.e(this.subTitle||""))),this.dialogClose.style.display=this.closeHandler?"inline-block":"none"},Dialog.prototype.createButton=function(t){var e=document.createElement("button");e._action=t;var i=this.e(t.icon);if(i){var o=document.createElement("i");o.appendChild(document.createTextNode(i)),e.appendChild(o)}var n=this.e(t.title);return e.appendChild(document.createTextNode(n)),e.setAttribute("mode",t.type),t.isEnabled&&!t.isEnabled()&&e.setAttribute("disabled","true"),e},Dialog.prototype.show=function(){this._originalFocusedTarget=Dialog.lastFocusedTarget,this.dialogFrame.parentNode.removeChild(this.dialogFrame),this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay),this.overlay=this.node().ownerDocument.createElement("div"),Dom.addClass(this.overlay,"Sys_DialogOverlay"),this.node().ownerDocument.body.appendChild(this.overlay),this.node().ownerDocument.body.appendChild(this.dialogFrame),this.dialogFrame.style.left="0px",this.dialogFrame.style.top="0px",this.dialogFrame.style.position="absolute",this.dialogFrame.style.visibility="hidden",this.dialogFrame.style.display="flex",this.dialogFrame.style.height="auto",this.dialogFrame.style.overflow="visible",this.dialogFrame.style.opacity="0",this.dialogFrame.style.transition="opacity 0.3s";var n=this;setTimeout(function(){var t=window.innerWidth,e=window.innerHeight-20,i=(t-n.dialogFrame.offsetWidth)/2,o=(e-n.dialogFrame.offsetHeight)/2;n.moveTo(i,o),n.dialogFrame.style.visibility="visible",n.dialogFrame.style.opacity="1",n.dialogFrame.focus(),n.onShown&&n.onShown()},100),BaseWidget.registerClosable(this)},Dialog.prototype.moveTo=function(t,e){this.dialogFrame.style.left=t+"px",this.dialogFrame.style.top=Math.max(e,0)+"px",this.dialogX=t,this.dialogY=e},Dialog.prototype.moveBy=function(t,e){this.moveTo(this.dialogX+t,this.dialogY+e)},Dialog.prototype.close=function(){this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay),this.dialogFrame.style.transition="opacity 0.1s",this.dialogFrame.style.opacity="0";var t=[];if(0<arguments.length&&this.callback)for(var e=0;e<arguments.length;e++)t.push(arguments[e]);this.onClosed&&this.onClosed(),window.setTimeout(function(){if(this.dialogFrame.parentNode&&this.dialogFrame.parentNode.removeChild(this.dialogFrame),this.dialogFrame.style.display="none",this.overlay&&(this.overlay.style.display="none"),BaseWidget.unregisterClosable(this),0<t.length&&this.callback&&this.callback.apply(window,t),this._originalFocusedTarget)try{this._originalFocusedTarget.focus()}catch(t){}}.bind(this),100)},Dialog.prototype.callback=function(t){return this.callback=t,this},Dialog.prototype.handleActionClick=function(t){var e=Dom.findUpwardForData(t.target,"_action");e&&e.run.apply(this)&&this.close()},Dialog.globalMouseMoveHandler=function(t){if(Dialog.heldInstance){Dom.cancelEvent(t);var e=t.screenX-Dialog._lastScreenX,i=t.screenY-Dialog._lastScreenY;Dialog._lastScreenX=t.screenX,Dialog._lastScreenY=t.screenY,Dialog.heldInstance.moveBy(e,i)}},Dialog.globalFocusHandler=function(t){if(Dialog.lastFocusedTarget=t.target,BaseWidget.closables&&!(BaseWidget.closables.length<=0)){var e=BaseWidget.closables[BaseWidget.closables.length-1];if(__isSubClassOf(e.constructor,Dialog))Dom.findUpward(t.target,function(t){return t==e.dialogFrame})||e.dialogFrame.focus()}},window.addEventListener("load",function(){window.document.addEventListener("focus",Dialog.globalFocusHandler,!0)},!1),Dialog.prototype.handleCloseClick=function(){this.closeHandler&&this.closeHandler.apply(this)&&this.close()},Dialog.prototype.handleHeaderMouseDown=function(t){Dom.cancelEvent(t),Dialog.heldInstance=this,Dialog._lastScreenX=t.screenX,Dialog._lastScreenY=t.screenY},Dialog.prototype.handleBodyKeyPress=function(t){t.keyCode==DOM_VK_RETURN&&this.primaryButton&&Dom.findUpward(t.target,function(t){return"input"==t.localName||"select"==t.localName})&&this.primaryButton.click()},__extend(Dialog,BuilderBasedDialog);var DIALOG_SIZE_SPECS={tiny:120,mini:200,smaller:280,small:350,normal:450,large:600,"slightly-larger":700,larger:800,huge:1010};BuilderBasedDialog.prototype.buildContentNode=function(){var t=document.createElement("div");if(this.builder.size){var e=DIALOG_SIZE_SPECS[this.builder.size]/12*Util.em();t.style.width=e+"px"}return this.builder.buildContent.call(this.builder,t),t},BuilderBasedDialog.prototype._newLegacyAction=function(t){return{title:"function"==typeof t.title?t.title.bind(this.builder):t.title,type:t.isCloseHandler?"cancel":t.primary?"accept":"extra1",isApplicable:t.isApplicable?t.isApplicable.bind(this.builder):null,run:t.run.bind(this.builder)}},BuilderBasedDialog.prototype.getDialogActions=function(){var e=this;return this.builder.actions.map(function(t){return e._newLegacyAction(t)})},BuilderBasedDialog.prototype.quit=function(){this.close()},Dialog.hasOpenDialog=function(){return BaseWidget.closables.forEach(function(t){if(__isSubClassOf(t.constructor,Dialog))return!0}),!1},Dialog.alert=function(e,i,t){new BuilderBasedDialog({title:"Information",size:e.size||"small",buildContent:function(t){t.appendChild(Dom.newDOMElement({_name:"hbox",class:"MessageDialog",_children:[{_name:"icon",class:"information"},{_name:"vbox",flex:1,class:"Messages",_children:[{_name:"strong",_text:e},{_name:"p",_text:i||""}]}]}))},actions:[{title:"Close",primary:!0,isCloseHandler:!0,run:function(){return this._dialog.quit(),t&&t(),!0}}]}).open()},Dialog.error=function(e,i,t){new BuilderBasedDialog({title:"Error",size:"small",buildContent:function(t){t.appendChild(Dom.newDOMElement({_name:"hbox",class:"MessageDialog",_children:[{_name:"i",class:"DialogIcon Error",_text:"error"},{_name:"vbox",flex:1,class:"Messages",_children:[{_name:"strong",_text:e},{_name:"p",_text:i||""}]}]}))},actions:[{title:"Close",primary:!0,isCloseHandler:!0,run:function(){return this._dialog.quit(),t&&t(),!0}}]}).open()},Dialog.prompt=function(n,s,t,e,i,o){new BuilderBasedDialog({title:"Prompt",size:"small",buildContent:function(t){var e=document.createElement("i");e.appendChild(document.createTextNode("info")),e.setAttribute("class","Icon DialogIcon"),t.appendChild(e);var i=document.createElement("div");t.appendChild(i);var o=document.createElement("p");o.appendChild(document.createTextNode(n)),i.appendChild(o),this.input=Dom.newDOMElement({_name:"input",type:"text",style:"width: calc(100% - 10px); padding: 5px;",class:"Focusable"}),i.appendChild(this.input),this.input.value=s||"",i.setAttribute("style","margin-left: 4em;")},actions:[{title:t||"OK",primary:!0,run:function(){return this._dialog.quit(),e&&e(this.input.value),!0}},{title:i||"Cancel",isCloseHandler:!0,run:function(){return this._dialog.quit(),o&&o(),!0}}]}).open()},Dialog.confirm=function(e,i,t,o,n,s,a,r){new BuilderBasedDialog({title:"Confirm",size:"normal",buildContent:function(t){t.appendChild(Dom.newDOMElement({_name:"hbox",class:"MessageDialog",_children:[{_name:"i",class:"DialogIcon",_text:"help"},{_name:"vbox",flex:1,class:"Messages",_children:[{_name:"strong",_text:e},{_name:"p",_text:i||""}]}]}))},actions:[{title:t||"Yes",primary:!0,run:function(){return this._dialog.quit(),o&&o(),!0}},{title:n||"No",isCloseHandler:!0,run:function(){return this._dialog.quit(),s&&s(),!0}},{title:a||"Extra",isApplicable:function(){return a},run:function(){return this._dialog.quit(),r&&r(),!0}}]}).open()},Dialog.select=function(r,i,l,p){l=l||[];var d=(p=p||{}).same||sameRelax,h=p.formatter||function(t){return""+t},c=p.columns||1;new BuilderBasedDialog({title:p.title||"Select",size:p.size||"normal",buildContent:function(t){if(p.message){var e=document.createElement("p");Dom.addClass(e,"fa fa-question-circle"),e.setAttribute("style","float: left; font-size: 2em; color: #428BCA;"),t.appendChild(e);var i=document.createElement("p");t.appendChild(i),i.appendChild(document.createTextNode(p.message)),i.setAttribute("style","margin-left: 3em; min-height: 2em;")}var o=document.createElement("div");o.style.textAlign="center",this.inputs=[];for(e=0;e<r.length;e++){var n="cb_"+widget.random(),s={},a=Dom.newDOMElement({_name:"span",style:"display: inline-block",_children:[{_name:"input",type:"checkbox",_id:"checkbox",id:n,style:"vertical-align: middle;"},{_name:"label",for:n,_html:Dom.htmlEncode(h(r[e])),style:"padding-left: 1ex; vertical-align: middle;"}]},document,s);this.inputs.push(s.checkbox),s.checkbox._item=r[e],s.checkbox.checked=contains(l,r[e],d),o.appendChild(a),p.columnWidth&&(a.style.width=p.columnWidth),(e+1)%c==0&&o.appendChild(document.createElement("br")),0<e%c&&(a.style.marginLeft="2em")}t.appendChild(o)},actions:[{title:p.selectActionTitle||"Select",primary:!0,run:function(){for(var t=[],e=0;e<this.inputs.length;e++)this.inputs[e].checked&&t.push(this.inputs[e]._item);return i(t),!0}},{title:"Cancel",isCloseHandler:!0,run:function(){return!0}}]}).open()};var FILE_SIZE=5242880;function MenuGroup(){BaseTemplatedWidget.call(this)}function NumPad(){BaseTemplatedWidget.call(this)}function Popup(){BaseTemplatedWidget.call(this),this.forceInside=!0,this.useZIndex=!0,this.visible=!1}function RepeaterView(t){BaseWidget.call(this,t)}function RichTextEditor(){BaseWidget.call(this);(new Date).getTime();this.initialized=!1,this.pendingContent=null,this.editorEventHandlers={},this.contentCSS="",this.bind("click",this.onSourceButtonClicked,this.editSourceButton)}function SelectBox(){var t=this;this.name="selectBox",this.mode=SelectBox.MODE_CHECK,this.direction=SelectBox.DIRECTION_ROW,this.multipleSelect=!1,this.displayStatus=SelectBox.DISPLAY_STATUS_JOINTEXT,this.optionSelectAll=!1,this.optionSelectAllText="Select All",this.filterBox=!1,this.filterHintText="input keyword",BaseTemplatedWidget.call(this),this.popupContainer.onHide=function(){t.mode==SelectBox.MODE_DROPDOWN&&t._setSelectedStatus()},this.bind("click",function(){this.popupContainer.isVisible()?this.popupContainer.hide():(this.popupContainer.show(this.statusBox,"left-inside","top",0,5,"autoFlip"),setTimeout(function(){this._focusElement(Dom.findFirstChildWithClass(this.optionBox,"OptionContainer"))}.bind(this),20))},this.statusBox)}function SnackBar(){BaseTemplatedWidget.call(this),this.items=[],this.bind("click",this.close,this.closeButton),this.bind("click",this.onActionClick,this.actionButton)}function TabControl(){BaseTemplatedWidget.call(this)}function ViewTag(){BaseTemplatedWidget.call(this)}widget.ImageUploader=function(){function i(t){var o=s.findInstance(t),e={title:Messages.upload_picture,icon:"fa fa-upload",size:"small",buildContent:function(t){if(o.option.tip){var e=document.createElement("p");e.innerHTML=o.option.tip,t.appendChild(e)}var i=n(t,o);this.form=i.form,this.iframe=i.iframe,this.picker=i.picker},onOpen:function(){},actions:[{title:Messages.upload,primary:!0,run:function(){var e=this;Dom.registerEvent(this.iframe,"load",function(t){-1!=Dom.getIframeDocument(e.iframe).indexOf("OK")?(o.isModified=!0,e._dialog.quit(),setTimeout(function(){o.setImage()},500)):widget.Dialog.error(Messages.upload_error_msg)});var t=this.picker.value.split(".").pop().toLowerCase();if(0<this.picker.value.length){if(-1==["png","jpg","gif","bmp"].indexOf(t))return widget.Dialog.error(Messages.upload_not_supported_files_msg),!1;if(this.picker.files&&0<this.picker.files.length&&this.picker.files[0].size>=FILE_SIZE)return widget.Dialog.error(String.format(Messages.file_is_too_large_msg,5)),!1;this.form.submit()}else widget.Dialog.error(Messages.no_file_uploaded_msg);return!1}},{title:Messages.cancel,isCloseHandler:!0,run:function(){return!0}}]};new widget.Dialog(e).show()}function o(t){var i=s.findInstance(t),o=i.container;widget.Dialog.confirm(Messages.remove_image_msg,Messages.remove,function(){var t=n(o,i);this.form=t.form,this.iframe=t.iframe,this.form.submit();var e=this;Dom.registerEvent(this.iframe,"load",function(t){-1!=Dom.getIframeDocument(this).indexOf("OK")?(i.isModified=!0,setTimeout(function(){i.option.fallbackUrl&&(i.imageDisplay._fallbackRequested=!1),i.setImage(),e.iframe.remove(),e.form.remove()},500)):widget.Dialog.error(Messages.remove_image_failed_msg)})},Messages.cancel,function(){})}function n(t,e){var i=document.createElement("iframe");i.setAttribute("name","iframe"),i.setAttribute("id","frame"),i.setAttribute("height","0"),i.setAttribute("width","0"),i.setAttribute("frameborder","0"),i=i,form=document.createElement("form"),form.setAttribute("action",CONTEXT_PATH+"/amw/upload"),form.setAttribute("method","POST"),form.setAttribute("enctype","multipart/form-data"),form.setAttribute("target","iframe");var o=document.createElement("input");o.setAttribute("type","file"),o.setAttribute("name","file"),o.setAttribute("id","file"),form.appendChild(o);var n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name","entityType"),n.setAttribute("id","entityType"),n.value=e.option.type,form.appendChild(n);var s=document.createElement("input");return s.setAttribute("type","hidden"),s.setAttribute("name","entityId"),s.setAttribute("id","entityId"),s.value=e.option.id,form.appendChild(s),t.appendChild(i),t.appendChild(form),{form:form,iframe:i,picker:o}}function s(t,e){this.container=widget.get(t),this.option=e||{},this.isModified=!1,this.wrapper=document.createElement("div"),this.wrapper.className="ImageUploader",(this.wrapper._imageUploader=this).option.editable?Dom.addClass(this.wrapper,"Editable"):Dom.addClass(this.wrapper,"NonEditable"),this.imagePicker=document.createElement("div"),this.imagePicker.style.position="absolute",this.imagePicker.className="ImagePicker",this.imagePicker.innerHTML='<a href="#"><i class="fa fa-plus"></i>'+Messages.add_picture+"</a>",this.wrapper.appendChild(this.imagePicker),this.imageDisplay=document.createElement("img"),this.imageDisplay.className="ImageDisplay",this.wrapper.appendChild(this.imageDisplay),this.imageEditor=document.createElement("div"),this.imageEditor.className="ImageEditor",this.option.smallArea&&Dom.addClass(this.imageEditor,"Small"),this.imageReplacer=document.createElement("a"),this.imageReplacer.href="#",this.imageReplacer.setAttribute("title",Messages.replace),this.imageReplacer.innerHTML=this.option.smallArea?'<i class="fa fa-exchange"></i>':'<i class="fa fa-exchange"></i>'+Messages.replace,this.imageEditor.appendChild(this.imageReplacer),this.imageRemover=document.createElement("a"),this.imageRemover.href="#",this.imageRemover.setAttribute("title",Messages.remove),this.imageRemover.innerHTML=this.option.smallArea?'<i class="fa fa-times"></i>':'<i class="fa fa-times"></i>'+Messages.remove,this.imageEditor.appendChild(this.imageRemover),this.wrapper.appendChild(this.imageEditor),this.container.appendChild(this.wrapper),Dom.registerEvent(this.imagePicker,"click",i,!1),Dom.registerEvent(this.imageReplacer,"click",i,!1),Dom.registerEvent(this.imageRemover,"click",o,!1),this.centerPicker(),this.option.fallbackUrl&&Dom.addClass(this.wrapper,"Fallback")}return s.prototype.centerPicker=function(){var t=this.container.getBoundingClientRect(),e=this.imagePicker.getBoundingClientRect();try{this.imagePicker.style.marginTop=(t.height-e.height)/2+"px"}catch(t){}},s.prototype.setImage=function(){var t=CONTEXT_PATH+"/amw-im?entityType="+this.option.type+"&entityId="+this.option.id+"&time="+(new Date).getTime();this.imageDisplay.src=t,this.imageDisplay.setAttribute("fallback-src",this.option.fallbackUrl||""),this.imageDisplay.setAttribute("style",""),this.imageRemover.style.display="inline";var e=this;this.imageDisplay.onload=function(){Dom.addClass(e.wrapper,"Display"),centerCrop(this)},this.imageDisplay.onerror=function(t){e.option.fallbackUrl&&(e.imageRemover.style.display="none"),Dom.removeClass(e.wrapper,"Display"),showFallback(this)}},s.prototype.enableEditMode=function(){Dom.addClass(this.wrapper,"Editable")},s.prototype.disableEditMode=function(){Dom.removeClass(this.wrapper,"Editable")},s.findInstance=function(t){var e=Dom.getTarget(t),i=Dom.findUpward(e,{eval:function(t){return t._imageUploader}});return i?i._imageUploader:null},s}(),__extend(BaseTemplatedWidget,MenuGroup),__extend(BaseTemplatedWidget,NumPad),__extend(BaseTemplatedWidget,Popup),Popup.Z_INDEX=9001,Popup.prototype.onAttached=function(){this.popupContainer&&(this.reparent(),this.popupContainer.style.position="absolute",this.popupContainer.style.left="0px",this.popupContainer.style.top="0px",this.hide())},Popup.prototype.setPopupClass=function(t){Dom.addClass(this.popupContainer,t)},Popup.prototype.closeUpward=function(t){var e=this;(t?Dom.findUpward(t.target,function(t){return t==e.popupContainer}):null)||this.dontCloseUpward&&this.dontCloseUpward(t)||(this.hide(),t&&Dom.cancelEvent(t),this._parent&&this._parent.closeUpward(t))},Popup.prototype.shouldCloseOnBlur=function(){return!0},Popup.prototype.checkToCloseParent=function(i){var o=function(e){if(e._parent){var t=Dom.findUpward(i,function(t){return t==e._parent.popupContainer});e._parent._keepShowing=!!t,o(e._parent)}};o(this)},Popup.prototype.setContentFragment=function(t){this.popupContainer.appendChild(t)},Popup.prototype.reparent=function(){this.popupContainer.parentNode!=this.node().ownerDocument.body&&(this.popupContainer.parentNode.removeChild(this.popupContainer),this.node().ownerDocument.body.appendChild(this.popupContainer))},Popup.prototype.toggle=function(t,e,i,o,n,s){this.isVisible()?this.hide():this.show(t,e,i,o,n,s)},Popup.prototype.show=function(t,e,i,o,n,s){this.reparent(),this.mode&&this.popupContainer.setAttribute("mode",this.mode),this.popupContainer.style.position="absolute",this.popupContainer.style.left="0px",this.popupContainer.style.top="0px",this.popupContainer.style.width="auto",this.popupContainer.style.height="auto",this.popupContainer.style.visibility="hidden",this.popupContainer.style.display="block",this.popupContainer.style.height="auto",this.popupContainer.style.overflow="visible";var a=this;window.setTimeout(function(){a._showImpl(t,e,i,o,n,s)},10)},Popup.prototype.isVisible=function(){return this.visible},Popup.prototype.showAt=function(t,e,i){this.reparent(),this.mode&&this.popupContainer.setAttribute("mode",this.mode),this.popupContainer.style.position="absolute",this.popupContainer.style.visibility="hidden",this.popupContainer.style.display="block";var o=this.popupContainer.offsetWidth,n=this.popupContainer.offsetHeight,s=document.body.offsetWidth-10,a=window.innerHeight-10;a<e+n&&(e=a-n),s<t+o&&(t-=o),this.popupContainer.style.position="absolute",this.popupContainer.style.left=t+"px",this.popupContainer.style.top=e+"px",this.popupContainer.style.visibility="inherit",this.popupContainer.style.opacity=this.popupOpacity||1,this.visible=!0,i||Dom.emitEvent("p:PopupShown",this.node()),this.skipStack||BaseWidget.registerClosable(this)},Popup.prototype._calculatePosition=function(t,e,i,o,n){var s=this.popupContainer.offsetWidth,a=this.popupContainer.offsetHeight,r=t.getBoundingClientRect(),l=this.popupContainer.parentNode?this.popupContainer.parentNode.getBoundingClientRect():document.body.getBoundingClientRect();if("true"==Dom.getAttributeAsString(this.node(),"verticalScroll","false")&&a>.5*l.height){var p=.5*l.height;a=p,l.height=p,l.top=l.bottom-p}var d=r.width,h=r.height,c=r.left-l.left,u=r.top-l.top,m=o||0,g=0;"left"==e&&(g=c-s-m),"left-inside"==e&&(g=c+m),"middle"!=e&&"center"!=e||(g=c+d/2-s/2),"right"==e&&(g=c+d+m),"right-inside"==e&&(g=c+d-s-m),m=n||m;var f=0;return"top"==i&&(f=u-a-m),"top-inside"==i&&(f=u+m),"middle"!=i&&"center"!=i||(f=u+h/2-a/2),"bottom"==i&&(f=u+h+m),"bottom-inside"==i&&(f=u+h-a-m),{x:g,y:f,viewportWidth:l.width,viewportHeight:l.height}},Popup.prototype.invalidatePosition=function(){this.lastShowOptions&&this._showImpl(this.lastShowOptions.anchor,this.lastShowOptions.hAlign,this.lastShowOptions.vAlign,this.lastShowOptions.hPadding,this.lastShowOptions.vPadding,this.lastShowOptions.autoFlip,"skipEvent")},Popup.prototype._showImpl=function(t,e,i,o,n,s,a){this.lastShowOptions={anchor:t,hAlign:e,vAlign:i,hPadding:o,vPadding:n,autoFlip:s,skipEvent:a};var r=this.popupContainer.offsetWidth,l=this.popupContainer.offsetHeight,p=this._calculatePosition(t,e,i,o,n);l=Math.min(p.viewportHeight,l);var d=p.x,h=p.y,c=p.viewportWidth-10;c<d+r&&(!s||"right"!=e&&"left-inside"!=e?this.forceInside&&(d=c-r):(e="right"==e?"left":"right-inside",d=(p=this._calculatePosition(t,e,i,o,n)).x));var u=p.viewportHeight-10;if(u<h+l){!s||"bottom"!=i&&"top-inside"!=i?this.forceInside&&(this.popupContainer.style.height=u-h+"px",this.popupContainer.style.overflow="auto"):(i="bottom"==i?"top":"bottom-inside",h=(p=this._calculatePosition(t,e,i,o,n)).y)}else h<0&&(!s||"top"!=i&&"bottom-inside"!=i||(i="top"==i?"bottom":"top-inside",h=(p=this._calculatePosition(t,e,i,o,n)).y));this.onBeforeVisible&&this.onBeforeVisible(d,h,e,i),this.popupContainer.style.position="absolute",this.popupContainer.style.left=Math.max(0,d)+"px",this.popupContainer.style.top=Math.max(0,h)+"px";var m="true"==Dom.getAttributeAsString(this.node(),"verticalScroll","false");m&&(this.popupContainer.style.height=l+"px"),this.popupContainer.style.visibility="inherit",this.popupContainer.style.display=m?"flex":"block",this.popupContainer.style.opacity=this.popupOpacity||1,this.visible=!0,a||Dom.emitEvent("p:PopupShown",this.node()),this.skipStack||BaseWidget.registerClosable(this)},Popup.prototype.close=function(){this.hide()},Popup.prototype.getClosableContainer=function(){return this.popupContainer},Popup.prototype.hide=function(t){this.popupContainer.style.display="none",this.popupContainer.style.opacity=0,this.popupContainer.style.visibility="hidden",this.visible=!1,t||Dom.emitEvent("p:PopupHidden",this.node()),this.onHide&&this.onHide(),BaseWidget.unregisterClosable(this)},widget.pe={},widget.pe._buildContainer=function(t,e){},widget.pe.BaseEditor=function(){},widget.pe.BaseEditor.prototype.init=function(t){this.container=widget.get(t),this.container.innerHTML="",Dom.addClass(this.container,"EditableContainer"),Dom.addClass(this.container,"EditableContainerEditable"),this.editor=this.createEditor(),Dom.addClass(this.editor,"Control"),this.container.appendChild(this.editor),this.label=Dom.newDOMElement({_name:"span",class:this.options&&this.options.multiline?"MLabel":"ELabel"}),this.container.appendChild(this.label)},widget.pe.BaseEditor.prototype.readOnly=function(t){t?Dom.removeClass(this.container,"EditableContainerEditable"):Dom.addClass(this.container,"EditableContainerEditable")},widget.pe.BaseEditor.prototype.useHtmlForDisplayText=function(){return!1},widget.pe.BaseEditor.prototype.updateDisplay=function(){var t=this.getDisplayText(this.value);if(this.useHtmlForDisplayText())this.label.innerHTML=t;else{var e=Dom.htmlEncode(t);this.label.innerHTML=e}},widget.pe.BaseEditor.prototype.rollback=function(){this.setValue(this.originalValue,!0)},widget.pe.BaseEditor.prototype.getOriginalValue=function(){return this.originalValue},widget.pe.BaseEditor.prototype.setValue=function(t,e){this.value=t,null!=e&&void 0!==e&&1!=e||(this.originalValue=null==this.value?null:JSON.parse(JSON.stringify(this.value))),this.updateDisplay(),this.setImpl(this.value)},widget.pe.BaseEditor.prototype.getValue=function(){return this.value=this.getImpl(),this.value},widget.pe.BaseEditor.prototype.getTypedValue=function(t,e,i){return widget.pe._getStrongTypeEditorValue(this,t,e,i)},widget.pe.BaseEditor.prototype.onchange=function(){this.value=this.getImpl(),this.updateDisplay(),this.options&&this.options.onChanged&&this.options.onChanged()},widget.pe.BaseEditor.prototype.focus=function(){this.editor.focus&&this.editor.focus()},widget.pe.BaseEditor.prototype.enable=function(t){this.editor&&(this.editor.disabled=!t)},widget.pe.BaseEditor.prototype.listen=function(){function t(t){e.onchange()}for(var e=this,i=0;i<arguments.length;i++)Dom.registerEvent(this.container,arguments[i],t,!1)},widget.pe.PlainTextEditor=function(t,e){if(this.options=e||{},this.init(t),this.options.isDate){var i=$(this.editor).datepicker({format:"mm/dd/yyyy"}).on("changeDate",function(){i.datepicker("hide")});Dom.addClass(this.editor,"DateEditor")}this.options.multiline&&Dom.addClass(this.container,"EditableContainerMultiLine"),this.listen("change","keyup")},widget.pe.PlainTextEditor.prototype=new widget.pe.BaseEditor,widget.pe.PlainTextEditor.prototype.createEditor=function(){return this.options.multiline?Dom.newDOMElement({_name:"textarea",class:"form-control",rows:this.options.rows||"3",maxLength:this.options.maxLength?this.options.maxLength:""}):Dom.newDOMElement({_name:"input",class:"form-control",guid:widget.random(),type:"text",maxLength:this.options.maxLength?this.options.maxLength:""})},widget.pe.PlainTextEditor.prototype.setImpl=function(t){if(this.options.isDate)if(t){var e=t.getTime?t:DateUtil.parse(t);this.editor.value=DateUtil.formatForUI(e),$(this.editor).datepicker("setValue",this.editor.value)}else this.editor.value="";else this.editor.value=t||"",this.label.setAttribute("title",t||"")},widget.pe.PlainTextEditor.prototype.getImpl=function(){return this.options.isDate?this.editor.value?DateUtil.parse(this.editor.value):null:this.editor.value},widget.pe.PlainTextEditor.prototype.getDisplayText=function(t){if(this.options.isDate){if(t){var e=t.getTime?t:DateUtil.parse(t);return DateUtil.formatForUI(e)}return""}return t||""},widget.pe.ColorPicker=function(t,e){this.options=e||{},this.init(t),this.colorPicker=new widget.ColorPicker(this.editor,this.options)},widget.pe.ColorPicker.prototype=new widget.pe.BaseEditor,widget.pe.ColorPicker.prototype.createEditor=function(){return document.createElement("div")},widget.pe.ColorPicker.prototype.setImpl=function(t){this.colorPicker.setValue(t)},widget.pe.ColorPicker.prototype.getImpl=function(){return this.colorPicker.getValue()},widget.pe.ColorPicker.prototype.setEnabled=function(t){this.colorPicker.setEnabled(t)},widget.pe.ColorPicker.prototype.getDisplayText=function(t){return this.colorPicker.setValue(t),'<div class="ColorPicker">'+this.colorPicker.wrapper.innerHTML+"</div>"},widget.pe.ColorPicker.prototype.useHtmlForDisplayText=function(){return!0},widget.pe.ComboEditor=function(t,e){this.options=e||{},this.init(t),this.comboManager=new widget.ComboManager(this.editor,this.options),this.options.items&&this.comboManager.setItems(this.options.items),this.listen("change","keyup","click")},widget.pe.ComboEditor.prototype=new widget.pe.BaseEditor,widget.pe.ComboEditor.prototype.createEditor=function(){var t=document.createElement("div");return t.className="ComboEditor",t},widget.pe.ComboEditor.prototype.setImpl=function(t){this.comboManager.selectItemIfContains(t)},widget.pe.ComboEditor.prototype.getImpl=function(){return this.comboManager.getSelectedItem()},widget.pe.ComboEditor.prototype.getDisplayText=function(t){return this.comboManager.getCurrentItemDisplayText(t)},widget.pe.ComboEditor.prototype.setItems=function(t){this.comboManager.setItems(t)},widget.pe.ComboEditor.prototype.asyncLoadItems=function(t){var e=this;t(function(t){e.comboManager.setItems(t)})},widget.pe.ComboEditor.prototype.fireSelectionEvent=function(t){this.comboManager.fireSelectionEvent(t)},widget.pe.ComboEditor.prototype.setEnable=function(t){this.enable=t,this.comboManager.setEnable(t)},widget.pe.DateTimeEditor=function(t,e){this.options=e||{},this.init(t);var i=!!this.options.useSeconds&&this.options.useSeconds,o=this.options.format?this.options.format:null;widget.Util.initDateTimeEditor(this.editor,this.options.withTime,i,o),Dom.addClass(this.editor,"DateEditor"),this.listen("change","keyup")},widget.pe.DateTimeEditor.prototype=new widget.pe.BaseEditor,widget.pe.DateTimeEditor.prototype.createEditor=function(){return Dom.newDOMElement({_name:"input",class:"form-control",guid:widget.random(),type:"text"})},widget.pe.DateTimeEditor.prototype.setImpl=function(t){widget.Util.setDateTimeEditorValue(this.editor,t)},widget.pe.DateTimeEditor.prototype.getImpl=function(){return widget.Util.getDateTimeEditorValue(this.editor)},widget.pe.DateTimeEditor.prototype.getDisplayText=function(t){return t?DateUtil.formatForUI(DateUtil.ensureDate(t),this.options.withTime):""},widget.pe.TimeEditor=function(t,e){this.options=e||{},this.init(t),widget.Util.initTimeEditor(this.editor,this.options),this.listen("change","keyup")},widget.pe.TimeEditor.prototype=new widget.pe.BaseEditor,widget.pe.TimeEditor.prototype.createEditor=function(){return Dom.newDOMElement({_name:"input",class:"form-control",guid:widget.random(),type:"text"})},widget.pe.TimeEditor.prototype.setImpl=function(t){widget.Util.setTimeEditorValue(this.editor,t)},widget.pe.TimeEditor.prototype.getDisplayText=function(t){return null==t?"00:00":t.getHours()+":"+t.getMinutes()},widget.pe.TimeEditor.prototype.getImpl=function(){var t=this.editor.value.split(":");return 2!=t.length?null:{hours:parseInt(t[0],10),minutes:parseInt(t[1],10)}},widget.pe.NumberEditor=function(t,e){this.options=e||{},this.init(t),Dom.addClass(this.editor,"NumberEditor"),Util.enforceNumberInput(this.editor),this.listen("change","keyup")},widget.pe.NumberEditor.prototype=new widget.pe.BaseEditor,widget.pe.NumberEditor.prototype.createEditor=function(){return Dom.newDOMElement({_name:"input",class:"form-control",guid:widget.random(),type:"text",maxLength:this.options.maxLength?this.options.maxLength:""})},widget.pe.NumberEditor.prototype.setImpl=function(t){this.editor.value=""+(t||"")},widget.pe.NumberEditor.prototype.getImpl=function(){return this.editor.value?parseFloat(this.editor.value):null},widget.pe.NumberEditor.prototype.getDisplayText=function(t){return""+(t||"")},widget.pe.BooleanEditor=function(t,e){this.options=e||{},this.options.format||(this.options.format=function(t){return t?Messages.yes:Messages.no}),this.init(t),this.comboManager=new widget.ComboManager(this.editor,this.options),this.comboManager.setItems([!0,!1]),this.listen("change","keyup","click")},widget.pe.BooleanEditor.prototype=new widget.pe.BaseEditor,widget.pe.BooleanEditor.prototype.createEditor=function(){var t=document.createElement("div");return t.className="test",t},widget.pe.BooleanEditor.prototype.setImpl=function(t){this.comboManager.selectItem(t)},widget.pe.BooleanEditor.prototype.getImpl=function(){return this.comboManager.getSelectedItem()},widget.pe.BooleanEditor.prototype.getDisplayText=function(t){return this.comboManager.getCurrentItemDisplayText(t)},widget.pe.MultiSelectionEditor=function(t,e){this.options=e||{},this.init(t),this.options.renderer||(this.options.renderer=this.options.format);var i=this;Dom.registerEvent(this.editor,"click",function(){i.options.buildSource(function(t){(new MultiSelectionDialog).open(t,i.options.renderer,i.items,i.options,function(t){i.setValue(t,!1),i.options.onChanged&&i.options.onChanged(i.items)})})},!1),Dom.addClass(this.label,"MultiSelectionEditor"),this.listen("change","keyup","click")},widget.pe.MultiSelectionEditor.prototype=new widget.pe.BaseEditor,widget.pe.MultiSelectionEditor.prototype.createEditor=function(){return Dom.newDOMElement({_name:"button",class:"btn btn-default MultiSelectionEditor",type:"button",_children:[{_name:"span",class:"display",_id:"displaySpan",_html:"Selection 1, Selection 2, Selection 3, Last selection item"},{_name:"span",_html:"&#160;"},{_name:"i",class:"fa fa-ellipsis-h"}]},document,this)},widget.pe.MultiSelectionEditor.prototype.setImpl=function(t){t=t||[],this.items=t,this.useHtmlForDisplayText()||this.options.useHtml?this.displaySpan.innerHTML=this.getDisplayText(this.items):Dom.setInnerText(this.displaySpan,this.getDisplayText(this.items)),this.label.setAttribute("title",this.getTitleText(this.items))},widget.pe.MultiSelectionEditor.prototype.getImpl=function(){return this.items},widget.pe.MultiSelectionEditor.prototype.getTitleText=function(t){for(var e="",i=0;i<t.length;i++)t[i].isRoot||(e&&(e+=", "),this.options.selectedItemFormat?e+=this.options.selectedItemFormat(t[i]):e+=this.options.format(t[i]));return e},widget.pe.MultiSelectionEditor.prototype.getDisplayText=function(t){for(var e="",i=0;i<t.length;i++)t[i].isRoot||(e&&(e+=", "),e+=this.options.format(t[i],"forButtonDisplay"));return e},widget.pe.AttachmentEditor=function(t,e){this.options=e||{},this.init(t);var i=this;Dom.registerEvent(this.uploadButton,"click",function(){new CommonUploadDialog(function(t){i.setValue(t,!1)},{title:e.title?Messages.upload+" "+option.dataName:Messages.upload}).open()},!1),Dom.registerEvent(this.removeButton,"click",function(){widget.Dialog.confirm(Messages.remove_attachment_confirm_msg,Messages.remove,function(){i.setValue(null,!1)},Messages.cancel,function(){})},!1)},widget.pe.AttachmentEditor.prototype=new widget.pe.BaseEditor,widget.pe.AttachmentEditor.prototype.createEditor=function(){return Dom.newDOMElement({_name:"div",class:"AttachmentEditor",_children:[{_name:"span",class:"display",_id:"displaySpan",_html:""},{_name:"button",class:"btn btn-default",type:"button",_id:"removeButton",style:"margin: 0px 5px;",_html:Messages.remove},{_name:"button",class:"btn btn-default",type:"button",_id:"uploadButton",_html:Messages.change}]},document,this)},widget.pe.AttachmentEditor.prototype.setImpl=function(t){this.attachmentId=t,this.displaySpan.innerHTML=this.getDisplayText(this.attachmentId),this.removeButton.style.display=this.attachmentId?"inline-block":"none",this.uploadButton.innerHTML=this.attachmentId?Messages.change:Messages.upload_label},widget.pe.AttachmentEditor.prototype.getImpl=function(){return this.attachmentId},widget.pe.AttachmentEditor.prototype.useHtmlForDisplayText=function(){return!0},widget.pe.AttachmentEditor.prototype.getDisplayText=function(t){if(t){var e=t;return e.match(/^([^#]+)#[0-9]+$/)&&(e=RegExp.$1),'<a href="'+(CONTEXT_PATH+"/amw/download?fileName="+encodeURIComponent(t))+'" target="_blank">'+Dom.htmlEncode(e)+"</a>"}return""},widget.pe.StaticLocationEditor=function(t,e){this.options=e||{},this.init(t);function i(){new StaticLocationEditDialog(o.fixedLocation?o.fixedLocation.assetId:null,o.fixedLocation,function(t){o.setValue(t,!1)}).open()}var o=this;Dom.registerEvent(this.staticCheckBox,"click",function(){o.staticCheckBox.checked?o.fixedLocation||i():o.setValue(null,!1)}),Dom.registerEvent(this.locationLink,"click",function(){i()})},widget.pe.StaticLocationEditor.prototype=new widget.pe.BaseEditor,widget.pe.StaticLocationEditor.prototype.createEditor=function(){var t=widget.random();return Dom.newDOMElement({_name:"div",class:"LocationEditor",_children:[{_name:"input",type:"checkbox",id:t,_id:"staticCheckBox"},{_name:"label",for:t,_text:Messages.static_location_label,style:"margin-left: 0.5ex; margin-right: 1ex; font-weight: normal;",_id:"staticLabel"},{_name:"a",href:"#",_id:"locationLink",_html:Messages.static_select_location_button}]},document,this)},widget.pe.StaticLocationEditor.prototype.getImpl=function(){return this.fixedLocation},widget.pe.StaticLocationEditor.prototype.setImpl=function(t){this.fixedLocation=t,this.staticCheckBox.checked=null!=this.fixedLocation,this.staticLabel.innerHTML=null!=this.fixedLocation?Messages.static_location_label:Messages.select_location_title,this.locationLink.innerHTML=this.fixedLocation?this.fixedLocation.name?this.fixedLocation.name:Messages.change_location_button:""},widget.pe.StaticLocationEditor.prototype.getDisplayText=function(t){return""},widget.pe._getStrongTypeEditorValue=function(t,e,i,o){var n=t.getValue();if(null==n)return n;if(n instanceof Array){for(var s=0;s<n.length;s++)i?n[s]={id:n[s].id,clazz:e}:n[s].clazz=e;n=new _List(o?null:"list",e,n)}else i?n={id:n.id,clazz:e}:n.clazz=e;return n},widget.pe.validationRegistry={required:function(t,e,i){return t instanceof String&&!t||null==t?"Please enter the $TITLE.":null},maxLength:function(t,e,i){return t&&t.length>e?"Please enter the $TITLE with maximum "+e+" characters.":null},patternMatched:function(t,e,i){}},__extend(BaseWidget,RepeaterView),RepeaterView.prototype.buildDOMNode=function(t){var e="hbox";return t&&(e=t.getAttribute("tag")||e),document.createElement(e)},RepeaterView.prototype.setContentFragment=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];if(i.getAttribute){var o=i.getAttribute("role");"header"==o?this.headerTemplate=i:"footer"==o?this.footerTemplate=i:"empty"==o?this.emptyTemplate=i:this.itemTemplate=i}}},RepeaterView.prototype.createBinding=function(e){e._binding={},e._binding._node=e,Dom.doOnChildRecursively(e,{eval:function(t){return t.getAttribute&&t.getAttribute("anon-id")}},function(t){e._binding[t.getAttribute("anon-id")]=t.__widget||t})},RepeaterView.prototype.generate=function(t,e,i){var o=e.cloneNode(!0);return this.createBinding(o),t.appendChild(o),this.populator&&void 0!==i&&this.populator(i,o._binding,o),o},RepeaterView.prototype.setItems=function(t){if(this.items=t,Dom.empty(this.node()),!t||t.length<=0)this.emptyTemplate&&this.node().appendChild(this.generate(this.node(),this.emptyTemplate));else{this.headerTemplate&&this.generate(this.node(),this.headerTemplate);var e=this.node();if(this["content-wrapper-tag"]&&(e=document.createElement(this["content-wrapper-tag"]),Dom.addClass(e,"ContentWrapper"),this.node().appendChild(e)),this.itemTemplate)for(var i=0;i<t.length;i++)this.generate(e,this.itemTemplate,t[i]);this.footerTemplate&&this.generate(this.node(),this.footerTemplate)}},__extend(BaseTemplatedWidget,RichTextEditor),RichTextEditor.prototype.onAttached=function(){var e=this;this.editor=CKEDITOR.replace(this.contentInput,{toolbarGroups:[{name:"basicstyles",groups:["styles","basicstyles","colors","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align"]},"/",{name:"links",groups:["links"]},{name:"insert",groups:["insert"]},{name:"clipboard",groups:["clipboard"]},{name:"editing",groups:["find","selection","spellchecker","editing"]}],removeButtons:"Styles,SelectAll,Cut,Copy,Paste,Flash,Smiley,SpecialChar,PageBreak,Iframe",removePlugins:"elementspath,resize",allowedContent:!0,entities_latin:!1,entities_greek:!1,contentsCss:["/framework/webui/framework/js/widget/RichTextEditor-content.less"]}),this.editor.on("instanceReady",function(){var t=e.editor.editable();t.attachListener(t,"input",function(){e.onSizeChanged()}),t.attachListener(t,"keyup",function(t){t.data.$.keyCode!=DOM_VK_ESCAPE?e.onSizeChanged():BaseWidget.handleClosableEscapeKey(t.data.$)}),window.setTimeout(function(){e.editSourceButton.parentNode.removeChild(e.editSourceButton),e.getEditorToolbar().appendChild(e.editSourceButton),e.initialized=!0,e.pendingContent&&(e.setContent(e.pendingContent),e.pendingContent=null),window.setTimeout(function(){Dom.addClass(e.node(),"Initialized"),Dom.emitEvent(RichTextEditor.EDITOR_INITIALIZED_EVENT_NAME,e.node(),{}),e.editor.on("change",function(){Dom.emitEvent(RichTextEditor.TEXT_CHANGE_EVENT_NAME,e.node(),{})})},100)},100)}),Dom.addClass(this.node(),"ScrollerInstalled"),window.setTimeout(function t(){try{e.onSizeChanged()}finally{window.setTimeout(t,1e3)}},500)},RichTextEditor.prototype.getFocusNode=function(){return this.editor.container},RichTextEditor.prototype.setContent=function(t,e){t=t||"",this.initialized?(this.editor.setData(t.html?t.html:t),this.contentCSS=t.css||"",this.applyCSS(this.contentCSS),this.onSizeChanged()):this.pendingContent=t},RichTextEditor.prototype.getContent=function(){return this.editor.getData()},RichTextEditor.prototype.getContentStylesheet=function(){return this.contentCSS},RichTextEditor.prototype.getTextContent=function(){return this.getContent().replace(/<[^>]*>/g,"")},RichTextEditor.prototype.onIframeInitialized=function(t){this.editor=t,this.onSizeChanged(this.editor),this.initialized=!0,Dom.emitEvent(RichTextEditor.EDITOR_INITIALIZED_EVENT_NAME,this.node(),{});var e=this;this.editor.on(RichTextEditor.TEXT_CHANGE_EVENT_NAME,function(){Dom.emitEvent(RichTextEditor.TEXT_CHANGE_EVENT_NAME,e.node(),{})})},RichTextEditor.prototype.getEditorFrame=function(){return this.node().querySelector(":scope iframe")},RichTextEditor.prototype.getEditorToolbar=function(){return this.node().querySelector(":scope .cke_top")},RichTextEditor.prototype.onSizeChanged=function(){var t=this.getEditorFrame(),e={width:this.editor.document.$.body.scrollWidth,height:this.editor.document.$.body.scrollHeight+5};e.height!=this.lastContentHeight&&(t.parentNode.style.height=Math.max(e.height,200)+"px",this.updateScrolling("bringSelectionIntoView"),this.lastContentHeight=e.height)},RichTextEditor.prototype.getSelectionBoundingRect=function(t){try{var e=this.getEditorFrame().contentWindow.getSelection().getRangeAt(0);return 0<e.getClientRects().length?e.getBoundingClientRect():e.startContainer.getBoundingClientRect()}catch(t){return null}},RichTextEditor.CLASS_TOOLBAR_SHIFTED="ToolbarShifted",RichTextEditor.prototype.shiftToolbar=function(t,e){var i=this.getEditorToolbar();if(this.toolbarPadding.style.height=i.offsetHeight+5+"px",0<t){if(!Dom.hasClass(this.node(),RichTextEditor.CLASS_TOOLBAR_SHIFTED)){var o=e.getBoundingClientRect(),n=this.node().getBoundingClientRect(),s=document.body.getBoundingClientRect();Dom.addClass(this.node(),RichTextEditor.CLASS_TOOLBAR_SHIFTED),i.style.top=o.top+"px",i.style.left=n.left+"px",i.style.right=s.width-n.right+"px"}}else Dom.removeClass(this.node(),RichTextEditor.CLASS_TOOLBAR_SHIFTED),i.style.top="0px",i.style.width="auto"},RichTextEditor.prototype.updateScrolling=function(t){var e=Dom.findUpward(this.node(),function(t){return t.scrollHeight>t.offsetHeight});if(e){var i=this.node().getBoundingClientRect(),o=e.getBoundingClientRect();if(t){var n=this.getSelectionBoundingRect();if(n){var s=3*Util.em(),a=n.top+this.getEditorFrame().getBoundingClientRect().top,r=a+s-(o.top+o.height);0<r?e.scrollTop+=r:0<(r=o.top+this.getEditorToolbar().offsetHeight-a+s)&&(e.scrollTop-=r),i=this.node().getBoundingClientRect()}}var l=o.top-i.top;this.shiftToolbar(Math.max(l-1,0),e),this.scrollPaneWatched||(Dom.registerEvent(e,"scroll",function(){this.updateScrolling()}.bind(this),!1),this.scrollPaneWatched=!0)}else this.shiftToolbar(0)},RichTextEditor.prototype.applyCSS=function(t){this.styleNode&&this.styleNode.parentNode.removeChild(this.styleNode);var e=this.editor.document.$,i=e.head||e.getElementsByTagName("head")[0],o=e.createElement("style");o.type="text/css",o.styleSheet&&(o.styleSheet.cssText=""),i.appendChild(o),o.appendChild(e.createTextNode(t)),this.styleNode=o},RichTextEditor.prototype.onSourceButtonClicked=function(){(new RichTextEditorAdvancedDialog).callback(function(t){t&&(this.setContent(t),Dom.emitEvent(RichTextEditor.TEXT_CHANGE_EVENT_NAME,this.node(),{}))}.bind(this)).open({html:this.getContent(),css:this.getContentStylesheet()})},RichTextEditor.TEXT_CHANGE_EVENT_NAME="text-change",RichTextEditor.EDITOR_INITIALIZED_EVENT_NAME="p:ItemInitialized",__extend(BaseTemplatedWidget,SelectBox),SelectBox.MODE_DROPDOWN="dropdown",SelectBox.MODE_CHECK="check",SelectBox.DIRECTION_ROW="row",SelectBox.DIRECTION_COLUMN="column",SelectBox.DISPLAY_STATUS_JOINTEXT="join_text",SelectBox.DISPLAY_STATUS_TOTAL="total",SelectBox.OPTION_ROLE_OPTION="option",SelectBox.OPTION_ROLE_HANDLE="handle",SelectBox.HANDLE_TYPE_SELECTALL="selectall",SelectBox.HANDLE_TYPE_SEPERATOR="seperator",SelectBox.prototype.setContentFragment=function(t){for(var e=[],i=0;i<t.childNodes.length;i++){var o=t.childNodes[i];if(o&&o.nodeType==Node.ELEMENT_NODE)"option"==o.localName&&e.push(o)}this.setup(e)},SelectBox.prototype.setup=function(t){if(this.data=this.getData?this.getData():[],this.options=this.parseData?this._parseData(this.data):this._parseOptions(t),this.name=Dom.getAttributeAsString(this.node(),"anon-id",this.name),this.multipleSelect=Dom.getAttributeAsBoolean(this.node(),"multiple-select",this.multipleSelect),this.displayStatus=Dom.getAttributeAsString(this.node(),"display-status",this.displayStatus),this.mode=Dom.getAttributeAsString(this.node(),"mode",3<this.options.length?SelectBox.MODE_DROPDOWN:this.mode),this.direction=this.mode==SelectBox.MODE_DROPDOWN?SelectBox.DIRECTION_COLUMN:Dom.getAttributeAsString(this.node(),"direction",this.direction),this.getConfigs){var e=this.getConfigs();e.name&&(this.name=e.name),e.mode&&(this.mode=e.mode),e.direction&&(this.direction=e.direction),e.multipleSelect&&(this.multipleSelect=e.multipleSelect),e.displayStatus&&(this.displayStatus=e.displayStatus),e.optionSelectAll&&(this.optionSelectAll=e.optionSelectAll),e.optionSelectAllText&&(this.optionSelectAllText=e.optionSelectAllText),e.filterBox&&(this.filterBox=e.filterBox),e.filterHintText&&(this.filterHintText=e.filterHintText)}this.getName&&(this.name=this.getName()),this.getMultipleSelect&&(this.multipleSelect=this.getMultipleSelect()),this.getMode&&(this.mode=this.getMode()),this.mode==SelectBox.MODE_DROPDOWN&&this.bind("click",function(t){if(0==this.multipleSelect&&"INPUT"==t.target.tagName&&this.popupContainer.close(),1==this.multipleSelect&&"INPUT"==t.target.tagName){var e=Dom.findChild(this.optionBox,{eval:function(t){return Dom.getAttributeAsString(t,"role")==SelectBox.OPTION_ROLE_HANDLE&&Dom.getAttributeAsString(t,"handle")==SelectBox.HANDLE_TYPE_SELECTALL}},!0);t.target===e&&this.setAllOptionSelected(e.checked),this._setSelectedStatus(),this.onSelectionChanged(!0)}},this.optionBox),this._install()},SelectBox.prototype._install=function(){if(Dom.addClass(this.optionBox,this.direction==SelectBox.DIRECTION_ROW?"HBox":"VBox"),Dom.addClass(this.node(),this.mode),this.optionBox.innerHTML="",this.filterBox){var t=this._createFilterBox();this.bind("change",this._onKeywordInput.bind(this),t),Dom.append(t,this.optionBox),Dom.append(this._createSeperator(),this.optionBox)}this.optionSelectAll&&(Dom.append(this._createOptionSelectAll(),this.optionBox),Dom.append(this._createSeperator(),this.optionBox));for(var e=0;e<this.options.length;e++){var i=this.options[e];if(i.role==SelectBox.OPTION_ROLE_HANDLE)if(i.type==SelectBox.HANDLE_TYPE_SELECTALL){if(this.multipleSelect){var o=this._createOptionElement(i,"checkbox");this.bind("mouseenter",this._handleMouseEnter,o),Dom.append(o,this.optionBox)}}else i.type==SelectBox.HANDLE_TYPE_SEPERATOR&&Dom.append(this._createSeperator(),this.optionBox);else{o=this._createOptionElement(i,this.multipleSelect?"checkbox":"radio");this.bind("mouseenter",this._handleMouseEnter,o),Dom.append(o,this.optionBox)}}this.mode==SelectBox.MODE_DROPDOWN&&(this.popupContainer.setContentFragment(this.optionBox),this.bind("keypress",this._handleKeyPress.bind(this),this.optionBox),this._setSelectedStatus())},SelectBox.prototype.onSelectionChanged=function(t){Dom.emitEvent("p:SelectionChanged",this.node(),{}),this._options&&this._options.onSelectionChanged&&this._options.onSelectionChanged(t)},SelectBox.prototype.setAllOptionSelected=function(t){for(var e=Dom.findChildrenByTagName(this.optionBox,"input",!0),i=0;i<e.length;i++)e[i].checked=t},SelectBox.prototype.isAllOptionSelected=function(){for(var t=this.optionBox.querySelectorAll("input[type=checkbox]"),e=0;e<t.length;e++){var i=t[e];if(Dom.getAttributeAsString(i,"role")!=SelectBox.OPTION_ROLE_HANDLE&&!i.checked)return!1}return!0},SelectBox.prototype.countSelectedOption=function(){return Dom.findChildren(this.optionBox,{eval:function(t){return"input"==t.tagName&&Dom.getAttributeAsString(t,"role")!=SelectBox.OPTION_ROLE_HANDLE&&t.checked}},!0).length},SelectBox.prototype.getValues=function(){for(var t=Dom.getTags("input",this.optionBox),e=[],i=0;i<t.length;i++){var o=t[i];1==o.checked&&Dom.getAttributeAsString(o,"role")!=SelectBox.OPTION_ROLE_HANDLE&&e.push(o.value)}return e},SelectBox.prototype.getValue=function(){for(var t=Dom.getTags("input",this.optionBox),e=0;e<t.length;e++){var i=t[e];if(1==i.checked&&Dom.getAttributeAsString(i,"role")!=SelectBox.OPTION_ROLE_HANDLE)return i.value}return null},SelectBox.prototype.getSelectedData=function(){for(var t=Dom.getTags("input",this.optionBox),e=[],i=0;i<t.length;i++){var o=t[i];1==o.checked&&Dom.getAttributeAsString(o,"role")!=SelectBox.OPTION_ROLE_HANDLE&&e.push(o._data)}return e},SelectBox.prototype.getSelectedOptionText=function(){for(var t=Dom.getTags("input",this.optionBox),e=[],i=0;i<t.length;i++){var o=t[i];1==o.checked&&Dom.getAttributeAsString(o,"role")!=SelectBox.OPTION_ROLE_HANDLE&&e.push(o.nextSibling.textContent)}return e},SelectBox.prototype.setValueSelected=function(t,e){var i=Dom.getTags("input",this.optionBox);if(!this.multipleSelect)for(var o in i)i[o].checked=!1;for(o=0;o<i.length;o++){var n=i[o];if(n.value==t){n.checked=e;break}}this._setSelectedStatus()},SelectBox.prototype.onDetached=function(){document.body.removeChild(this.popupContainer.popupContainer)},SelectBox.prototype._setSelectedStatus=function(){var t="",e=this.getSelectedOptionText(),i=Dom.findChild(this.optionBox,{eval:function(t){return Dom.getAttributeAsString(t,"role")==SelectBox.OPTION_ROLE_HANDLE&&Dom.getAttributeAsString(t,"handle")==SelectBox.HANDLE_TYPE_SELECTALL}},!0);if(this.multipleSelect)if(this.isAllOptionSelected()&&i){i.checked=!0;var o=Dom.findParentWithClass(i,"OptionContainer");t=Dom.getTag("label",o).textContent+String.format("({0})",e.length)}else i&&(i.checked=!1),t=1<e?String.format("{0} items are selected",e.length):String.format("{0} item is selected",e.length);else t=e[0];this.displayStatus!=SelectBox.DISPLAY_STATUS_TOTAL&&(t=i&&i.checked?i.nextSibling.textContent:e.length?e.join(", "):"0 item is selected",this.statusBox.title=t),this.statusItem.textContent=t},SelectBox.prototype._parseData=function(t){for(var e=[],i=0;i<t.length;i++){var o=this.parseData(t[i]);o._data=t[i],e.push(o)}return e},SelectBox.prototype._parseOptions=function(t){for(var e=[],i=0;i<t.length;i++){var o=t[i],n={};n.value=o.value,n.text=Dom.getAttributeAsString(o,"text",""),n.checked=Dom.getAttributeAsBoolean(o,"checked",!1),n.role=Dom.getAttributeAsString(o,"role","option"),n.type=Dom.getAttributeAsString(o,"type",""),n._data=o,e.push(n)}return e},SelectBox.prototype._createOptionElement=function(t,e){var i=document.createElement("hbox");Dom.addClass(i,"OptionContainer Item");var o=document.createElement("input");o.type=e,o.value=t.value,o.checked=t.checked,o.id=this.name+"_"+widget.random(),o.name=this.name,o.setAttribute("role",t.role),o.setAttribute("handle",t.type),o._data=t._data;var n=document.createElement("label");return n.textContent=t.text,n.setAttribute("for",o.id),Dom.append(o,i),Dom.append(n,i),i},SelectBox.prototype._createFilterBox=function(){var t=Dom.newDOMElement({_name:"input",type:"text",id:this.name+"_"+widget.random(),placeholder:this.filterHintText,role:"handle",handle:"filter"});Dom.newDOMElement({_name:"icon",class:"magnify"});return t},SelectBox.prototype._createOptionSelectAll=function(){var t=document.createElement("hbox");Dom.addClass(t,"OptionContainer Item");var e=document.createElement("input");e.type="checkbox",e.value="",e.checked=!1,e.id=this.name+"_"+widget.random(),e.name=this.name,e.setAttribute("role",SelectBox.OPTION_ROLE_HANDLE),e.setAttribute("handle",SelectBox.HANDLE_TYPE_SELECTALL);var i=document.createElement("label");return i.textContent=""!=this.optionSelectAllText?"Select All":this.optionSelectAllText,i.setAttribute("for",e.id),i.setAttribute("flex",1),Dom.append(e,t),Dom.append(i,t),t},SelectBox.prototype._createSeperator=function(){return Dom.newDOMElement({_name:"hr",disabled:!0})},SelectBox.prototype._findByData=function(t,e){return this.filter(t._data,e)},SelectBox.prototype._findByOptionText=function(t,e){return Dom.getTag("label",t).textContent.startsWith(e)},SelectBox.prototype._onKeywordInput=function(t){for(var e=t.target.value,i=Dom.findChildrenWithClass(this.optionBox,"OptionContainer",!1),o=0;o<i.length;o++){var n=i[o];Dom.getAttributeAsString(n,"role")!=SelectBox.OPTION_ROLE_HANDLE&&(this.filter?this._findByData(n,e)||Dom.addClass(n,"Hidden"):this._findByOptionText(n,e)||Dom.addClass(n,"Hidden"))}},SelectBox.prototype._handleMouseEnter=function(t){var e=t.target;e!=Dom.findChildWithClass(parent,"Focus")&&this._focusElement(e)},SelectBox.prototype._handleKeyPress=function(t){var e=Dom.findChildWithClass(this.optionBox,"Focus");switch(t.keyCode){case DOM_VK_SPACE:case 0:break;case DOM_VK_UP:(i=e?e.previousSibling:Dom.findFirstChildWithClass(this.optionBox,"OptionContainer"))&&(Dom.cancelEvent(t),this._focusElement(i));break;case DOM_VK_DOWN:var i;(i=e?e.nextSibling:Dom.findFirstChildWithClass(this.optionBox,"OptionContainer"))&&(Dom.cancelEvent(t),this._focusElement(i))}},SelectBox.prototype._focusElement=function(t){var e=Dom.findChildWithClass(this.optionBox,"Focus");e&&Dom.removeClass(e,"Focus"),Dom.addClass(t,"Focus"),Dom.getTag("input",t).focus()},__extend(BaseTemplatedWidget,SnackBar),SnackBar.prototype.setup=function(t,e,i,o,n,s){Dom.addClass(this.icon,o||"checkbox-marked-circle"),Dom.setInnerText(this.message,t),Dom.toggleClass(this.node(),"WithExtraMessage",!!n),Dom.setInnerText(this.extraMessage,n||""),Dom.toggleClass(this.node(),"WithAction",!!e),Dom.setInnerText(this.actionButton,e),this.actionHandler=i,Dom.toggleClass(this.node(),"Closable",!!s),this.closable=s},SnackBar.prototype.onActionClick=function(){this.actionHandler&&(this.actionHandler(),this.close())},SnackBar.prototype.close=function(){window.clearTimeout(this.closeTimeout);var t=this.node();t.style.top="-"+Math.ceil(t.offsetHeight/Util.em())+"em",t.style.opacity="0",window.setTimeout(function(){t.parentNode.removeChild(t)},350)},SnackBar.show=function(t,e,i,o,n,s){var a=new SnackBar;a.setup(t,e,i,o,n,s),Dom.addClass(a.node(),"Floating"),a.node().style.position="absolute",a.node().style.opacity="0",a.node().style.visibility="hidden",a.node().style.transition="top 0.3s ease, opacity 0.3s ease",a.into(document.body);var r=Math.ceil(a.node().offsetHeight/Util.em()),l=a.node().offsetWidth;a.node().style.top="-"+r+"em",a.node().style.left=Math.round((document.body.offsetWidth-l)/2)+"px",window.setTimeout(function(){a.node().style.visibility="visible",a.node().style.top="1em",a.node().style.opacity="1",a.closeTimeout=window.setTimeout(function(){a.close()},e?7e3:5e3)},10)},__extend(BaseTemplatedWidget,TabControl),__extend(BaseTemplatedWidget,ViewTag);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRpYWxvZy5qcyIsIkFjdGlvbkJhci5qcyIsIkltYWdlVXBsb2FkZXIuanMiLCJNZW51R3JvdXAuanMiLCJOdW1QYWQuanMiLCJQb3B1cC5qcyIsIlJlcGVhdGVyVmlldy5qcyIsIlJpY2hUZXh0RWRpdG9yLmpzIiwiU2VsZWN0Qm94LmpzIiwiU25hY2tCYXIuanMiLCJUYWJDb250cm9sLmpzIiwiVmlld1RhZy5qcyIsIlByb3BlcnR5RWRpdG9yLmpzIl0sIm5hbWVzIjpbIkRpYWxvZyIsIkJhc2VUZW1wbGF0ZWRXaWRnZXQiLCJjYWxsIiwidGhpcyIsImJpbmQiLCJoYW5kbGVBY3Rpb25DbGljayIsImRpYWxvZ0Zvb3RlciIsImhhbmRsZUNsb3NlQ2xpY2siLCJkaWFsb2dDbG9zZSIsImhhbmRsZUhlYWRlck1vdXNlRG93biIsImRpYWxvZ0hlYWRlclBhbmUiLCJoYW5kbGVCb2R5S2V5UHJlc3MiLCJkaWFsb2dCb2R5IiwiZW5zdXJlR2xvYmFsSGFuZGxlcnMiLCJ3aWRnZXQiLCJBY3Rpb25CYXIiLCJhY3Rpb25CYXJDbGlja0hhbmRsZXIiLCJldmVudCIsInRhcmdldCIsIkRvbSIsImdldFRhcmdldCIsImJ1dHRvbiIsImZpbmRVcHdhcmQiLCJldmFsIiwibiIsIl9hY3Rpb24iLCJkaXNhYmxlZCIsImNhbmNlbEV2ZW50IiwicnVuIiwiY29udGFpbmVyIiwiZ2V0IiwiYWN0aW9ucyIsImJ1dHRvbkdyb3VwRGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYWRkQ2xhc3MiLCJhcHBlbmRDaGlsZCIsInJlZ2lzdGVyRXZlbnQiLCJwcm90b3R5cGUiLCJyZWdpc3RlciIsImFjdGlvbiIsInB1c2giLCJpbnZhbGlkYXRlIiwiaW5uZXJIVE1MIiwiaSIsImxlbmd0aCIsImlzVmlzaWJsZSIsImlzQXBwbGljYWJsZSIsInNldEF0dHJpYnV0ZSIsImdldEljb24iLCJodG1sRW5jb2RlIiwiZ2V0VGl0bGUiLCJfX2V4dGVuZCIsIkFDVElPTl9DQU5DRUwiLCJ0eXBlIiwidGl0bGUiLCJBQ1RJT05fQ0xPU0UiLCJnbG9iYWxIYW5kbGVyc1JlZ2lzdGVyZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2xvYmFsTW91c2VNb3ZlSGFuZGxlciIsImhlbGRJbnN0YW5jZSIsImNhbkNsb3NlTm93IiwiY2xvc2VIYW5kbGVyIiwiYXBwbHkiLCJnZXRGcmFtZVRlbXBsYXRlIiwiY29uc29sZSIsImxvZyIsImdldFRlbXBsYXRlUHJlZml4IiwiYnVpbGRET01Ob2RlIiwiZnJhbWVUZW1wbGF0ZSIsIm5vZGUiLCJVdGlsIiwibG9hZFRlbXBsYXRlQXNOb2RlU3luYyIsImNvbnRlbnROb2RlIiwiYnVpbGRDb250ZW50Tm9kZSIsImdldFRlbXBsYXRlUGF0aCIsIm9wZW4iLCJvcHRpb25zIiwic2V0dXAiLCJpbnZhbGlkYXRlRWxlbWVudHMiLCJCYXNlV2lkZ2V0IiwiaGFuZGxlR2xvYmFsTW91c2VEb3duIiwic2hvdyIsIkRJQUxPR19CVVRUT05fT1JERVIiLCJhY2NlcHQiLCJjYW5jZWwiLCJleHRyYTEiLCJleHRyYTIiLCJleHRyYTMiLCJCdWlsZGVyQmFzZWREaWFsb2ciLCJidWlsZGVyIiwiX2RpYWxvZyIsImdldERpYWxvZ0FjdGlvbnMiLCJwb3NpdGl2ZUhhbmRsZXIiLCJwcmltYXJ5QnV0dG9uIiwiZm9yRWFjaCIsImEiLCJpc1ZhbGlkIiwib3JkZXIiLCJzb3J0IiwiYTEiLCJhMiIsImVtcHR5IiwiZGlhbG9nRm9vdGVyU3RhcnRQYW5lIiwiZGlhbG9nRm9vdGVyTWlkZGxlUGFuZSIsImRpYWxvZ0Zvb3RlckVuZFBhbmUiLCJjcmVhdGVCdXR0b24iLCJkaWFsb2dUaXRsZSIsImNyZWF0ZVRleHROb2RlIiwiZSIsImRpYWxvZ1N1YlRpdGxlIiwic3ViVGl0bGUiLCJzdHlsZSIsImRpc3BsYXkiLCJpY29uIiwidGV4dCIsImlzRW5hYmxlZCIsIl9vcmlnaW5hbEZvY3VzZWRUYXJnZXQiLCJsYXN0Rm9jdXNlZFRhcmdldCIsImRpYWxvZ0ZyYW1lIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwib3ZlcmxheSIsIm93bmVyRG9jdW1lbnQiLCJib2R5IiwibGVmdCIsInRvcCIsInBvc2l0aW9uIiwidmlzaWJpbGl0eSIsImhlaWdodCIsIm92ZXJmbG93Iiwib3BhY2l0eSIsInRyYW5zaXRpb24iLCJ0aGl6Iiwic2V0VGltZW91dCIsInNjcmVlblciLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwic2NyZWVuSCIsImlubmVySGVpZ2h0IiwieCIsIm9mZnNldFdpZHRoIiwieSIsIm9mZnNldEhlaWdodCIsIm1vdmVUbyIsImZvY3VzIiwib25TaG93biIsInJlZ2lzdGVyQ2xvc2FibGUiLCJNYXRoIiwibWF4IiwiZGlhbG9nWCIsImRpYWxvZ1kiLCJtb3ZlQnkiLCJkeCIsImR5IiwiY2xvc2UiLCJhcmdzIiwiYXJndW1lbnRzIiwiY2FsbGJhY2siLCJvbkNsb3NlZCIsInVucmVnaXN0ZXJDbG9zYWJsZSIsImZpbmRVcHdhcmRGb3JEYXRhIiwic2NyZWVuWCIsIl9sYXN0U2NyZWVuWCIsInNjcmVlblkiLCJfbGFzdFNjcmVlblkiLCJnbG9iYWxGb2N1c0hhbmRsZXIiLCJjbG9zYWJsZXMiLCJjbG9zYWJsZSIsIl9faXNTdWJDbGFzc09mIiwiY29uc3RydWN0b3IiLCJrZXlDb2RlIiwiRE9NX1ZLX1JFVFVSTiIsImxvY2FsTmFtZSIsImNsaWNrIiwiRElBTE9HX1NJWkVfU1BFQ1MiLCJ0aW55IiwibWluaSIsInNtYWxsZXIiLCJzbWFsbCIsIm5vcm1hbCIsImxhcmdlIiwic2xpZ2h0bHktbGFyZ2VyIiwibGFyZ2VyIiwiaHVnZSIsImRpdiIsInNpemUiLCJlbSIsIndpZHRoIiwiYnVpbGRDb250ZW50IiwiX25ld0xlZ2FjeUFjdGlvbiIsImlzQ2xvc2VIYW5kbGVyIiwicHJpbWFyeSIsIm1hcCIsInF1aXQiLCJoYXNPcGVuRGlhbG9nIiwiYWxlcnQiLCJtZXNzYWdlIiwiZXh0cmEiLCJvbkNsb3NlIiwibmV3RE9NRWxlbWVudCIsIl9uYW1lIiwiY2xhc3MiLCJfY2hpbGRyZW4iLCJmbGV4IiwiX3RleHQiLCJlcnJvciIsInByb21wdCIsImluaXRpYWxWYWx1ZSIsImFjY2VwdE1lc3NhZ2UiLCJvbklucHV0IiwiY2FuY2VsTWVzc2FnZSIsIm9uQ2FuY2VsIiwicCIsImlucHV0IiwidmFsdWUiLCJjb25maXJtIiwicXVlc3Rpb24iLCJwb3NpdGl2ZUFjdGlvblRpdGxlIiwib25Qb3NpdGl2ZUFuc3dlciIsIm5lZ2F0aXZlQWN0aW9uVGl0bGUiLCJvbk5lZ2F0aXZlQW5zd2VyIiwiZXh0cmFBY3Rpb25UaXRsZSIsIm9uRXh0cmFBY3Rpb25BbnN3ZXIiLCJzZWxlY3QiLCJpdGVtcyIsInNlbGVjdGVkSXRlbXMiLCJzYW1lIiwic2FtZVJlbGF4IiwiZm9ybWF0dGVyIiwiY29sdW1ucyIsInRleHRBbGlnbiIsImlucHV0cyIsImlkIiwicmFuZG9tIiwiaG9sZGVyIiwic3BhbiIsIl9pZCIsImZvciIsIl9odG1sIiwiY2hlY2tib3giLCJfaXRlbSIsImNoZWNrZWQiLCJjb250YWlucyIsImNvbHVtbldpZHRoIiwibWFyZ2luTGVmdCIsInNlbGVjdEFjdGlvblRpdGxlIiwic2VsZWN0ZWQiLCJGSUxFX1NJWkUiLCJNZW51R3JvdXAiLCJOdW1QYWQiLCJQb3B1cCIsImZvcmNlSW5zaWRlIiwidXNlWkluZGV4IiwidmlzaWJsZSIsIlJlcGVhdGVyVmlldyIsImRlZmluaXRpb25Ob2RlIiwiUmljaFRleHRFZGl0b3IiLCJEYXRlIiwiZ2V0VGltZSIsImluaXRpYWxpemVkIiwicGVuZGluZ0NvbnRlbnQiLCJlZGl0b3JFdmVudEhhbmRsZXJzIiwiY29udGVudENTUyIsIm9uU291cmNlQnV0dG9uQ2xpY2tlZCIsImVkaXRTb3VyY2VCdXR0b24iLCJTZWxlY3RCb3giLCJuYW1lIiwibW9kZSIsIk1PREVfQ0hFQ0siLCJkaXJlY3Rpb24iLCJESVJFQ1RJT05fUk9XIiwibXVsdGlwbGVTZWxlY3QiLCJkaXNwbGF5U3RhdHVzIiwiRElTUExBWV9TVEFUVVNfSk9JTlRFWFQiLCJvcHRpb25TZWxlY3RBbGwiLCJvcHRpb25TZWxlY3RBbGxUZXh0IiwiZmlsdGVyQm94IiwiZmlsdGVySGludFRleHQiLCJwb3B1cENvbnRhaW5lciIsIm9uSGlkZSIsIk1PREVfRFJPUERPV04iLCJfc2V0U2VsZWN0ZWRTdGF0dXMiLCJoaWRlIiwic3RhdHVzQm94IiwiX2ZvY3VzRWxlbWVudCIsImZpbmRGaXJzdENoaWxkV2l0aENsYXNzIiwib3B0aW9uQm94IiwiU25hY2tCYXIiLCJjbG9zZUJ1dHRvbiIsIm9uQWN0aW9uQ2xpY2siLCJhY3Rpb25CdXR0b24iLCJUYWJDb250cm9sIiwiVmlld1RhZyIsIkltYWdlVXBsb2FkZXIiLCJpbWFnZVVwbG9hZGVyQ2xpY2tIYW5kbGVyIiwiaW1hZ2VVcGxvYWRlciIsImZpbmRJbnN0YW5jZSIsIk1lc3NhZ2VzIiwib3B0aW9uIiwidGlwIiwib2JqZWN0IiwiY3JlYXRlVXBsb2FkRm9ybSIsImZvcm0iLCJpZnJhbWUiLCJwaWNrZXIiLCJvbk9wZW4iLCJkYXRhIiwiZ2V0SWZyYW1lRG9jdW1lbnQiLCJpbmRleE9mIiwiaXNNb2RpZmllZCIsInNldEltYWdlIiwiZmlsZUV4dCIsInNwbGl0IiwicG9wIiwidG9Mb3dlckNhc2UiLCJmaWxlcyIsIlN0cmluZyIsImZvcm1hdCIsInN1Ym1pdCIsImltYWdlUmVtb3ZlckNsaWNrSGFuZGxlciIsImZhbGxiYWNrVXJsIiwiaW1hZ2VEaXNwbGF5IiwiX2ZhbGxiYWNrUmVxdWVzdGVkIiwicmVtb3ZlIiwiQ09OVEVYVF9QQVRIIiwiZW50aXR5VHlwZSIsImVudGl0eUlkIiwid3JhcHBlciIsImNsYXNzTmFtZSIsIl9pbWFnZVVwbG9hZGVyIiwiZWRpdGFibGUiLCJpbWFnZVBpY2tlciIsImltYWdlRWRpdG9yIiwic21hbGxBcmVhIiwiaW1hZ2VSZXBsYWNlciIsImhyZWYiLCJpbWFnZVJlbW92ZXIiLCJjZW50ZXJQaWNrZXIiLCJjb250YWluZXJCb3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJwaWNrZXJCb3giLCJtYXJnaW5Ub3AiLCJ1cmwiLCJzcmMiLCJvbmxvYWQiLCJjZW50ZXJDcm9wIiwib25lcnJvciIsInJlbW92ZUNsYXNzIiwic2hvd0ZhbGxiYWNrIiwiZW5hYmxlRWRpdE1vZGUiLCJkaXNhYmxlRWRpdE1vZGUiLCJaX0lOREVYIiwib25BdHRhY2hlZCIsInJlcGFyZW50Iiwic2V0UG9wdXBDbGFzcyIsImNsYXp6IiwiY2xvc2VVcHdhcmQiLCJkb250Q2xvc2VVcHdhcmQiLCJfcGFyZW50Iiwic2hvdWxkQ2xvc2VPbkJsdXIiLCJjaGVja1RvQ2xvc2VQYXJlbnQiLCJlbGVtZW50IiwiaGFuZGxlciIsInBvcHVwIiwiX2tlZXBTaG93aW5nIiwic2V0Q29udGVudEZyYWdtZW50IiwiZnJhZ21lbnQiLCJ0b2dnbGUiLCJhbmNob3IiLCJoQWxpZ24iLCJ2QWxpZ24iLCJoUGFkZGluZyIsInZQYWRkaW5nIiwiYXV0b0ZsaXAiLCJfc2hvd0ltcGwiLCJzaG93QXQiLCJza2lwRXZlbnQiLCJ3IiwiaCIsInBvcHVwT3BhY2l0eSIsImVtaXRFdmVudCIsInNraXBTdGFjayIsIl9jYWxjdWxhdGVQb3NpdGlvbiIsInJlY3QiLCJ2aWV3cG9ydFJlY3QiLCJnZXRBdHRyaWJ1dGVBc1N0cmluZyIsIm5IIiwiYm90dG9tIiwiYXciLCJhaCIsImF4IiwiYXkiLCJ2aWV3cG9ydFdpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJpbnZhbGlkYXRlUG9zaXRpb24iLCJsYXN0U2hvd09wdGlvbnMiLCJtaW4iLCJvbkJlZm9yZVZpc2libGUiLCJ2ZXJ0aWNhbFNjcm9sbCIsImdldENsb3NhYmxlQ29udGFpbmVyIiwic2lsZW50IiwicGUiLCJfYnVpbGRDb250YWluZXIiLCJjb250ZXh0IiwiQmFzZUVkaXRvciIsImluaXQiLCJlZGl0b3IiLCJjcmVhdGVFZGl0b3IiLCJsYWJlbCIsIm11bHRpbGluZSIsInJlYWRPbmx5IiwidXNlSHRtbEZvckRpc3BsYXlUZXh0IiwidXBkYXRlRGlzcGxheSIsInMiLCJnZXREaXNwbGF5VGV4dCIsInJvbGxiYWNrIiwic2V0VmFsdWUiLCJvcmlnaW5hbFZhbHVlIiwiZ2V0T3JpZ2luYWxWYWx1ZSIsImlzT3JpZ2luYWxWYWx1ZSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsInNldEltcGwiLCJnZXRWYWx1ZSIsImdldEltcGwiLCJnZXRUeXBlZFZhbHVlIiwiaWRPbmx5IiwiZm9yY2VBcnJheSIsIl9nZXRTdHJvbmdUeXBlRWRpdG9yVmFsdWUiLCJvbmNoYW5nZSIsIm9uQ2hhbmdlZCIsImVuYWJsZSIsImxpc3RlbiIsImYiLCJQbGFpblRleHRFZGl0b3IiLCJpc0RhdGUiLCIkIiwiZGF0ZXBpY2tlciIsIm9uIiwicm93cyIsIm1heExlbmd0aCIsImd1aWQiLCJkIiwiRGF0ZVV0aWwiLCJmb3JtYXRGb3JVSSIsIkNvbG9yUGlja2VyIiwiY29sb3JQaWNrZXIiLCJzZXRFbmFibGVkIiwiZW5hYmxlZCIsIkNvbWJvRWRpdG9yIiwiY29tYm9NYW5hZ2VyIiwiQ29tYm9NYW5hZ2VyIiwic2V0SXRlbXMiLCJzZWxlY3RJdGVtSWZDb250YWlucyIsImdldFNlbGVjdGVkSXRlbSIsImdldEN1cnJlbnRJdGVtRGlzcGxheVRleHQiLCJhc3luY0xvYWRJdGVtcyIsImxvYWRlciIsImZpcmVTZWxlY3Rpb25FdmVudCIsImZyb21Vc2VyIiwic2V0RW5hYmxlIiwiRGF0ZVRpbWVFZGl0b3IiLCJ1c2VTZWNvbmRzIiwiaW5pdERhdGVUaW1lRWRpdG9yIiwid2l0aFRpbWUiLCJzZXREYXRlVGltZUVkaXRvclZhbHVlIiwiZ2V0RGF0ZVRpbWVFZGl0b3JWYWx1ZSIsImVuc3VyZURhdGUiLCJUaW1lRWRpdG9yIiwiaW5pdFRpbWVFZGl0b3IiLCJzZXRUaW1lRWRpdG9yVmFsdWUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJob3VycyIsInBhcnNlSW50IiwibWludXRlcyIsIk51bWJlckVkaXRvciIsImVuZm9yY2VOdW1iZXJJbnB1dCIsInBhcnNlRmxvYXQiLCJCb29sZWFuRWRpdG9yIiwiYiIsInNlbGVjdEl0ZW0iLCJNdWx0aVNlbGVjdGlvbkVkaXRvciIsInJlbmRlcmVyIiwiYnVpbGRTb3VyY2UiLCJzb3VyY2UiLCJNdWx0aVNlbGVjdGlvbkRpYWxvZyIsIm5ld1NlbGVjdGVkSXRlbXMiLCJ1c2VIdG1sIiwiZGlzcGxheVNwYW4iLCJzZXRJbm5lclRleHQiLCJnZXRUaXRsZVRleHQiLCJpc1Jvb3QiLCJzZWxlY3RlZEl0ZW1Gb3JtYXQiLCJBdHRhY2htZW50RWRpdG9yIiwidXBsb2FkQnV0dG9uIiwiQ29tbW9uVXBsb2FkRGlhbG9nIiwiZGF0YU5hbWUiLCJyZW1vdmVCdXR0b24iLCJhdHRhY2htZW50SWQiLCJtYXRjaCIsIlJlZ0V4cCIsIiQxIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiU3RhdGljTG9jYXRpb25FZGl0b3IiLCJvcGVuU3RhdGljTG9jYXRpb25EaWFsb2ciLCJTdGF0aWNMb2NhdGlvbkVkaXREaWFsb2ciLCJmaXhlZExvY2F0aW9uIiwiYXNzZXRJZCIsInN0YXRpY0NoZWNrQm94IiwibG9jYXRpb25MaW5rIiwic3RhdGljTGFiZWwiLCJpbmZvIiwiQXJyYXkiLCJfTGlzdCIsInZhbGlkYXRpb25SZWdpc3RyeSIsInJlcXVpcmVkIiwicGFyYW0iLCJwYXR0ZXJuTWF0Y2hlZCIsIm5vZGVOYW1lIiwiZ2V0QXR0cmlidXRlIiwiY2hpbGROb2RlcyIsInJvbGUiLCJoZWFkZXJUZW1wbGF0ZSIsImZvb3RlclRlbXBsYXRlIiwiZW1wdHlUZW1wbGF0ZSIsIml0ZW1UZW1wbGF0ZSIsImNyZWF0ZUJpbmRpbmciLCJfYmluZGluZyIsIl9ub2RlIiwiZG9PbkNoaWxkUmVjdXJzaXZlbHkiLCJfX3dpZGdldCIsImdlbmVyYXRlIiwidGVtcGxhdGVOb2RlIiwiY2xvbmVOb2RlIiwicG9wdWxhdG9yIiwiQ0tFRElUT1IiLCJyZXBsYWNlIiwiY29udGVudElucHV0IiwidG9vbGJhckdyb3VwcyIsImdyb3VwcyIsInJlbW92ZUJ1dHRvbnMiLCJyZW1vdmVQbHVnaW5zIiwiYWxsb3dlZENvbnRlbnQiLCJlbnRpdGllc19sYXRpbiIsImVudGl0aWVzX2dyZWVrIiwiY29udGVudHNDc3MiLCJhdHRhY2hMaXN0ZW5lciIsIm9uU2l6ZUNoYW5nZWQiLCJET01fVktfRVNDQVBFIiwiaGFuZGxlQ2xvc2FibGVFc2NhcGVLZXkiLCJnZXRFZGl0b3JUb29sYmFyIiwic2V0Q29udGVudCIsIkVESVRPUl9JTklUSUFMSVpFRF9FVkVOVF9OQU1FIiwiVEVYVF9DSEFOR0VfRVZFTlRfTkFNRSIsImhlaWdodFdhdGNoZXIiLCJnZXRGb2N1c05vZGUiLCJjb250ZW50IiwiZGVsYXkiLCJzZXREYXRhIiwiaHRtbCIsImNzcyIsImFwcGx5Q1NTIiwiZ2V0Q29udGVudCIsImdldERhdGEiLCJnZXRDb250ZW50U3R5bGVzaGVldCIsImdldFRleHRDb250ZW50Iiwib25JZnJhbWVJbml0aWFsaXplZCIsImdldEVkaXRvckZyYW1lIiwicXVlcnlTZWxlY3RvciIsInNjcm9sbFdpZHRoIiwic2Nyb2xsSGVpZ2h0IiwibGFzdENvbnRlbnRIZWlnaHQiLCJ1cGRhdGVTY3JvbGxpbmciLCJnZXRTZWxlY3Rpb25Cb3VuZGluZ1JlY3QiLCJyYW5nZSIsImNvbnRlbnRXaW5kb3ciLCJnZXRTZWxlY3Rpb24iLCJnZXRSYW5nZUF0IiwiZ2V0Q2xpZW50UmVjdHMiLCJzdGFydENvbnRhaW5lciIsIkNMQVNTX1RPT0xCQVJfU0hJRlRFRCIsInNoaWZ0VG9vbGJhciIsInNjcm9sbFBhbmUiLCJ0b29sYmFyIiwidG9vbGJhclBhZGRpbmciLCJoYXNDbGFzcyIsInRoaXNSZWN0IiwiYm9keVJlY3QiLCJyaWdodCIsImJyaW5nU2VsZWN0aW9uSW50b1ZpZXciLCJyMSIsInIyIiwic3IiLCJzYWZlQ2FyZXRIZWlnaHQiLCJjYXJldFRvcCIsInNjcm9sbFRvcCIsInNjcm9sbFBhbmVXYXRjaGVkIiwic3R5bGVOb2RlIiwiZG9jIiwiaGVhZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJSaWNoVGV4dEVkaXRvckFkdmFuY2VkRGlhbG9nIiwiRElSRUNUSU9OX0NPTFVNTiIsIkRJU1BMQVlfU1RBVFVTX1RPVEFMIiwiT1BUSU9OX1JPTEVfT1BUSU9OIiwiT1BUSU9OX1JPTEVfSEFORExFIiwiSEFORExFX1RZUEVfU0VMRUNUQUxMIiwiSEFORExFX1RZUEVfU0VQRVJBVE9SIiwibm9kZVR5cGUiLCJOb2RlIiwiRUxFTUVOVF9OT0RFIiwicGFyc2VEYXRhIiwiX3BhcnNlRGF0YSIsIl9wYXJzZU9wdGlvbnMiLCJnZXRBdHRyaWJ1dGVBc0Jvb2xlYW4iLCJnZXRDb25maWdzIiwiY29uZmlnIiwiZ2V0TmFtZSIsImdldE11bHRpcGxlU2VsZWN0IiwiZ2V0TW9kZSIsInRhZ05hbWUiLCJvcHRpb25BbGwiLCJmaW5kQ2hpbGQiLCJzZXRBbGxPcHRpb25TZWxlY3RlZCIsIm9uU2VsZWN0aW9uQ2hhbmdlZCIsIl9pbnN0YWxsIiwiX2NyZWF0ZUZpbHRlckJveCIsIl9vbktleXdvcmRJbnB1dCIsImFwcGVuZCIsIl9jcmVhdGVTZXBlcmF0b3IiLCJfY3JlYXRlT3B0aW9uU2VsZWN0QWxsIiwiX2NyZWF0ZU9wdGlvbkVsZW1lbnQiLCJfaGFuZGxlTW91c2VFbnRlciIsIl9oYW5kbGVLZXlQcmVzcyIsImZyb21Vc2VyQWN0aW9uIiwiX29wdGlvbnMiLCJmaW5kQ2hpbGRyZW5CeVRhZ05hbWUiLCJpc0FsbE9wdGlvblNlbGVjdGVkIiwicXVlcnlTZWxlY3RvckFsbCIsIm9wdCIsImNvdW50U2VsZWN0ZWRPcHRpb24iLCJmaW5kQ2hpbGRyZW4iLCJnZXRWYWx1ZXMiLCJnZXRUYWdzIiwicmVzdWx0IiwiZ2V0U2VsZWN0ZWREYXRhIiwiX2RhdGEiLCJnZXRTZWxlY3RlZE9wdGlvblRleHQiLCJuZXh0U2libGluZyIsInRleHRDb250ZW50Iiwic2V0VmFsdWVTZWxlY3RlZCIsIm9uRGV0YWNoZWQiLCJzdGF0dXMiLCJzZWxlY3RlZFRleHQiLCJvcHRpb25Hcm91cCIsImZpbmRQYXJlbnRXaXRoQ2xhc3MiLCJnZXRUYWciLCJqb2luIiwic3RhdHVzSXRlbSIsIml0ZW0iLCJkb21BcnJheSIsInBsYWNlaG9sZGVyIiwiaGFuZGxlIiwiX2ZpbmRCeURhdGEiLCJrZXl3b3JkIiwiZmlsdGVyIiwiX2ZpbmRCeU9wdGlvblRleHQiLCJzdGFydHNXaXRoIiwiZmluZENoaWxkcmVuV2l0aENsYXNzIiwiZmluZENoaWxkV2l0aENsYXNzIiwicGFyZW50IiwiY3VycmVudEZvY3VzIiwiRE9NX1ZLX1NQQUNFIiwiRE9NX1ZLX1VQIiwibmV4dEZvY3VzIiwicHJldmlvdXNTaWJsaW5nIiwiRE9NX1ZLX0RPV04iLCJhY3Rpb25UaXRsZSIsImFjdGlvbkhhbmRsZXIiLCJleHRyYU1lc3NhZ2UiLCJ0b2dnbGVDbGFzcyIsImNsZWFyVGltZW91dCIsImNsb3NlVGltZW91dCIsImNlaWwiLCJzbmFja0JhciIsImludG8iLCJyb3VuZCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBQUEsU0FDQUMsb0JBQUFDLEtBQUFDLE1BRUFBLEtBQUFDLEtBQUEsUUFBQUQsS0FBQUUsa0JBQUFGLEtBQUFHLGNBQ0FILEtBQUFDLEtBQUEsUUFBQUQsS0FBQUksaUJBQUFKLEtBQUFLLGFBQ0FMLEtBQUFDLEtBQUEsWUFBQUQsS0FBQU0sc0JBQUFOLEtBQUFPLGtCQUNBUCxLQUFBQyxLQUFBLFdBQUFELEtBQUFRLG1CQUFBUixLQUFBUyxZQUVBWixPQUFBYSx1QkNSQUMsT0FBQUMsVUFBQSxXQUNBLFNBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQUMsSUFBQUMsVUFBQUgsR0FDQUksRUFBQUYsSUFBQUcsV0FBQUosRUFBQSxDQUNBSyxLQUFBLFNBQUFDLEdBQ0EsT0FBQUEsRUFBQUMsV0FJQUosSUFDQUEsRUFBQUssV0FFQVAsSUFBQVEsWUFBQVYsR0FFQUksRUFBQUksUUFFQUcsUUFJQSxTQUFBYixFQUFBYyxHQUNBMUIsS0FBQTBCLFVBQUFmLE9BQUFnQixJQUFBRCxHQUNBMUIsS0FBQTRCLFFBQUEsR0FFQTVCLEtBQUE2QixlQUFBQyxTQUFBQyxjQUFBLE9BQ0FmLElBQUFnQixTQUFBaEMsS0FBQTZCLGVBQUEs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QUEyRixNQUVBLElBQUFLLEVBQUFtQixLQUFBNGhCLEtBQUFDLEVBQUEzbUIsT0FBQXlFLGFBQUF4RSxLQUFBb0gsTUFDQUMsRUFBQXFmLEVBQUEzbUIsT0FBQXVFLFlBQ0FvaUIsRUFBQTNtQixPQUFBMEMsTUFBQWMsSUFBQSxJQUFBRyxFQUFBLEtBQ0FnakIsRUFBQTNtQixPQUFBMEMsTUFBQWEsS0FBQXVCLEtBQUEraEIsT0FBQWxwQixTQUFBMkYsS0FBQWlCLFlBQUErQyxHQUFBLEdBQUEsS0FFQXBELE9BQUFGLFdBQUEsV0FDQTJpQixFQUFBM21CLE9BQUEwQyxNQUFBZ0IsV0FBQSxVQUNBaWpCLEVBQUEzbUIsT0FBQTBDLE1BQUFjLElBQUEsTUFDQW1qQixFQUFBM21CLE9BQUEwQyxNQUFBbUIsUUFBQSxJQUVBOGlCLEVBQUFGLGFBQUF2aUIsT0FBQUYsV0FBQSxXQUNBMmlCLEVBQUF0aEIsU0FDQW5ILEVBQUEsSUFBQSxNQUNBLEtDNURBWSxTQUFBbkQsb0JBQUFtUyxZQ0FBaFAsU0FBQW5ELG9CQUFBb1MiLCJmaWxlIjoiY29tbW9uLnBhY2suanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBEaWFsb2coKSB7XG4gICAgQmFzZVRlbXBsYXRlZFdpZGdldC5jYWxsKHRoaXMpO1xuXG4gICAgdGhpcy5iaW5kKFwiY2xpY2tcIiwgdGhpcy5oYW5kbGVBY3Rpb25DbGljaywgdGhpcy5kaWFsb2dGb290ZXIpO1xuICAgIHRoaXMuYmluZChcImNsaWNrXCIsIHRoaXMuaGFuZGxlQ2xvc2VDbGljaywgdGhpcy5kaWFsb2dDbG9zZSk7XG4gICAgdGhpcy5iaW5kKFwibW91c2Vkb3duXCIsIHRoaXMuaGFuZGxlSGVhZGVyTW91c2VEb3duLCB0aGlzLmRpYWxvZ0hlYWRlclBhbmUpO1xuICAgIHRoaXMuYmluZChcImtleXByZXNzXCIsIHRoaXMuaGFuZGxlQm9keUtleVByZXNzLCB0aGlzLmRpYWxvZ0JvZHkpO1xuXG4gICAgRGlhbG9nLmVuc3VyZUdsb2JhbEhhbmRsZXJzKCk7XG59XG5fX2V4dGVuZChCYXNlVGVtcGxhdGVkV2lkZ2V0LCBEaWFsb2cpO1xuXG5EaWFsb2cuQUNUSU9OX0NBTkNFTCA9IHsgdHlwZTogXCJjYW5jZWxcIiwgdGl0bGU6IFwiQ2FuY2VsXCIsIHJ1bjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSB9O1xuRGlhbG9nLkFDVElPTl9DTE9TRSA9IHsgdHlwZTogXCJjYW5jZWxcIiwgdGl0bGU6IFwiQ2xvc2VcIiwgcnVuOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9IH07XG5cbkRpYWxvZy5lbnN1cmVHbG9iYWxIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoRGlhbG9nLmdsb2JhbEhhbmRsZXJzUmVnaXN0ZXJlZCkgcmV0dXJuO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBEaWFsb2cuZ2xvYmFsTW91c2VNb3ZlSGFuZGxlciwgZmFsc2UpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBEaWFsb2cuaGVsZEluc3RhbmNlID0gbnVsbDtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICBEaWFsb2cuZ2xvYmFsSGFuZGxlcnNSZWdpc3RlcmVkID0gdHJ1ZTtcbn07XG5cbkRpYWxvZy5wcm90b3R5cGUuY2FuQ2xvc2VOb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VIYW5kbGVyKSByZXR1cm4gdGhpcy5jbG9zZUhhbmRsZXIuYXBwbHkodGhpcyk7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuRGlhbG9nLnByb3RvdHlwZS5nZXRGcmFtZVRlbXBsYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKFwiRGlhbG9nIGZyYW1lX3RlbXBsYXRlXCIsIHRoaXMuZ2V0VGVtcGxhdGVQcmVmaXgoKSArIFwiRGlhbG9nLnhodG1sXCIpO1xuICAgIHJldHVybiB0aGlzLmdldFRlbXBsYXRlUHJlZml4KCkgKyBcIkRpYWxvZy54aHRtbFwiO1xufTtcbkRpYWxvZy5wcm90b3R5cGUuYnVpbGRET01Ob2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBmcmFtZVRlbXBsYXRlID0gdGhpcy5nZXRGcmFtZVRlbXBsYXRlKCk7XG4gICAgdmFyIG5vZGUgPSB3aWRnZXQuVXRpbC5sb2FkVGVtcGxhdGVBc05vZGVTeW5jKGZyYW1lVGVtcGxhdGUsIHRoaXMpO1xuXG4gICAgLy9sb2FkIGFsc28gdGhlIHN1Yi1jbGFzcyB0ZW1wbGF0ZSBpbnRvIHRoZSBkaWFsb2cgYm9keVxuICAgIC8vcGxlYXNlIG5vdGUgdGhhdCB0aGUgYmluZGluZyB3aWxsIGJlIGRvbmUgZm9yIGJvdGggdGVtcGxhdGVzXG4gICAgdmFyIGNvbnRlbnROb2RlID0gdGhpcy5idWlsZENvbnRlbnROb2RlKCk7XG4gICAgdGhpcy5kaWFsb2dCb2R5LmFwcGVuZENoaWxkKGNvbnRlbnROb2RlKTtcblxuICAgIHJldHVybiBub2RlO1xufTtcbkRpYWxvZy5wcm90b3R5cGUuYnVpbGRDb250ZW50Tm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gd2lkZ2V0LlV0aWwubG9hZFRlbXBsYXRlQXNOb2RlU3luYyh0aGlzLmdldFRlbXBsYXRlUGF0aCgpLCB0aGlzKTtcbn07XG5EaWFsb2cucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIGlmICh0aGlzLnNldHVwKSB0aGlzLnNldHVwKG9wdGlvbnMpO1xuICAgIHRoaXMuaW52YWxpZGF0ZUVsZW1lbnRzKCk7XG4gICAgQmFzZVdpZGdldC5oYW5kbGVHbG9iYWxNb3VzZURvd24oKTtcbiAgICB0aGlzLnNob3coKTtcbn07XG52YXIgRElBTE9HX0JVVFRPTl9PUkRFUiA9IHtcbiAgICBcImFjY2VwdFwiOiAxMCxcbiAgICBcImNhbmNlbFwiOiAxLFxuICAgIFwiZXh0cmExXCI6IC0xMCxcbiAgICBcImV4dHJhMlwiOiAtOSxcbiAgICBcImV4dHJhM1wiOiAtOFxufTtcbkRpYWxvZy5wcm90b3R5cGUuaW52YWxpZGF0ZUVsZW1lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhY3Rpb25zID0gdGhpcy5nZXREaWFsb2dBY3Rpb25zKCk7XG5cbiAgICB2YXIgc3RhcnRBY3Rpb25zID0gW107XG4gICAgdmFyIGVuZE9wdGlvbnMgPSBbXTtcblxuICAgIHRoaXMuY2xvc2VIYW5kbGVyID0gbnVsbDtcbiAgICB0aGlzLnBvc2l0aXZlSGFuZGxlciA9IG51bGw7XG4gICAgdGhpcy5wcmltYXJ5QnV0dG9uID0gbnVsbDtcblxuICAgIGFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuICAgICAgICBpZiAoYS5pc1ZhbGlkICYmICFhLmlzVmFsaWQoKSkgcmV0dXJuO1xuICAgICAgICBhLm9yZGVyID0gYS5vcmRlciB8fCBESUFMT0dfQlVUVE9OX09SREVSW2EudHlwZV07XG4gICAgICAgIGlmICh0eXBlb2YoYS5vcmRlcikgPT0gXCJ1bmRlZmluZWRcIikgYS5vcmRlciA9IC05OTtcblxuICAgICAgICBpZiAoYS50eXBlID09IFwiY2FuY2VsXCIpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VIYW5kbGVyID0gYS5ydW47XG4gICAgICAgIH0gZWxzZSBpZiAoYS50eXBlID09IFwiYWNjZXB0XCIpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmVIYW5kbGVyID0gYS5ydW47XG4gICAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIGFjdGlvbnMuc29ydChmdW5jdGlvbiAoYTEsIGEyKSB7XG4gICAgICAgIHJldHVybiBhMS5vcmRlciAtIGEyLm9yZGVyO1xuICAgIH0pO1xuXG4gICAgRG9tLmVtcHR5KHRoaXMuZGlhbG9nRm9vdGVyU3RhcnRQYW5lKTtcbiAgICBEb20uZW1wdHkodGhpcy5kaWFsb2dGb290ZXJNaWRkbGVQYW5lKTtcbiAgICBEb20uZW1wdHkodGhpcy5kaWFsb2dGb290ZXJFbmRQYW5lKTtcblxuICAgIGFjdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuICAgICAgICBpZiAoYS5pc0FwcGxpY2FibGUgJiYgIWEuaXNBcHBsaWNhYmxlKCkpIHJldHVybjtcblxuICAgICAgICB2YXIgYnV0dG9uID0gdGhpcy5jcmVhdGVCdXR0b24oYSk7XG4gICAgICAgIGlmIChhLm9yZGVyIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5kaWFsb2dGb290ZXJTdGFydFBhbmUuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgfSBlbHNlIGlmIChhLm9yZGVyID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9vdGVyTWlkZGxlUGFuZS5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaWFsb2dGb290ZXJFbmRQYW5lLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYS50eXBlID09IFwiYWNjZXB0XCIpIHRoaXMucHJpbWFyeUJ1dHRvbiA9IGJ1dHRvbjtcbiAgICB9LCB0aGlzKTtcblxuXG4gICAgRG9tLmVtcHR5KHRoaXMuZGlhbG9nVGl0bGUpO1xuICAgIHRoaXMuZGlhbG9nVGl0bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5lKHRoaXMudGl0bGUpKSk7XG5cbiAgICBEb20uZW1wdHkodGhpcy5kaWFsb2dTdWJUaXRsZSk7XG4gICAgdGhpcy5kaWFsb2dTdWJUaXRsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLmUodGhpcy5zdWJUaXRsZSB8fCBcIlwiKSkpO1xuXG4gICAgdGhpcy5kaWFsb2dDbG9zZS5zdHlsZS5kaXNwbGF5ID0gdGhpcy5jbG9zZUhhbmRsZXIgPyBcImlubGluZS1ibG9ja1wiIDogXCJub25lXCI7XG59O1xuXG5EaWFsb2cucHJvdG90eXBlLmNyZWF0ZUJ1dHRvbiA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBidXR0b24uX2FjdGlvbiA9IGFjdGlvbjtcbiAgICB2YXIgaWNvbiA9IHRoaXMuZShhY3Rpb24uaWNvbik7XG4gICAgaWYgKGljb24pIHtcbiAgICAgICAgdmFyIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICAgICAgaS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShpY29uKSk7XG4gICAgICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChpKTtcbiAgICB9XG5cbiAgICB2YXIgdGV4dCA9IHRoaXMuZShhY3Rpb24udGl0bGUpO1xuICAgIGJ1dHRvbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSk7XG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcIm1vZGVcIiwgYWN0aW9uLnR5cGUpO1xuXG4gICAgdmFyIGRpc2FibGVkID0gYWN0aW9uLmlzRW5hYmxlZCAmJiAhYWN0aW9uLmlzRW5hYmxlZCgpO1xuICAgIGlmIChkaXNhYmxlZCkgYnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcblxuICAgIHJldHVybiBidXR0b247XG59O1xuRGlhbG9nLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuX29yaWdpbmFsRm9jdXNlZFRhcmdldCA9IERpYWxvZy5sYXN0Rm9jdXNlZFRhcmdldDtcbiAgICB0aGlzLmRpYWxvZ0ZyYW1lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaWFsb2dGcmFtZSk7XG4gICAgaWYgKHRoaXMub3ZlcmxheSkge1xuICAgICAgICBpZiAodGhpcy5vdmVybGF5LnBhcmVudE5vZGUpIHRoaXMub3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMub3ZlcmxheSk7XG4gICAgfVxuXG4gICAgdGhpcy5vdmVybGF5ID0gdGhpcy5ub2RlKCkub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIERvbS5hZGRDbGFzcyh0aGlzLm92ZXJsYXksIFwiU3lzX0RpYWxvZ092ZXJsYXlcIik7XG5cbiAgICB0aGlzLm5vZGUoKS5vd25lckRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5KTtcblxuXG4gICAgdGhpcy5ub2RlKCkub3duZXJEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZGlhbG9nRnJhbWUpO1xuXG4gICAgdGhpcy5kaWFsb2dGcmFtZS5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICB0aGlzLmRpYWxvZ0ZyYW1lLnN0eWxlLnRvcCA9IFwiMHB4XCI7XG4gICAgdGhpcy5kaWFsb2dGcmFtZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICB0aGlzLmRpYWxvZ0ZyYW1lLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgIHRoaXMuZGlhbG9nRnJhbWUuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgIHRoaXMuZGlhbG9nRnJhbWUuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XG4gICAgdGhpcy5kaWFsb2dGcmFtZS5zdHlsZS5vdmVyZmxvdyA9IFwidmlzaWJsZVwiO1xuICAgIHRoaXMuZGlhbG9nRnJhbWUuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIHRoaXMuZGlhbG9nRnJhbWUuc3R5bGUudHJhbnNpdGlvbiA9IFwib3BhY2l0eSAwLjNzXCI7XG5cblxuICAgIHZhciB0aGl6ID0gdGhpcztcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNjcmVlblcgPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgdmFyIHNjcmVlbkggPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSAyMDtcblxuICAgICAgICB2YXIgdyA9IHRoaXouZGlhbG9nRnJhbWUub2Zmc2V0V2lkdGg7XG4gICAgICAgIHZhciBoID0gdGhpei5kaWFsb2dGcmFtZS5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgdmFyIHggPSAoc2NyZWVuVyAtIHcpIC8gMjtcbiAgICAgICAgdmFyIHkgPSAoc2NyZWVuSCAtIGgpIC8gMjtcblxuICAgICAgICB0aGl6Lm1vdmVUbyh4LCB5KTtcblxuICAgICAgICB0aGl6LmRpYWxvZ0ZyYW1lLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgdGhpei5kaWFsb2dGcmFtZS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG5cbiAgICAgICAgdGhpei5kaWFsb2dGcmFtZS5mb2N1cygpO1xuXG4gICAgICAgIGlmICh0aGl6Lm9uU2hvd24pIHRoaXoub25TaG93bigpO1xuICAgIH0sIDEwMCk7XG5cbiAgICBCYXNlV2lkZ2V0LnJlZ2lzdGVyQ2xvc2FibGUodGhpcyk7XG59O1xuRGlhbG9nLnByb3RvdHlwZS5tb3ZlVG8gPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgIHRoaXMuZGlhbG9nRnJhbWUuc3R5bGUubGVmdCA9IHggKyBcInB4XCI7XG4gICAgdGhpcy5kaWFsb2dGcmFtZS5zdHlsZS50b3AgPSBNYXRoLm1heCh5LCAwKSArIFwicHhcIjtcbiAgICB0aGlzLmRpYWxvZ1ggPSB4O1xuICAgIHRoaXMuZGlhbG9nWSA9IHk7XG59O1xuRGlhbG9nLnByb3RvdHlwZS5tb3ZlQnkgPSBmdW5jdGlvbiAoZHgsIGR5KSB7XG4gICAgdGhpcy5tb3ZlVG8odGhpcy5kaWFsb2dYICsgZHgsIHRoaXMuZGlhbG9nWSArIGR5KTtcbn07XG5EaWFsb2cucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm92ZXJsYXkgJiYgdGhpcy5vdmVybGF5LnBhcmVudE5vZGUpIHRoaXMub3ZlcmxheS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMub3ZlcmxheSk7XG4gICAgdGhpcy5kaWFsb2dGcmFtZS5zdHlsZS50cmFuc2l0aW9uID0gXCJvcGFjaXR5IDAuMXNcIjtcbiAgICB0aGlzLmRpYWxvZ0ZyYW1lLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcblxuICAgIHZhciBhcmdzID0gW107XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIHRoaXMuY2FsbGJhY2spIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpICsrKSB7XG4gICAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm9uQ2xvc2VkKSB0aGlzLm9uQ2xvc2VkKCk7XG5cbiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpYWxvZ0ZyYW1lLnBhcmVudE5vZGUpIHRoaXMuZGlhbG9nRnJhbWUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRpYWxvZ0ZyYW1lKTtcbiAgICAgICAgdGhpcy5kaWFsb2dGcmFtZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGlmICh0aGlzLm92ZXJsYXkpIHRoaXMub3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgICAgQmFzZVdpZGdldC51bnJlZ2lzdGVyQ2xvc2FibGUodGhpcyk7XG5cbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMCAmJiB0aGlzLmNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrLmFwcGx5KHdpbmRvdywgYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fb3JpZ2luYWxGb2N1c2VkVGFyZ2V0KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsRm9jdXNlZFRhcmdldC5mb2N1cygpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfS5iaW5kKHRoaXMpLCAxMDApO1xufTtcbkRpYWxvZy5wcm90b3R5cGUuY2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5EaWFsb2cucHJvdG90eXBlLmhhbmRsZUFjdGlvbkNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGFjdGlvbiA9IERvbS5maW5kVXB3YXJkRm9yRGF0YShldmVudC50YXJnZXQsIFwiX2FjdGlvblwiKTtcbiAgICBpZiAoIWFjdGlvbikgcmV0dXJuO1xuXG4gICAgdmFyIHJldHVyblZhbHVlID0gYWN0aW9uLnJ1bi5hcHBseSh0aGlzKTtcbiAgICBpZiAocmV0dXJuVmFsdWUpIHRoaXMuY2xvc2UoKTtcbn07XG5EaWFsb2cuZ2xvYmFsTW91c2VNb3ZlSGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmICghRGlhbG9nLmhlbGRJbnN0YW5jZSkgcmV0dXJuO1xuXG4gICAgRG9tLmNhbmNlbEV2ZW50KGV2ZW50KTtcblxuICAgIHZhciBkeCA9IGV2ZW50LnNjcmVlblggLSBEaWFsb2cuX2xhc3RTY3JlZW5YO1xuICAgIHZhciBkeSA9IGV2ZW50LnNjcmVlblkgLSBEaWFsb2cuX2xhc3RTY3JlZW5ZO1xuXG4gICAgRGlhbG9nLl9sYXN0U2NyZWVuWCA9IGV2ZW50LnNjcmVlblg7XG4gICAgRGlhbG9nLl9sYXN0U2NyZWVuWSA9IGV2ZW50LnNjcmVlblk7XG5cbiAgICBEaWFsb2cuaGVsZEluc3RhbmNlLm1vdmVCeShkeCwgZHkpO1xufTtcbkRpYWxvZy5nbG9iYWxGb2N1c0hhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBEaWFsb2cubGFzdEZvY3VzZWRUYXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgaWYgKCFCYXNlV2lkZ2V0LmNsb3NhYmxlcyB8fCBCYXNlV2lkZ2V0LmNsb3NhYmxlcy5sZW5ndGggPD0gMCkgcmV0dXJuO1xuICAgIHZhciBjbG9zYWJsZSA9IEJhc2VXaWRnZXQuY2xvc2FibGVzW0Jhc2VXaWRnZXQuY2xvc2FibGVzLmxlbmd0aCAtIDFdO1xuICAgIGlmICghX19pc1N1YkNsYXNzT2YoY2xvc2FibGUuY29uc3RydWN0b3IsIERpYWxvZykpIHJldHVybjtcblxuICAgIHZhciBmcmFtZSA9IERvbS5maW5kVXB3YXJkKGV2ZW50LnRhcmdldCwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUgPT0gY2xvc2FibGUuZGlhbG9nRnJhbWU7XG4gICAgfSk7XG5cbiAgICBpZiAoZnJhbWUpIHJldHVybjtcbiAgICBjbG9zYWJsZS5kaWFsb2dGcmFtZS5mb2N1cygpO1xufTtcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCBEaWFsb2cuZ2xvYmFsRm9jdXNIYW5kbGVyLCB0cnVlKTtcbn0sIGZhbHNlKTtcblxuRGlhbG9nLnByb3RvdHlwZS5oYW5kbGVDbG9zZUNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5jbG9zZUhhbmRsZXIpIHJldHVybjtcbiAgICB2YXIgcmV0dXJuVmFsdWUgPSB0aGlzLmNsb3NlSGFuZGxlci5hcHBseSh0aGlzKTtcbiAgICBpZiAocmV0dXJuVmFsdWUpIHRoaXMuY2xvc2UoKTtcbn07XG5EaWFsb2cucHJvdG90eXBlLmhhbmRsZUhlYWRlck1vdXNlRG93biA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIERvbS5jYW5jZWxFdmVudChldmVudCk7XG4gICAgRGlhbG9nLmhlbGRJbnN0YW5jZSA9IHRoaXM7XG4gICAgRGlhbG9nLl9sYXN0U2NyZWVuWCA9IGV2ZW50LnNjcmVlblg7XG4gICAgRGlhbG9nLl9sYXN0U2NyZWVuWSA9IGV2ZW50LnNjcmVlblk7XG59O1xuRGlhbG9nLnByb3RvdHlwZS5oYW5kbGVCb2R5S2V5UHJlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5Q29kZSAhPSBET01fVktfUkVUVVJOKSByZXR1cm47XG4gICAgaWYgKCF0aGlzLnByaW1hcnlCdXR0b24pIHJldHVybjtcblxuICAgIHZhciBub2RlID0gRG9tLmZpbmRVcHdhcmQoZXZlbnQudGFyZ2V0LCBmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gbi5sb2NhbE5hbWUgPT0gXCJpbnB1dFwiIHx8IG4ubG9jYWxOYW1lID09IFwic2VsZWN0XCI7XG4gICAgfSk7XG5cbiAgICBpZiAoIW5vZGUpIHJldHVybjtcbiAgICB0aGlzLnByaW1hcnlCdXR0b24uY2xpY2soKTtcbn07XG5cblxuZnVuY3Rpb24gQnVpbGRlckJhc2VkRGlhbG9nKGJ1aWxkZXIpIHtcbiAgICB0aGlzLmJ1aWxkZXIgPSBidWlsZGVyO1xuICAgIHRoaXMuYnVpbGRlci5fZGlhbG9nID0gdGhpcztcbiAgICBEaWFsb2cuY2FsbCh0aGlzKTtcblxuICAgIHRoaXMudGl0bGUgPSB0eXBlb2YoYnVpbGRlci50aXRsZSkgPT0gXCJmdW5jdGlvblwiID8gYnVpbGRlci50aXRsZS5iaW5kKHRoaXMuYnVpbGRlcikgOiBidWlsZGVyLnRpdGxlO1xufTtcblxuX19leHRlbmQoRGlhbG9nLCBCdWlsZGVyQmFzZWREaWFsb2cpO1xuXG52YXIgRElBTE9HX1NJWkVfU1BFQ1MgPSB7XG4gICAgICAgIHRpbnk6IDEyMCxcbiAgICAgICAgbWluaTogMjAwLFxuICAgICAgICBzbWFsbGVyOiAyODAsXG4gICAgICAgIHNtYWxsOiAzNTAsXG4gICAgICAgIG5vcm1hbDogNDUwLFxuICAgICAgICBsYXJnZTogNjAwLFxuICAgICAgICBcInNsaWdodGx5LWxhcmdlclwiOiA3MDAsXG4gICAgICAgIGxhcmdlcjogODAwLFxuICAgICAgICBodWdlOiAxMDEwXG59O1xuXG5CdWlsZGVyQmFzZWREaWFsb2cucHJvdG90eXBlLmJ1aWxkQ29udGVudE5vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgaWYgKHRoaXMuYnVpbGRlci5zaXplKSB7XG4gICAgICAgIHZhciBzaXplID0gKERJQUxPR19TSVpFX1NQRUNTW3RoaXMuYnVpbGRlci5zaXplXSAvIDEyKSAqIFV0aWwuZW0oKTtcbiAgICAgICAgZGl2LnN0eWxlLndpZHRoID0gc2l6ZSArIFwicHhcIjtcbiAgICB9XG4gICAgdGhpcy5idWlsZGVyLmJ1aWxkQ29udGVudC5jYWxsKHRoaXMuYnVpbGRlciwgZGl2KTtcblxuICAgIHJldHVybiBkaXY7XG59XG5CdWlsZGVyQmFzZWREaWFsb2cucHJvdG90eXBlLl9uZXdMZWdhY3lBY3Rpb24gPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGl0bGU6IHR5cGVvZihhY3Rpb24udGl0bGUpID09IFwiZnVuY3Rpb25cIiA/IGFjdGlvbi50aXRsZS5iaW5kKHRoaXMuYnVpbGRlcikgOiBhY3Rpb24udGl0bGUsXG4gICAgICAgIHR5cGU6IGFjdGlvbi5pc0Nsb3NlSGFuZGxlciA/IFwiY2FuY2VsXCIgOiAoYWN0aW9uLnByaW1hcnkgPyBcImFjY2VwdFwiIDogXCJleHRyYTFcIiksXG4gICAgICAgIGlzQXBwbGljYWJsZTogYWN0aW9uLmlzQXBwbGljYWJsZSA/IGFjdGlvbi5pc0FwcGxpY2FibGUuYmluZCh0aGlzLmJ1aWxkZXIpIDogbnVsbCxcbiAgICAgICAgcnVuOiBhY3Rpb24ucnVuLmJpbmQodGhpcy5idWlsZGVyKVxuICAgIH07XG59O1xuQnVpbGRlckJhc2VkRGlhbG9nLnByb3RvdHlwZS5nZXREaWFsb2dBY3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGl6ID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy5idWlsZGVyLmFjdGlvbnMubWFwKGZ1bmN0aW9uIChhY3Rpb24pIHsgcmV0dXJuIHRoaXouX25ld0xlZ2FjeUFjdGlvbihhY3Rpb24pOyB9KTtcbn1cbkJ1aWxkZXJCYXNlZERpYWxvZy5wcm90b3R5cGUucXVpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG59O1xuXG5EaWFsb2cuaGFzT3BlbkRpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBCYXNlV2lkZ2V0LmNsb3NhYmxlcy5mb3JFYWNoKGZ1bmN0aW9uKGNsb3NhYmxlKSB7XG4gICAgICAgIGlmIChfX2lzU3ViQ2xhc3NPZihjbG9zYWJsZS5jb25zdHJ1Y3RvciwgRGlhbG9nKSkgcmV0dXJuIHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuRGlhbG9nLmFsZXJ0ID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGV4dHJhLCBvbkNsb3NlKSB7XG4gICAgdmFyIGJ1aWxkZXIgPSB7XG4gICAgICAgIHRpdGxlOiBcIkluZm9ybWF0aW9uXCIsXG4gICAgICAgIHNpemU6IG1lc3NhZ2Uuc2l6ZSB8fCBcInNtYWxsXCIsXG4gICAgICAgIGJ1aWxkQ29udGVudDogZnVuY3Rpb24gKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKERvbS5uZXdET01FbGVtZW50KHtcbiAgICAgICAgICAgICAgICBfbmFtZTogXCJoYm94XCIsIFwiY2xhc3NcIjogXCJNZXNzYWdlRGlhbG9nXCIsXG4gICAgICAgICAgICAgICAgX2NoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgX25hbWU6IFwiaWNvblwiLCBcImNsYXNzXCI6IFwiaW5mb3JtYXRpb25cIiB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbmFtZTogXCJ2Ym94XCIsIGZsZXg6IDEsIFwiY2xhc3NcIjogXCJNZXNzYWdlc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfbmFtZTogXCJzdHJvbmdcIiwgX3RleHQ6IG1lc3NhZ2UgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF9uYW1lOiBcInBcIiwgX3RleHQ6IGV4dHJhIHx8IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvbnM6IFt7XG4gICAgICAgICAgICB0aXRsZTogXCJDbG9zZVwiLFxuICAgICAgICAgICAgcHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgICAgIGlzQ2xvc2VIYW5kbGVyOiB0cnVlLFxuICAgICAgICAgICAgcnVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlhbG9nLnF1aXQoKTtcbiAgICAgICAgICAgICAgICBpZiAob25DbG9zZSkgb25DbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XVxuICAgIH07XG4gICAgbmV3IEJ1aWxkZXJCYXNlZERpYWxvZyhidWlsZGVyKS5vcGVuKCk7XG59XG5EaWFsb2cuZXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSwgZXh0cmEsIG9uQ2xvc2UpIHtcbiAgICB2YXIgYnVpbGRlciA9IHtcbiAgICAgICAgdGl0bGU6IFwiRXJyb3JcIixcbiAgICAgICAgc2l6ZTogXCJzbWFsbFwiLFxuICAgICAgICBidWlsZENvbnRlbnQ6IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChEb20ubmV3RE9NRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgX25hbWU6IFwiaGJveFwiLCBcImNsYXNzXCI6IFwiTWVzc2FnZURpYWxvZ1wiLFxuICAgICAgICAgICAgICAgIF9jaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICB7IF9uYW1lOiBcImlcIiwgXCJjbGFzc1wiOiBcIkRpYWxvZ0ljb24gRXJyb3JcIiwgX3RleHQ6IFwiZXJyb3JcIiB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbmFtZTogXCJ2Ym94XCIsIGZsZXg6IDEsIFwiY2xhc3NcIjogXCJNZXNzYWdlc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfbmFtZTogXCJzdHJvbmdcIiwgX3RleHQ6IG1lc3NhZ2UgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IF9uYW1lOiBcInBcIiwgX3RleHQ6IGV4dHJhIHx8IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvbnM6IFt7XG4gICAgICAgICAgICB0aXRsZTogXCJDbG9zZVwiLFxuICAgICAgICAgICAgcHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgICAgIGlzQ2xvc2VIYW5kbGVyOiB0cnVlLFxuICAgICAgICAgICAgcnVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGlhbG9nLnF1aXQoKTtcbiAgICAgICAgICAgICAgICBpZiAob25DbG9zZSkgb25DbG9zZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XVxuICAgIH07XG4gICAgbmV3IEJ1aWxkZXJCYXNlZERpYWxvZyhidWlsZGVyKS5vcGVuKCk7XG59XG5EaWFsb2cucHJvbXB0ID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGluaXRpYWxWYWx1ZSwgYWNjZXB0TWVzc2FnZSwgb25JbnB1dCwgY2FuY2VsTWVzc2FnZSwgb25DYW5jZWwpIHtcbiAgICB2YXIgYnVpbGRlciA9IHtcbiAgICAgICAgdGl0bGU6IFwiUHJvbXB0XCIsXG4gICAgICAgIHNpemU6IFwic21hbGxcIixcbiAgICAgICAgYnVpbGRDb250ZW50OiBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICB2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO1xuICAgICAgICAgICAgaS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcImluZm9cIikpO1xuICAgICAgICAgICAgaS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIkljb24gRGlhbG9nSWNvblwiKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpKTtcblxuICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICBwLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChwKTtcblxuICAgICAgICAgICAgdGhpcy5pbnB1dCA9IERvbS5uZXdET01FbGVtZW50KHtcbiAgICAgICAgICAgICAgICBfbmFtZTogXCJpbnB1dFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIHN0eWxlOiBcIndpZHRoOiBjYWxjKDEwMCUgLSAxMHB4KTsgcGFkZGluZzogNXB4O1wiLFxuICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJGb2N1c2FibGVcIlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0aGlzLmlucHV0KTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSBpbml0aWFsVmFsdWUgfHwgXCJcIjtcblxuICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwibWFyZ2luLWxlZnQ6IDRlbTtcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogYWNjZXB0TWVzc2FnZSA/IGFjY2VwdE1lc3NhZ2UgOiBcIk9LXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBydW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlhbG9nLnF1aXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uSW5wdXQpIG9uSW5wdXQodGhpcy5pbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGNhbmNlbE1lc3NhZ2UgPyBjYW5jZWxNZXNzYWdlIDogXCJDYW5jZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICBpc0Nsb3NlSGFuZGxlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBydW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlhbG9nLnF1aXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9uQ2FuY2VsKSBvbkNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICB9O1xuICAgIG5ldyBCdWlsZGVyQmFzZWREaWFsb2coYnVpbGRlcikub3BlbigpO1xufVxuRGlhbG9nLmNvbmZpcm0gPSBmdW5jdGlvbiAocXVlc3Rpb24sIGV4dHJhLCBwb3NpdGl2ZUFjdGlvblRpdGxlLCBvblBvc2l0aXZlQW5zd2VyLCBuZWdhdGl2ZUFjdGlvblRpdGxlLCBvbk5lZ2F0aXZlQW5zd2VyLCBleHRyYUFjdGlvblRpdGxlLCBvbkV4dHJhQWN0aW9uQW5zd2VyKSB7XG4gICAgdmFyIGJ1aWxkZXIgPSB7XG4gICAgICAgIHRpdGxlOiBcIkNvbmZpcm1cIixcbiAgICAgICAgc2l6ZTogXCJub3JtYWxcIixcbiAgICAgICAgYnVpbGRDb250ZW50OiBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoRG9tLm5ld0RPTUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgIF9uYW1lOiBcImhib3hcIiwgXCJjbGFzc1wiOiBcIk1lc3NhZ2VEaWFsb2dcIixcbiAgICAgICAgICAgICAgICBfY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgeyBfbmFtZTogXCJpXCIsIFwiY2xhc3NcIjogXCJEaWFsb2dJY29uXCIsIF90ZXh0OiBcImhlbHBcIiB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbmFtZTogXCJ2Ym94XCIsIGZsZXg6IDEsIFwiY2xhc3NcIjogXCJNZXNzYWdlc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfbmFtZTogXCJzdHJvbmdcIiwgX3RleHQ6IHF1ZXN0aW9uIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBfbmFtZTogXCJwXCIsIF90ZXh0OiBleHRyYSB8fCBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9LFxuICAgICAgICBhY3Rpb25zOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IHBvc2l0aXZlQWN0aW9uVGl0bGUgPyBwb3NpdGl2ZUFjdGlvblRpdGxlIDogXCJZZXNcIixcbiAgICAgICAgICAgICAgICBwcmltYXJ5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaWFsb2cucXVpdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAob25Qb3NpdGl2ZUFuc3dlcikgb25Qb3NpdGl2ZUFuc3dlcigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBuZWdhdGl2ZUFjdGlvblRpdGxlID8gbmVnYXRpdmVBY3Rpb25UaXRsZSA6IFwiTm9cIixcbiAgICAgICAgICAgICAgICBpc0Nsb3NlSGFuZGxlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBydW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGlhbG9nLnF1aXQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uTmVnYXRpdmVBbnN3ZXIpIG9uTmVnYXRpdmVBbnN3ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogZXh0cmFBY3Rpb25UaXRsZSA/IGV4dHJhQWN0aW9uVGl0bGUgOiBcIkV4dHJhXCIsXG4gICAgICAgICAgICAgICAgaXNBcHBsaWNhYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBleHRyYUFjdGlvblRpdGxlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcnVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RpYWxvZy5xdWl0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkV4dHJhQWN0aW9uQW5zd2VyKSBvbkV4dHJhQWN0aW9uQW5zd2VyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH07XG4gICAgbmV3IEJ1aWxkZXJCYXNlZERpYWxvZyhidWlsZGVyKS5vcGVuKCk7XG59O1xuRGlhbG9nLnNlbGVjdCA9IGZ1bmN0aW9uIChpdGVtcywgY2FsbGJhY2ssIHNlbGVjdGVkSXRlbXMsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICBpZiAoIXNlbGVjdGVkSXRlbXMpIHNlbGVjdGVkSXRlbXMgPSBbXTtcbiAgICB2YXIgc2FtZSA9IG9wdGlvbnMuc2FtZSB8fCBzYW1lUmVsYXg7XG4gICAgdmFyIGZvcm1hdHRlciA9IG9wdGlvbnMuZm9ybWF0dGVyIHx8IGZ1bmN0aW9uICh4KSB7cmV0dXJuIFwiXCIgKyB4fTtcbiAgICB2YXIgY29sdW1ucyA9IG9wdGlvbnMuY29sdW1ucyB8fCAxO1xuICAgIHZhciBidWlsZGVyID0ge1xuICAgICAgICB0aXRsZTogb3B0aW9ucy50aXRsZSB8fCBcIlNlbGVjdFwiLFxuICAgICAgICBzaXplOiBvcHRpb25zLnNpemUgfHwgXCJub3JtYWxcIixcbiAgICAgICAgYnVpbGRDb250ZW50OiBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgICAgICBEb20uYWRkQ2xhc3MoaSwgXCJmYSBmYS1xdWVzdGlvbi1jaXJjbGVcIik7XG4gICAgICAgICAgICAgICAgaS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImZsb2F0OiBsZWZ0OyBmb250LXNpemU6IDJlbTsgY29sb3I6ICM0MjhCQ0E7XCIpO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpKTtcblxuICAgICAgICAgICAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHApO1xuICAgICAgICAgICAgICAgIHAuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUob3B0aW9ucy5tZXNzYWdlKSk7XG4gICAgICAgICAgICAgICAgcC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcIm1hcmdpbi1sZWZ0OiAzZW07IG1pbi1oZWlnaHQ6IDJlbTtcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgZGl2LnN0eWxlLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgICB0aGlzLmlucHV0cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkgKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaWQgPSBcImNiX1wiICsgd2lkZ2V0LnJhbmRvbSgpO1xuICAgICAgICAgICAgICAgIHZhciBob2xkZXIgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IERvbS5uZXdET01FbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgX25hbWU6IFwic3BhblwiLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJkaXNwbGF5OiBpbmxpbmUtYmxvY2tcIixcbiAgICAgICAgICAgICAgICAgICAgX2NoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtfbmFtZTogXCJpbnB1dFwiLCB0eXBlOiBcImNoZWNrYm94XCIsIF9pZDogXCJjaGVja2JveFwiLCBpZDogaWQsIHN0eWxlOiBcInZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XCJ9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7X25hbWU6IFwibGFiZWxcIiwgXCJmb3JcIjogaWQsIF9odG1sOiBEb20uaHRtbEVuY29kZShmb3JtYXR0ZXIoaXRlbXNbaV0pKSwgc3R5bGU6IFwicGFkZGluZy1sZWZ0OiAxZXg7IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XCJ9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSwgZG9jdW1lbnQsIGhvbGRlcik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0cy5wdXNoKGhvbGRlci5jaGVja2JveCk7XG4gICAgICAgICAgICAgICAgaG9sZGVyLmNoZWNrYm94Ll9pdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgICAgICAgaG9sZGVyLmNoZWNrYm94LmNoZWNrZWQgPSBjb250YWlucyhzZWxlY3RlZEl0ZW1zLCBpdGVtc1tpXSwgc2FtZSk7XG4gICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNvbHVtbldpZHRoKSBzcGFuLnN0eWxlLndpZHRoID0gb3B0aW9ucy5jb2x1bW5XaWR0aDtcblxuICAgICAgICAgICAgICAgIGlmICgoaSArIDEpICUgY29sdW1ucyA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSAlIGNvbHVtbnMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc3R5bGUubWFyZ2luTGVmdCA9IFwiMmVtXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogb3B0aW9ucy5zZWxlY3RBY3Rpb25UaXRsZSB8fCBcIlNlbGVjdFwiLFxuICAgICAgICAgICAgICAgIHByaW1hcnk6IHRydWUsXG4gICAgICAgICAgICAgICAgcnVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaW5wdXRzLmxlbmd0aDsgaSArKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRzW2ldLmNoZWNrZWQpIHNlbGVjdGVkLnB1c2godGhpcy5pbnB1dHNbaV0uX2l0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soc2VsZWN0ZWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkNhbmNlbFwiLFxuICAgICAgICAgICAgICAgIGlzQ2xvc2VIYW5kbGVyOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJ1bjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9O1xuICAgIG5ldyBCdWlsZGVyQmFzZWREaWFsb2coYnVpbGRlcikub3BlbigpO1xufTtcbiIsIndpZGdldC5BY3Rpb25CYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYWN0aW9uQmFyQ2xpY2tIYW5kbGVyKGV2ZW50KSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBEb20uZ2V0VGFyZ2V0KGV2ZW50KTtcbiAgICAgICAgdmFyIGJ1dHRvbiA9IERvbS5maW5kVXB3YXJkKHRhcmdldCwge1xuICAgICAgICAgICAgZXZhbDogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbi5fYWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGlmICghYnV0dG9uKSByZXR1cm47XG4gICAgICAgIGlmIChidXR0b24uZGlzYWJsZWQpIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIERvbS5jYW5jZWxFdmVudChldmVudCk7XG4gICAgICAgIFxuICAgICAgICB2YXIgYWN0aW9uID0gYnV0dG9uLl9hY3Rpb247XG4gICAgICAgIFxuICAgICAgICBhY3Rpb24ucnVuKCk7XG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBBY3Rpb25CYXIoY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gd2lkZ2V0LmdldChjb250YWluZXIpO1xuICAgICAgICB0aGlzLmFjdGlvbnMgPSBbXTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuYnV0dG9uR3JvdXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBEb20uYWRkQ2xhc3ModGhpcy5idXR0b25Hcm91cERpdiwgXCJidG4tZ3JvdXAgbmF2LXBpbGxzXCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmJ1dHRvbkdyb3VwRGl2KTtcbiAgICAgICAgXG4gICAgICAgIERvbS5yZWdpc3RlckV2ZW50KHRoaXMuYnV0dG9uR3JvdXBEaXYsIFwiY2xpY2tcIiwgYWN0aW9uQmFyQ2xpY2tIYW5kbGVyLCBmYWxzZSk7XG4gICAgfVxuICAgIEFjdGlvbkJhci5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuYWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgIH07XG4gICAgQWN0aW9uQmFyLnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmJ1dHRvbkdyb3VwRGl2LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hY3Rpb25zLmxlbmd0aDsgaSArKykge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IHRoaXMuYWN0aW9uc1tpXTtcbiAgICAgICAgICAgIGlmIChhY3Rpb24uaXNWaXNpYmxlICYmICFhY3Rpb24uaXNWaXNpYmxlKCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgZGlzYWJsZWQgPSBhY3Rpb24uaXNBcHBsaWNhYmxlICYmICFhY3Rpb24uaXNBcHBsaWNhYmxlKCk7XG4gICAgICAgICAgICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgRG9tLmFkZENsYXNzKGJ1dHRvbiwgXCJidG4gYnRuLWRlZmF1bHRcIik7XG4gICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gXCI8c3Bhbj48aSBjbGFzcz1cXFwiZmEgXCIgKyBhY3Rpb24uZ2V0SWNvbigpICsgXCJcXFwiPjwvaT4gXCIgKyBEb20uaHRtbEVuY29kZShhY3Rpb24uZ2V0VGl0bGUoKSkgKyBcIjwvc3Bhbj5cIjtcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uR3JvdXBEaXYuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgIERvbS5hZGRDbGFzcyhidXR0b24sIFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1dHRvbi5fYWN0aW9uID0gYWN0aW9uO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gQWN0aW9uQmFyO1xufSgpO1xuXG4iLCJ2YXIgRklMRV9TSVpFID0gNTI0Mjg4MDtcbndpZGdldC5JbWFnZVVwbG9hZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGltYWdlVXBsb2FkZXJDbGlja0hhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgdmFyIGltYWdlVXBsb2FkZXIgPSBJbWFnZVVwbG9hZGVyLmZpbmRJbnN0YW5jZShldmVudCk7XG4gICAgICAgIHZhciBidWlsZGVyID0ge1xuICAgICAgICAgICAgdGl0bGUgOiBNZXNzYWdlc1tcInVwbG9hZF9waWN0dXJlXCJdLFxuICAgICAgICAgICAgaWNvbjogXCJmYSBmYS11cGxvYWRcIixcbiAgICAgICAgICAgIHNpemUgOiBcInNtYWxsXCIsXG4gICAgICAgICAgICBidWlsZENvbnRlbnQgOiBmdW5jdGlvbihjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VVcGxvYWRlci5vcHRpb24udGlwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGlwLmlubmVySFRNTCA9IGltYWdlVXBsb2FkZXIub3B0aW9uLnRpcDtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRpcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciBvYmplY3QgPSBjcmVhdGVVcGxvYWRGb3JtKGNvbnRhaW5lciwgaW1hZ2VVcGxvYWRlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JtID0gb2JqZWN0LmZvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5pZnJhbWUgPSBvYmplY3QuaWZyYW1lO1xuICAgICAgICAgICAgICAgIHRoaXMucGlja2VyID0gb2JqZWN0LnBpY2tlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbk9wZW4gOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhY3Rpb25zIDogW3tcbiAgICAgICAgICAgICAgICAgdGl0bGU6IE1lc3NhZ2VzW1widXBsb2FkXCJdLFxuICAgICAgICAgICAgICAgICBwcmltYXJ5OiB0cnVlLFxuICAgICAgICAgICAgICAgICBydW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgIHZhciB0aGl6ID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgIERvbS5yZWdpc3RlckV2ZW50KHRoaXMuaWZyYW1lLCBcImxvYWRcIiwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZSA9IERvbS5nZXRJZnJhbWVEb2N1bWVudCh0aGl6LmlmcmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmluZGV4T2YoXCJPS1wiKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVwbG9hZGVyLmlzTW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGl6Ll9kaWFsb2cucXVpdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VVcGxvYWRlci5zZXRJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LkRpYWxvZy5lcnJvcihNZXNzYWdlc1tcInVwbG9hZF9lcnJvcl9tc2dcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICB2YXIgZXh0ZW5zaW9ucyA9IFtcInBuZ1wiLCBcImpwZ1wiLCBcImdpZlwiLCBcImJtcFwiXTtcbiAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlRXh0ID0gdGhpcy5waWNrZXIudmFsdWUuc3BsaXQoXCIuXCIpLnBvcCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5waWNrZXIudmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleHRlbnNpb25zLmluZGV4T2YoZmlsZUV4dCkgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LkRpYWxvZy5lcnJvcihNZXNzYWdlc1tcInVwbG9hZF9ub3Rfc3VwcG9ydGVkX2ZpbGVzX21zZ1wiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGlja2VyLmZpbGVzICYmIHRoaXMucGlja2VyLmZpbGVzLmxlbmd0aCA+IDAgJiYgdGhpcy5waWNrZXIuZmlsZXNbMF0uc2l6ZSA+PSBGSUxFX1NJWkUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LkRpYWxvZy5lcnJvcihTdHJpbmcuZm9ybWF0KE1lc3NhZ2VzW1wiZmlsZV9pc190b29fbGFyZ2VfbXNnXCJdLCA1KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuRGlhbG9nLmVycm9yKE1lc3NhZ2VzW1wibm9fZmlsZV91cGxvYWRlZF9tc2dcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICB9LCBcbiAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGUgOiBNZXNzYWdlc1tcImNhbmNlbFwiXSxcbiAgICAgICAgICAgICAgICBpc0Nsb3NlSGFuZGxlciA6IHRydWUsXG4gICAgICAgICAgICAgICAgcnVuIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gXVxuICAgICAgICB9O1xuXG4gICAgICAgIG5ldyB3aWRnZXQuRGlhbG9nKGJ1aWxkZXIpLnNob3coKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gaW1hZ2VSZW1vdmVyQ2xpY2tIYW5kbGVyKGV2ZW50KSB7XG4gICAgICAgIHZhciBpbWFnZVVwbG9hZGVyID0gSW1hZ2VVcGxvYWRlci5maW5kSW5zdGFuY2UoZXZlbnQpO1xuICAgICAgICB2YXIgY29udGFpbmVyID0gaW1hZ2VVcGxvYWRlci5jb250YWluZXI7XG4gICAgICAgIHdpZGdldC5EaWFsb2cuY29uZmlybShNZXNzYWdlc1tcInJlbW92ZV9pbWFnZV9tc2dcIl0sXG4gICAgICAgICAgICAgICAgTWVzc2FnZXNbXCJyZW1vdmVcIl0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iamVjdCA9IGNyZWF0ZVVwbG9hZEZvcm0oY29udGFpbmVyLCBpbWFnZVVwbG9hZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtID0gb2JqZWN0LmZvcm07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWZyYW1lID0gb2JqZWN0LmlmcmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpeiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIERvbS5yZWdpc3RlckV2ZW50KHRoaXMuaWZyYW1lLCBcImxvYWRcIiwgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gRG9tLmdldElmcmFtZURvY3VtZW50KHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmluZGV4T2YoXCJPS1wiKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXBsb2FkZXIuaXNNb2RpZmllZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZVVwbG9hZGVyLm9wdGlvbi5mYWxsYmFja1VybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVwbG9hZGVyLmltYWdlRGlzcGxheS5fZmFsbGJhY2tSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZVVwbG9hZGVyLnNldEltYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpei5pZnJhbWUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpei5mb3JtLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuRGlhbG9nLmVycm9yKE1lc3NhZ2VzW1wicmVtb3ZlX2ltYWdlX2ZhaWxlZF9tc2dcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBNZXNzYWdlc1tcImNhbmNlbFwiXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gY3JlYXRlVXBsb2FkRm9ybShjb250YWluZXIsIGltYWdlVXBsb2FkZXIpIHtcbiAgICAgICAgdmFyIGlmcmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwiaWZyYW1lXCIpO1xuICAgICAgICBpZnJhbWUuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJmcmFtZVwiKTtcbiAgICAgICAgaWZyYW1lLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBcIjBcIik7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBcIjBcIik7XG4gICAgICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoXCJmcmFtZWJvcmRlclwiLCBcIjBcIik7XG4gICAgICAgIGlmcmFtZSA9IGlmcmFtZTtcbiAgICAgICAgXG4gICAgICAgIGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIiwgQ09OVEVYVF9QQVRIICsgXCIvYW13L3VwbG9hZFwiKTtcbiAgICAgICAgZm9ybS5zZXRBdHRyaWJ1dGUoXCJtZXRob2RcIiwgXCJQT1NUXCIpO1xuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZShcImVuY3R5cGVcIiwgXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIpO1xuICAgICAgICBmb3JtLnNldEF0dHJpYnV0ZShcInRhcmdldFwiLCBcImlmcmFtZVwiKTtcbiAgICAgICAgXG4gICAgICAgIHZhciBwaWNrZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIHBpY2tlci5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiZmlsZVwiKTtcbiAgICAgICAgcGlja2VyLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJmaWxlXCIpO1xuICAgICAgICBwaWNrZXIuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJmaWxlXCIpO1xuICAgICAgICBmb3JtLmFwcGVuZENoaWxkKHBpY2tlcik7XG4gICAgICAgIFxuICAgICAgICB2YXIgZW50aXR5VHlwZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgZW50aXR5VHlwZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICBlbnRpdHlUeXBlLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJlbnRpdHlUeXBlXCIpO1xuICAgICAgICBlbnRpdHlUeXBlLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiZW50aXR5VHlwZVwiKTtcbiAgICAgICAgZW50aXR5VHlwZS52YWx1ZSA9IGltYWdlVXBsb2FkZXIub3B0aW9uLnR5cGU7XG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZW50aXR5VHlwZSk7XG4gICAgICAgIFxuICAgICAgICB2YXIgZW50aXR5SWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGVudGl0eUlkLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIGVudGl0eUlkLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJlbnRpdHlJZFwiKTtcbiAgICAgICAgZW50aXR5SWQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJlbnRpdHlJZFwiKTtcbiAgICAgICAgZW50aXR5SWQudmFsdWUgPSBpbWFnZVVwbG9hZGVyLm9wdGlvbi5pZDtcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChlbnRpdHlJZCk7XG4gICAgICAgIFxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZvcm0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9ybTogZm9ybSxcbiAgICAgICAgICAgIGlmcmFtZTogaWZyYW1lLFxuICAgICAgICAgICAgcGlja2VyOiBwaWNrZXJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gSW1hZ2VVcGxvYWRlcihjb250YWluZXIsIG9wdGlvbikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHdpZGdldC5nZXQoY29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5vcHRpb24gPSBvcHRpb24gfHwge307XG4gICAgICAgIHRoaXMuaXNNb2RpZmllZCA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgdGhpcy53cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy53cmFwcGVyLmNsYXNzTmFtZSA9IFwiSW1hZ2VVcGxvYWRlclwiO1xuICAgICAgICB0aGlzLndyYXBwZXIuX2ltYWdlVXBsb2FkZXIgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5vcHRpb24uZWRpdGFibGUpIHtcbiAgICAgICAgICAgIERvbS5hZGRDbGFzcyh0aGlzLndyYXBwZXIsIFwiRWRpdGFibGVcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBEb20uYWRkQ2xhc3ModGhpcy53cmFwcGVyLCBcIk5vbkVkaXRhYmxlXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLmltYWdlUGlja2VyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5pbWFnZVBpY2tlci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgdGhpcy5pbWFnZVBpY2tlci5jbGFzc05hbWUgPSBcIkltYWdlUGlja2VyXCI7XG4gICAgICAgIHRoaXMuaW1hZ2VQaWNrZXIuaW5uZXJIVE1MID0gXCI8YSBocmVmPVxcXCIjXFxcIj48aSBjbGFzcz1cXFwiZmEgZmEtcGx1c1xcXCI+PC9pPlwiICsgTWVzc2FnZXNbXCJhZGRfcGljdHVyZVwiXSArXCI8L2E+XCI7XG4gICAgICAgIHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmltYWdlUGlja2VyKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuaW1hZ2VEaXNwbGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgdGhpcy5pbWFnZURpc3BsYXkuY2xhc3NOYW1lID0gXCJJbWFnZURpc3BsYXlcIjtcbiAgICAgICAgdGhpcy53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuaW1hZ2VEaXNwbGF5KTtcblxuICAgICAgICB0aGlzLmltYWdlRWRpdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5pbWFnZUVkaXRvci5jbGFzc05hbWUgPSBcIkltYWdlRWRpdG9yXCI7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbi5zbWFsbEFyZWEpIHtcbiAgICAgICAgICAgIERvbS5hZGRDbGFzcyh0aGlzLmltYWdlRWRpdG9yLCBcIlNtYWxsXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1hZ2VSZXBsYWNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICB0aGlzLmltYWdlUmVwbGFjZXIuaHJlZiA9IFwiI1wiO1xuICAgICAgICB0aGlzLmltYWdlUmVwbGFjZXIuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgTWVzc2FnZXNbXCJyZXBsYWNlXCJdKTtcbiAgICAgICAgdGhpcy5pbWFnZVJlcGxhY2VyLmlubmVySFRNTCA9IHRoaXMub3B0aW9uLnNtYWxsQXJlYSA/IFwiPGkgY2xhc3M9XFxcImZhIGZhLWV4Y2hhbmdlXFxcIj48L2k+XCIgOiAoXCI8aSBjbGFzcz1cXFwiZmEgZmEtZXhjaGFuZ2VcXFwiPjwvaT5cIiArIE1lc3NhZ2VzW1wicmVwbGFjZVwiXSk7XG4gICAgICAgIHRoaXMuaW1hZ2VFZGl0b3IuYXBwZW5kQ2hpbGQodGhpcy5pbWFnZVJlcGxhY2VyKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuaW1hZ2VSZW1vdmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgICAgIHRoaXMuaW1hZ2VSZW1vdmVyLmhyZWYgPSBcIiNcIjtcbiAgICAgICAgdGhpcy5pbWFnZVJlbW92ZXIuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgTWVzc2FnZXNbXCJyZW1vdmVcIl0pO1xuICAgICAgICB0aGlzLmltYWdlUmVtb3Zlci5pbm5lckhUTUwgPSB0aGlzLm9wdGlvbi5zbWFsbEFyZWEgPyBcIjxpIGNsYXNzPVxcXCJmYSBmYS10aW1lc1xcXCI+PC9pPlwiIDogKFwiPGkgY2xhc3M9XFxcImZhIGZhLXRpbWVzXFxcIj48L2k+XCIgKyBNZXNzYWdlc1tcInJlbW92ZVwiXSk7XG4gICAgICAgIHRoaXMuaW1hZ2VFZGl0b3IuYXBwZW5kQ2hpbGQodGhpcy5pbWFnZVJlbW92ZXIpO1xuICAgICAgICB0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5pbWFnZUVkaXRvcik7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLndyYXBwZXIpO1xuICAgICAgICBEb20ucmVnaXN0ZXJFdmVudCh0aGlzLmltYWdlUGlja2VyLCBcImNsaWNrXCIsIGltYWdlVXBsb2FkZXJDbGlja0hhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgRG9tLnJlZ2lzdGVyRXZlbnQodGhpcy5pbWFnZVJlcGxhY2VyLCBcImNsaWNrXCIsIGltYWdlVXBsb2FkZXJDbGlja0hhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgRG9tLnJlZ2lzdGVyRXZlbnQodGhpcy5pbWFnZVJlbW92ZXIsIFwiY2xpY2tcIiwgaW1hZ2VSZW1vdmVyQ2xpY2tIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuY2VudGVyUGlja2VyKCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbi5mYWxsYmFja1VybCkge1xuICAgICAgICAgICAgRG9tLmFkZENsYXNzKHRoaXMud3JhcHBlciwgXCJGYWxsYmFja1wiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBJbWFnZVVwbG9hZGVyLnByb3RvdHlwZS5jZW50ZXJQaWNrZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lckJveCA9IHRoaXMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB2YXIgcGlja2VyQm94ID0gdGhpcy5pbWFnZVBpY2tlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VQaWNrZXIuc3R5bGUubWFyZ2luVG9wID0gKGNvbnRhaW5lckJveC5oZWlnaHQgLSBwaWNrZXJCb3guaGVpZ2h0KSAvIDIgKyBcInB4XCI7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGhhbmRsZSBleGNlcHRpb25cbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgSW1hZ2VVcGxvYWRlci5wcm90b3R5cGUuc2V0SW1hZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHVybCA9IENPTlRFWFRfUEFUSCArIFwiL2Ftdy1pbT9lbnRpdHlUeXBlPVwiICsgdGhpcy5vcHRpb24udHlwZSArIFwiJmVudGl0eUlkPVwiICsgdGhpcy5vcHRpb24uaWQgKyBcIiZ0aW1lPVwiICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHRoaXMuaW1hZ2VEaXNwbGF5LnNyYyA9IHVybDtcbiAgICAgICAgdGhpcy5pbWFnZURpc3BsYXkuc2V0QXR0cmlidXRlKFwiZmFsbGJhY2stc3JjXCIsIHRoaXMub3B0aW9uLmZhbGxiYWNrVXJsIHx8IFwiXCIpO1xuICAgICAgICB0aGlzLmltYWdlRGlzcGxheS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcIlwiKTtcbiAgICAgICAgdGhpcy5pbWFnZVJlbW92ZXIuc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lXCI7XG4gICAgICAgIHZhciB0aGl6ID0gdGhpcztcbiAgICAgICAgdGhpcy5pbWFnZURpc3BsYXkub25sb2FkID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIERvbS5hZGRDbGFzcyh0aGl6LndyYXBwZXIsIFwiRGlzcGxheVwiKTtcbiAgICAgICAgICAgIGNlbnRlckNyb3AodGhpcyk7XG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB0aGlzLmltYWdlRGlzcGxheS5vbmVycm9yID0gZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICBpZiAodGhpei5vcHRpb24uZmFsbGJhY2tVcmwpIHRoaXouaW1hZ2VSZW1vdmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIERvbS5yZW1vdmVDbGFzcyh0aGl6LndyYXBwZXIsIFwiRGlzcGxheVwiKTtcbiAgICAgICAgICAgIHNob3dGYWxsYmFjayh0aGlzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIEltYWdlVXBsb2FkZXIucHJvdG90eXBlLmVuYWJsZUVkaXRNb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIERvbS5hZGRDbGFzcyh0aGlzLndyYXBwZXIsIFwiRWRpdGFibGVcIik7XG4gICAgfTtcbiAgICBcbiAgICBJbWFnZVVwbG9hZGVyLnByb3RvdHlwZS5kaXNhYmxlRWRpdE1vZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgRG9tLnJlbW92ZUNsYXNzKHRoaXMud3JhcHBlciwgXCJFZGl0YWJsZVwiKTtcbiAgICB9O1xuICAgIFxuICAgIEltYWdlVXBsb2FkZXIuZmluZEluc3RhbmNlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IERvbS5nZXRUYXJnZXQoZXZlbnQpO1xuICAgICAgICB2YXIgbm9kZSA9IERvbS5maW5kVXB3YXJkKHRhcmdldCwge1xuICAgICAgICAgICAgZXZhbDogZnVuY3Rpb24obikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuLl9pbWFnZVVwbG9hZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIW5vZGUpIHJldHVybiBudWxsO1xuXG4gICAgICAgIHJldHVybiBub2RlLl9pbWFnZVVwbG9hZGVyO1xuICAgIH07XG4gICAgXG4gICAgcmV0dXJuIEltYWdlVXBsb2FkZXI7XG59KCk7XG5cbiIsImZ1bmN0aW9uIE1lbnVHcm91cCgpIHtcbiAgICBCYXNlVGVtcGxhdGVkV2lkZ2V0LmNhbGwodGhpcyk7XG59XG5fX2V4dGVuZChCYXNlVGVtcGxhdGVkV2lkZ2V0LCBNZW51R3JvdXApO1xuIiwiZnVuY3Rpb24gTnVtUGFkKCkge1xuICAgIEJhc2VUZW1wbGF0ZWRXaWRnZXQuY2FsbCh0aGlzKTtcbn1cbl9fZXh0ZW5kKEJhc2VUZW1wbGF0ZWRXaWRnZXQsIE51bVBhZCk7XG4iLCJmdW5jdGlvbiBQb3B1cCgpIHtcbiAgICBCYXNlVGVtcGxhdGVkV2lkZ2V0LmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLmZvcmNlSW5zaWRlID0gdHJ1ZTtcbiAgICB0aGlzLnVzZVpJbmRleCA9IHRydWU7XG4gICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG59XG5fX2V4dGVuZChCYXNlVGVtcGxhdGVkV2lkZ2V0LCBQb3B1cCk7XG5Qb3B1cC5aX0lOREVYID0gOTAwMTtcblxuXG5Qb3B1cC5wcm90b3R5cGUub25BdHRhY2hlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5wb3B1cENvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnJlcGFyZW50KCk7XG4gICAgICAgIHRoaXMucG9wdXBDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHRoaXMucG9wdXBDb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgICAgIHRoaXMucG9wdXBDb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfVxufTtcblxuUG9wdXAucHJvdG90eXBlLnNldFBvcHVwQ2xhc3MgPSBmdW5jdGlvbiAoY2xhenopIHtcbiAgICBEb20uYWRkQ2xhc3ModGhpcy5wb3B1cENvbnRhaW5lciwgY2xhenopO1xufTtcblBvcHVwLnByb3RvdHlwZS5jbG9zZVVwd2FyZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciB0aGl6ID0gdGhpcztcbiAgICB2YXIgbm9kZSA9ICFldmVudCA/IG51bGwgOiBEb20uZmluZFVwd2FyZChldmVudC50YXJnZXQsIGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIHJldHVybiBuID09IHRoaXoucG9wdXBDb250YWluZXI7XG4gICAgfSk7XG5cbiAgICBpZiAobm9kZSkgcmV0dXJuO1xuICAgIGlmICh0aGlzLmRvbnRDbG9zZVVwd2FyZCAmJiB0aGlzLmRvbnRDbG9zZVVwd2FyZChldmVudCkpIHJldHVybjtcbiAgICB0aGlzLmhpZGUoKTtcbiAgICBpZiAoZXZlbnQpIERvbS5jYW5jZWxFdmVudChldmVudCk7XG5cbiAgICBpZiAodGhpcy5fcGFyZW50KSB0aGlzLl9wYXJlbnQuY2xvc2VVcHdhcmQoZXZlbnQpO1xufTtcblBvcHVwLnByb3RvdHlwZS5zaG91bGRDbG9zZU9uQmx1ciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5Qb3B1cC5wcm90b3R5cGUuY2hlY2tUb0Nsb3NlUGFyZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB2YXIgdGhpeiA9IHRoaXM7XG4gICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAocG9wdXApIHtcbiAgICAgICAgaWYgKCFwb3B1cC5fcGFyZW50KSByZXR1cm47XG5cbiAgICAgICAgdmFyIG5vZGUgPSBEb20uZmluZFVwd2FyZChlbGVtZW50LCBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgcmV0dXJuIG4gPT0gcG9wdXAuX3BhcmVudC5wb3B1cENvbnRhaW5lcjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIHBvcHVwLl9wYXJlbnQuX2tlZXBTaG93aW5nID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvcHVwLl9wYXJlbnQuX2tlZXBTaG93aW5nID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBoYW5kbGVyKHBvcHVwLl9wYXJlbnQpO1xuICAgIH07XG5cbiAgICBoYW5kbGVyKHRoaXMpO1xufTtcblBvcHVwLnByb3RvdHlwZS5zZXRDb250ZW50RnJhZ21lbnQgPSBmdW5jdGlvbiAoZnJhZ21lbnQpIHtcbiAgICB0aGlzLnBvcHVwQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbn07XG5Qb3B1cC5wcm90b3R5cGUucmVwYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucG9wdXBDb250YWluZXIucGFyZW50Tm9kZSAhPSB0aGlzLm5vZGUoKS5vd25lckRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgdGhpcy5wb3B1cENvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucG9wdXBDb250YWluZXIpO1xuICAgICAgICB0aGlzLm5vZGUoKS5vd25lckRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5wb3B1cENvbnRhaW5lcik7XG4gICAgfVxufTtcblBvcHVwLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbiAoYW5jaG9yLCBoQWxpZ24sIHZBbGlnbiwgaFBhZGRpbmcsIHZQYWRkaW5nLCBhdXRvRmxpcCkge1xuICAgIGlmICh0aGlzLmlzVmlzaWJsZSgpKSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2hvdyhhbmNob3IsIGhBbGlnbiwgdkFsaWduLCBoUGFkZGluZywgdlBhZGRpbmcsIGF1dG9GbGlwKTtcbiAgICB9XG59O1xuUG9wdXAucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoYW5jaG9yLCBoQWxpZ24sIHZBbGlnbiwgaFBhZGRpbmcsIHZQYWRkaW5nLCBhdXRvRmxpcCkge1xuICAgIHRoaXMucmVwYXJlbnQoKTtcblxuICAgIGlmICh0aGlzLm1vZGUpIHtcbiAgICAgICAgdGhpcy5wb3B1cENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJtb2RlXCIsIHRoaXMubW9kZSk7XG4gICAgfVxuXG4gICAgdGhpcy5wb3B1cENvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICB0aGlzLnBvcHVwQ29udGFpbmVyLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgIHRoaXMucG9wdXBDb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICB0aGlzLnBvcHVwQ29udGFpbmVyLnN0eWxlLndpZHRoID0gXCJhdXRvXCI7XG4gICAgdGhpcy5wb3B1cENvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIjtcblxuICAgIHRoaXMucG9wdXBDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgdGhpcy5wb3B1cENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIHRoaXMucG9wdXBDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCI7XG4gICAgdGhpcy5wb3B1cENvbnRhaW5lci5zdHlsZS5vdmVyZmxvdyA9IFwidmlzaWJsZVwiO1xuXG4gICAgdmFyIHRoaXogPSB0aGlzO1xuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpei5fc2hvd0ltcGwoYW5jaG9yLCBoQWxpZ24sIHZBbGlnbiwgaFBhZGRpbmcsIHZQYWRkaW5nLCBhdXRvRmxpcCk7XG4gICAgfSwgMTApO1xufTtcblBvcHVwLnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlzaWJsZTtcbn07XG5Qb3B1cC5wcm90b3R5cGUuc2hvd0F0ID0gZnVuY3Rpb24gKHgsIHksIHNraXBFdmVudCkge1xuICAgIHRoaXMucmVwYXJlbnQoKTtcblxuICAgIGlmICh0aGlzLm1vZGUpIHtcbiAgICAgICAgdGhpcy5wb3B1cENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJtb2RlXCIsIHRoaXMubW9kZSk7XG4gICAgfVxuXG4gICAgdGhpcy5wb3B1cENvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICB0aGlzLnBvcHVwQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgIHRoaXMucG9wdXBDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgIHZhciB3ID0gdGhpcy5wb3B1cENvbnRhaW5lci5vZmZzZXRXaWR0aDtcbiAgICB2YXIgaCA9IHRoaXMucG9wdXBDb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuXG4gICAgdmFyIHNjcmVlblcgPSBkb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoIC0gMTA7XG4gICAgdmFyIHNjcmVlbkggPSB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxMDtcblxuICAgIGlmICh5ICsgaCA+IHNjcmVlbkgpIHtcbiAgICAgICAgeSA9IHNjcmVlbkggLSBoO1xuICAgIH1cblxuICAgIGlmICh4ICsgdyA+IHNjcmVlblcpIHtcbiAgICAgICAgeCA9IHggLSB3O1xuICAgIH1cblxuICAgIHRoaXMucG9wdXBDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5wb3B1cENvbnRhaW5lci5zdHlsZS5sZWZ0ID0geCArIFwicHhcIjtcbiAgICB0aGlzLnBvcHVwQ29udGFpbmVyLnN0eWxlLnRvcCA9IHkgKyBcInB4XCI7XG4gICAgLy9pZiAodGhpcy51c2VaSW5kZXgpIHRoaXMucG9wdXBDb250YWluZXIuc3R5bGUuekluZGV4ID0gUG9wdXAuWl9JTkRFWDtcbiAgICB0aGlzLnBvcHVwQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImluaGVyaXRcIjtcbiAgICB0aGlzLnBvcHVwQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSB0aGlzLnBvcHVwT3BhY2l0eSB8fCAxO1xuICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgaWYgKCFza2lwRXZlbnQpIERvbS5lbWl0RXZlbnQoXCJwOlBvcHVwU2hvd25cIiwgdGhpcy5ub2RlKCkpO1xuICAgIGlmICghdGhpcy5za2lwU3RhY2spIHtcbiAgICAgICAgQmFzZVdpZGdldC5yZWdpc3RlckNsb3NhYmxlKHRoaXMpO1xuICAgIH1cbn07XG5Qb3B1cC5wcm90b3R5cGUuX2NhbGN1bGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKGFuY2hvciwgaEFsaWduLCB2QWxpZ24sIGhQYWRkaW5nLCB2UGFkZGluZykge1xuICAgIHZhciB3ID0gdGhpcy5wb3B1cENvbnRhaW5lci5vZmZzZXRXaWR0aDtcbiAgICB2YXIgaCA9IHRoaXMucG9wdXBDb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuXG4gICAgdmFyIHJlY3QgPSBhbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgdmFyIHZpZXdwb3J0UmVjdCA9IHRoaXMucG9wdXBDb250YWluZXIucGFyZW50Tm9kZSA/IHRoaXMucG9wdXBDb250YWluZXIucGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IGRvY3VtZW50LmJvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICB2YXIgdmVydGljYWxTY3JvbGwgPSBcInRydWVcIiA9PSBEb20uZ2V0QXR0cmlidXRlQXNTdHJpbmcodGhpcy5ub2RlKCksIFwidmVydGljYWxTY3JvbGxcIiwgXCJmYWxzZVwiKTtcbiAgICBpZiAodmVydGljYWxTY3JvbGwgJiYgaCA+IHZpZXdwb3J0UmVjdC5oZWlnaHQgKiAwLjUpIHtcbiAgICAgICAgdmFyIG5IID0gdmlld3BvcnRSZWN0LmhlaWdodCAqIDAuNTtcbiAgICAgICAgaCA9IG5IXG4gICAgICAgIHZpZXdwb3J0UmVjdC5oZWlnaHQgPSBuSDtcbiAgICAgICAgdmlld3BvcnRSZWN0LnRvcCA9IHZpZXdwb3J0UmVjdC5ib3R0b20gLSBuSDtcbiAgICB9XG4gICAgdmFyIGF3ID0gcmVjdC53aWR0aDtcbiAgICB2YXIgYWggPSByZWN0LmhlaWdodDtcbiAgICB2YXIgYXggPSByZWN0LmxlZnQgLSB2aWV3cG9ydFJlY3QubGVmdDtcbiAgICB2YXIgYXkgPSByZWN0LnRvcCAtIHZpZXdwb3J0UmVjdC50b3A7XG4gICAgdmFyIHAgPSBoUGFkZGluZyB8fCAwO1xuXG4gICAgdmFyIHggPSAwO1xuICAgIGlmIChoQWxpZ24gPT0gXCJsZWZ0XCIpIHggPSBheCAtIHcgLSBwO1xuICAgIGlmIChoQWxpZ24gPT0gXCJsZWZ0LWluc2lkZVwiKSB4ID0gYXggKyBwO1xuICAgIGlmIChoQWxpZ24gPT0gXCJtaWRkbGVcIiB8fCBoQWxpZ24gPT0gXCJjZW50ZXJcIikgeCA9IGF4ICsgYXcgLyAyIC0gdyAvIDI7XG4gICAgaWYgKGhBbGlnbiA9PSBcInJpZ2h0XCIpIHggPSBheCArIGF3ICsgcDtcbiAgICBpZiAoaEFsaWduID09IFwicmlnaHQtaW5zaWRlXCIpIHggPSBheCArIGF3IC0gdyAtIHA7XG5cbiAgICBwID0gdlBhZGRpbmcgfHwgcDtcblxuICAgIHZhciB5ID0gMDtcblxuICAgIGlmICh2QWxpZ24gPT0gXCJ0b3BcIikgeSA9IGF5IC0gaCAtIHA7XG4gICAgaWYgKHZBbGlnbiA9PSBcInRvcC1pbnNpZGVcIikgeSA9IGF5ICsgcDtcbiAgICBpZiAodkFsaWduID09IFwibWlkZGxlXCIgfHwgdkFsaWduID09IFwiY2VudGVyXCIpIHkgPSBheSArIGFoIC8gMiAtIGggLyAyO1xuICAgIGlmICh2QWxpZ24gPT0gXCJib3R0b21cIikgeSA9IGF5ICsgYWggKyBwO1xuICAgIGlmICh2QWxpZ24gPT0gXCJib3R0b20taW5zaWRlXCIpIHkgPSBheSArIGFoIC0gaCAtIHA7XG4gICAgcmV0dXJuIHt4OiB4LCB5OiB5LCB2aWV3cG9ydFdpZHRoOiB2aWV3cG9ydFJlY3Qud2lkdGgsIHZpZXdwb3J0SGVpZ2h0OiB2aWV3cG9ydFJlY3QuaGVpZ2h0fTtcbn07XG5Qb3B1cC5wcm90b3R5cGUuaW52YWxpZGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5sYXN0U2hvd09wdGlvbnMpIHJldHVybjtcbiAgICB0aGlzLl9zaG93SW1wbCh0aGlzLmxhc3RTaG93T3B0aW9ucy5hbmNob3IsXG4gICAgICAgIHRoaXMubGFzdFNob3dPcHRpb25zLmhBbGlnbixcbiAgICAgICAgdGhpcy5sYXN0U2hvd09wdGlvbnMudkFsaWduLFxuICAgICAgICB0aGlzLmxhc3RTaG93T3B0aW9ucy5oUGFkZGluZyxcbiAgICAgICAgdGhpcy5sYXN0U2hvd09wdGlvbnMudlBhZGRpbmcsXG4gICAgICAgIHRoaXMubGFzdFNob3dPcHRpb25zLmF1dG9GbGlwLFxuICAgICAgICBcInNraXBFdmVudFwiKTtcbn07XG5Qb3B1cC5wcm90b3R5cGUuX3Nob3dJbXBsID0gZnVuY3Rpb24gKGFuY2hvciwgaEFsaWduLCB2QWxpZ24sIGhQYWRkaW5nLCB2UGFkZGluZywgYXV0b0ZsaXAsIHNraXBFdmVudCkge1xuICAgIHRoaXMubGFzdFNob3dPcHRpb25zID0ge1xuICAgICAgICBhbmNob3I6IGFuY2hvcixcbiAgICAgICAgaEFsaWduOiBoQWxpZ24sXG4gICAgICAgIHZBbGlnbjogdkFsaWduLFxuICAgICAgICBoUGFkZGluZzogaFBhZGRpbmcsXG4gICAgICAgIHZQYWRkaW5nOiB2UGFkZGluZyxcbiAgICAgICAgYXV0b0ZsaXA6IGF1dG9GbGlwLFxuICAgICAgICBza2lwRXZlbnQ6IHNraXBFdmVudFxuICAgIH07XG4gICAgdmFyIHcgPSB0aGlzLnBvcHVwQ29udGFpbmVyLm9mZnNldFdpZHRoO1xuICAgIHZhciBoID0gdGhpcy5wb3B1cENvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XG5cbiAgICB2YXIgcCA9IHRoaXMuX2NhbGN1bGF0ZVBvc2l0aW9uKGFuY2hvciwgaEFsaWduLCB2QWxpZ24sIGhQYWRkaW5nLCB2UGFkZGluZyk7XG4gICAgaCA9IE1hdGgubWluKHAudmlld3BvcnRIZWlnaHQsIGgpO1xuICAgIHZhciB4ID0gcC54O1xuICAgIHZhciB5ID0gcC55O1xuXG4gICAgLy9pbnZhbGlkYXRlIGludG8gdmlld1xuICAgIHZhciBzY3JlZW5XID0gcC52aWV3cG9ydFdpZHRoIC0gMTA7XG4gICAgaWYgKHggKyB3ID4gc2NyZWVuVykge1xuICAgICAgICBpZiAoYXV0b0ZsaXAgJiYgKGhBbGlnbiA9PSBcInJpZ2h0XCIgfHwgaEFsaWduID09IFwibGVmdC1pbnNpZGVcIikpIHtcbiAgICAgICAgICAgIGhBbGlnbiA9IGhBbGlnbiA9PSBcInJpZ2h0XCIgPyBcImxlZnRcIiA6IFwicmlnaHQtaW5zaWRlXCI7XG4gICAgICAgICAgICBwID0gdGhpcy5fY2FsY3VsYXRlUG9zaXRpb24oYW5jaG9yLCBoQWxpZ24sIHZBbGlnbiwgaFBhZGRpbmcsIHZQYWRkaW5nKTtcbiAgICAgICAgICAgIHggPSBwLng7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5mb3JjZUluc2lkZSkgeCA9IHNjcmVlblcgLSB3O1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBzY3JlZW5IID0gcC52aWV3cG9ydEhlaWdodCAtIDEwO1xuXG4gICAgaWYgKHkgKyBoID4gc2NyZWVuSCkge1xuICAgICAgICB2YXIgZml4ZWRZID0gZmFsc2U7XG4gICAgICAgIGlmIChhdXRvRmxpcCAmJiAodkFsaWduID09IFwiYm90dG9tXCIgfHwgdkFsaWduID09IFwidG9wLWluc2lkZVwiKSkge1xuICAgICAgICAgICAgdkFsaWduID0gdkFsaWduID09IFwiYm90dG9tXCIgPyBcInRvcFwiIDogXCJib3R0b20taW5zaWRlXCI7XG4gICAgICAgICAgICBwID0gdGhpcy5fY2FsY3VsYXRlUG9zaXRpb24oYW5jaG9yLCBoQWxpZ24sIHZBbGlnbiwgaFBhZGRpbmcsIHZQYWRkaW5nKTtcbiAgICAgICAgICAgIHkgPSBwLnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5mb3JjZUluc2lkZSkgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IChzY3JlZW5IIC0geSkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cENvbnRhaW5lci5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICh5IDwgMCkge1xuICAgICAgICBpZiAoYXV0b0ZsaXAgJiYgKHZBbGlnbiA9PSBcInRvcFwiIHx8IHZBbGlnbiA9PSBcImJvdHRvbS1pbnNpZGVcIikpIHtcbiAgICAgICAgICAgIHZBbGlnbiA9IHZBbGlnbiA9PSBcInRvcFwiID8gXCJib3R0b21cIiA6IFwidG9wLWluc2lkZVwiO1xuICAgICAgICAgICAgcCA9IHRoaXMuX2NhbGN1bGF0ZVBvc2l0aW9uKGFuY2hvciwgaEFsaWduLCB2QWxpZ24sIGhQYWRkaW5nLCB2UGFkZGluZyk7XG4gICAgICAgICAgICB5ID0gcC55O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLm9uQmVmb3JlVmlzaWJsZSkgdGhpcy5vbkJlZm9yZVZpc2libGUoeCwgeSwgaEFsaWduLCB2QWxpZ24pO1xuICAgIHRoaXMucG9wdXBDb250YWluZXIuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgdGhpcy5wb3B1cENvbnRhaW5lci5zdHlsZS5sZWZ0ID0gTWF0aC5tYXgoMCwgeCkgKyBcInB4XCI7XG4gICAgdGhpcy5wb3B1cENvbnRhaW5lci5zdHlsZS50b3AgPSBNYXRoLm1heCgwLCB5KSArIFwicHhcIjtcbiAgICAvL3RoaXMucG9wdXBDb250YWluZXIuc3R5bGUud2lkdGggPSB3ICsgXCJweFwiO1xuICAgIHZhciB2ZXJ0aWNhbFNjcm9sbCA9IFwidHJ1ZVwiID09IERvbS5nZXRBdHRyaWJ1dGVBc1N0cmluZyh0aGlzLm5vZGUoKSwgXCJ2ZXJ0aWNhbFNjcm9sbFwiLCBcImZhbHNlXCIpO1xuICAgIGlmICh2ZXJ0aWNhbFNjcm9sbCkge1xuICAgICAgICB0aGlzLnBvcHVwQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGggKyBcInB4XCI7XG4gICAgfVxuICAgIC8vaWYgKHRoaXMudXNlWkluZGV4KSB0aGlzLnBvcHVwQ29udGFpbmVyLnN0eWxlLnpJbmRleCA9IFBvcHVwLlpfSU5ERVg7XG4gICAgdGhpcy5wb3B1cENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJpbmhlcml0XCI7XG4gICAgdGhpcy5wb3B1cENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gdmVydGljYWxTY3JvbGwgPyBcImZsZXhcIiA6IFwiYmxvY2tcIjtcbiAgICB0aGlzLnBvcHVwQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSB0aGlzLnBvcHVwT3BhY2l0eSB8fCAxO1xuXG4gICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICBpZiAoIXNraXBFdmVudCkgRG9tLmVtaXRFdmVudChcInA6UG9wdXBTaG93blwiLCB0aGlzLm5vZGUoKSk7XG5cbiAgICBpZiAoIXRoaXMuc2tpcFN0YWNrKSB7XG4gICAgICAgIEJhc2VXaWRnZXQucmVnaXN0ZXJDbG9zYWJsZSh0aGlzKTtcbiAgICB9XG59O1xuUG9wdXAucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaGlkZSgpO1xufTtcblBvcHVwLnByb3RvdHlwZS5nZXRDbG9zYWJsZUNvbnRhaW5lciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5wb3B1cENvbnRhaW5lcjtcbn07XG5Qb3B1cC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChzaWxlbnQpIHtcbiAgICB0aGlzLnBvcHVwQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB0aGlzLnBvcHVwQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIHRoaXMucG9wdXBDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgaWYgKCFzaWxlbnQpIERvbS5lbWl0RXZlbnQoXCJwOlBvcHVwSGlkZGVuXCIsIHRoaXMubm9kZSgpKTtcbiAgICBpZiAodGhpcy5vbkhpZGUpIHRoaXMub25IaWRlKCk7XG5cbiAgICBCYXNlV2lkZ2V0LnVucmVnaXN0ZXJDbG9zYWJsZSh0aGlzKTtcbiAgICAvLyBpZiAodGhpcy5fcGFyZW50KSB7XG4gICAgLy8gICAgIGlmICghdGhpcy5fcGFyZW50Ll9rZWVwU2hvd2luZykge1xuICAgIC8vICAgICAgICB0aGlzLl9wYXJlbnQuaGlkZSgpO1xuICAgIC8vICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgIHRoaXMuX3BhcmVudC5fa2VlcFNob3dpbmcgPSBmYWxzZTtcbiAgICAvLyAgICB9XG4gICAgLy8gfVxufTtcbiIsImZ1bmN0aW9uIFJlcGVhdGVyVmlldyhkZWZpbml0aW9uTm9kZSkge1xuICAgIEJhc2VXaWRnZXQuY2FsbCh0aGlzLCBkZWZpbml0aW9uTm9kZSk7XG59XG5fX2V4dGVuZChCYXNlV2lkZ2V0LCBSZXBlYXRlclZpZXcpO1xuXG5SZXBlYXRlclZpZXcucHJvdG90eXBlLmJ1aWxkRE9NTm9kZSA9IGZ1bmN0aW9uIChkZWZpbml0aW9uTm9kZSkge1xuICAgIHZhciBub2RlTmFtZSA9IFwiaGJveFwiO1xuICAgIGlmIChkZWZpbml0aW9uTm9kZSkge1xuICAgICAgICBub2RlTmFtZSA9IGRlZmluaXRpb25Ob2RlLmdldEF0dHJpYnV0ZShcInRhZ1wiKSB8fCBub2RlTmFtZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChub2RlTmFtZSk7XG59O1xuUmVwZWF0ZXJWaWV3LnByb3RvdHlwZS5zZXRDb250ZW50RnJhZ21lbnQgPSBmdW5jdGlvbiAoZnJhZ21lbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoOyBpICsrKSB7XG4gICAgICAgIHZhciBub2RlID0gZnJhZ21lbnQuY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgaWYgKCFub2RlLmdldEF0dHJpYnV0ZSkgY29udGludWU7XG5cbiAgICAgICAgdmFyIHJvbGUgPSBub2RlLmdldEF0dHJpYnV0ZShcInJvbGVcIik7XG4gICAgICAgIGlmIChyb2xlID09IFwiaGVhZGVyXCIpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyVGVtcGxhdGUgPSBub2RlO1xuICAgICAgICB9IGVsc2UgaWYgKHJvbGUgPT0gXCJmb290ZXJcIikge1xuICAgICAgICAgICAgdGhpcy5mb290ZXJUZW1wbGF0ZSA9IG5vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAocm9sZSA9PSBcImVtcHR5XCIpIHtcbiAgICAgICAgICAgIHRoaXMuZW1wdHlUZW1wbGF0ZSA9IG5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1UZW1wbGF0ZSA9IG5vZGU7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5SZXBlYXRlclZpZXcucHJvdG90eXBlLmNyZWF0ZUJpbmRpbmcgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgY29udGFpbmVyLl9iaW5kaW5nID0ge307XG4gICAgY29udGFpbmVyLl9iaW5kaW5nLl9ub2RlID0gY29udGFpbmVyO1xuICAgIERvbS5kb09uQ2hpbGRSZWN1cnNpdmVseShjb250YWluZXIsIHtcbiAgICAgICAgZXZhbDogZnVuY3Rpb24obikge1xuICAgICAgICAgICAgcmV0dXJuIG4uZ2V0QXR0cmlidXRlICYmIG4uZ2V0QXR0cmlidXRlKFwiYW5vbi1pZFwiKTtcbiAgICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgY29udGFpbmVyLl9iaW5kaW5nW24uZ2V0QXR0cmlidXRlKFwiYW5vbi1pZFwiKV0gPSBuLl9fd2lkZ2V0IHx8IG47XG4gICAgfSk7XG59XG5cblxuUmVwZWF0ZXJWaWV3LnByb3RvdHlwZS5nZW5lcmF0ZSA9IGZ1bmN0aW9uIChjb250YWluZXIsIHRlbXBsYXRlTm9kZSwgZGF0YSkge1xuICAgIHZhciBub2RlID0gdGVtcGxhdGVOb2RlLmNsb25lTm9kZSh0cnVlKTtcbiAgICB0aGlzLmNyZWF0ZUJpbmRpbmcobm9kZSk7XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobm9kZSk7XG5cbiAgICBpZiAodGhpcy5wb3B1bGF0b3IgJiYgdHlwZW9mKGRhdGEpICE9IFwidW5kZWZpbmVkXCIpIHRoaXMucG9wdWxhdG9yKGRhdGEsIG5vZGUuX2JpbmRpbmcsIG5vZGUpO1xuXG4gICAgcmV0dXJuIG5vZGU7XG59O1xuUmVwZWF0ZXJWaWV3LnByb3RvdHlwZS5zZXRJdGVtcyA9IGZ1bmN0aW9uIChpdGVtcykge1xuICAgIHRoaXMuaXRlbXMgPSBpdGVtcztcbiAgICBEb20uZW1wdHkodGhpcy5ub2RlKCkpO1xuICAgIGlmICghaXRlbXMgfHwgaXRlbXMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgaWYgKHRoaXMuZW1wdHlUZW1wbGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5ub2RlKCkuYXBwZW5kQ2hpbGQodGhpcy5nZW5lcmF0ZSh0aGlzLm5vZGUoKSwgdGhpcy5lbXB0eVRlbXBsYXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaGVhZGVyVGVtcGxhdGUpIHtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZSh0aGlzLm5vZGUoKSwgdGhpcy5oZWFkZXJUZW1wbGF0ZSk7XG4gICAgfVxuXG4gICAgdmFyIGNvbnRhaW5lciA9IHRoaXMubm9kZSgpO1xuICAgIGlmICh0aGlzW1wiY29udGVudC13cmFwcGVyLXRhZ1wiXSkge1xuICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXNbXCJjb250ZW50LXdyYXBwZXItdGFnXCJdKTtcbiAgICAgICAgRG9tLmFkZENsYXNzKGNvbnRhaW5lciwgXCJDb250ZW50V3JhcHBlclwiKTtcblxuICAgICAgICB0aGlzLm5vZGUoKS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pdGVtVGVtcGxhdGUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkgKyspIHtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGUoY29udGFpbmVyLCB0aGlzLml0ZW1UZW1wbGF0ZSwgaXRlbXNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZm9vdGVyVGVtcGxhdGUpIHtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZSh0aGlzLm5vZGUoKSwgdGhpcy5mb290ZXJUZW1wbGF0ZSk7XG4gICAgfVxufTtcbiIsImZ1bmN0aW9uIFJpY2hUZXh0RWRpdG9yKCkge1xuICAgIEJhc2VXaWRnZXQuY2FsbCh0aGlzKTtcblxuICAgIHZhciBpZCA9IFwicmljaFRleHRFZGl0b3JcIiArIChuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHRoaXMucGVuZGluZ0NvbnRlbnQgPSBudWxsO1xuICAgIHRoaXMuZWRpdG9yRXZlbnRIYW5kbGVycyA9IHt9O1xuICAgIHRoaXMuY29udGVudENTUyA9IFwiXCI7XG5cbiAgICB0aGlzLmJpbmQoXCJjbGlja1wiLCB0aGlzLm9uU291cmNlQnV0dG9uQ2xpY2tlZCwgdGhpcy5lZGl0U291cmNlQnV0dG9uKTtcbn1cblxuX19leHRlbmQoQmFzZVRlbXBsYXRlZFdpZGdldCwgUmljaFRleHRFZGl0b3IpO1xuXG5SaWNoVGV4dEVkaXRvci5wcm90b3R5cGUub25BdHRhY2hlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhpeiA9IHRoaXM7XG4gICAgdmFyIGNvbmZpZyA9IHtcbiAgICAgICAgdG9vbGJhckdyb3VwczogW1xuICAgICAgICAgICAgeyBuYW1lOiAnYmFzaWNzdHlsZXMnLCBncm91cHM6IFsgJ3N0eWxlcycsICdiYXNpY3N0eWxlcycsICdjb2xvcnMnLCAnY2xlYW51cCcgXSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAncGFyYWdyYXBoJywgZ3JvdXBzOiBbICdsaXN0JywgJ2luZGVudCcsICdibG9ja3MnLCAnYWxpZ24nIF0gfSxcbiAgICAgICAgICAgICcvJyxcbiAgICAgICAgICAgIHsgbmFtZTogJ2xpbmtzJywgZ3JvdXBzOiBbICdsaW5rcycgXSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnaW5zZXJ0JywgZ3JvdXBzOiBbICdpbnNlcnQnIF0gfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2NsaXBib2FyZCcsIGdyb3VwczogWyAnY2xpcGJvYXJkJyBdIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdlZGl0aW5nJywgZ3JvdXBzOiBbICdmaW5kJywgJ3NlbGVjdGlvbicsICdzcGVsbGNoZWNrZXInLCAnZWRpdGluZycgXSB9XG4gICAgICAgIF0sXG4gICAgICAgIHJlbW92ZUJ1dHRvbnM6ICdTdHlsZXMsU2VsZWN0QWxsLEN1dCxDb3B5LFBhc3RlLEZsYXNoLFNtaWxleSxTcGVjaWFsQ2hhcixQYWdlQnJlYWssSWZyYW1lJyxcbiAgICAgICAgLy9za2luOiAnbW9vbm8tbGlzYScsXG4gICAgICAgIHJlbW92ZVBsdWdpbnM6IFwiZWxlbWVudHNwYXRoLHJlc2l6ZVwiLFxuICAgICAgICBhbGxvd2VkQ29udGVudDogdHJ1ZSxcbiAgICAgICAgZW50aXRpZXNfbGF0aW46IGZhbHNlLFxuICAgICAgICBlbnRpdGllc19ncmVlazogZmFsc2UsXG4gICAgICAgIGNvbnRlbnRzQ3NzOiBbXCIvZnJhbWV3b3JrL3dlYnVpL2ZyYW1ld29yay9qcy93aWRnZXQvUmljaFRleHRFZGl0b3ItY29udGVudC5sZXNzXCJdXG4gICAgfTtcbiAgICB0aGlzLmVkaXRvciA9IENLRURJVE9SLnJlcGxhY2UodGhpcy5jb250ZW50SW5wdXQsIGNvbmZpZyk7XG5cbiAgICB0aGlzLmVkaXRvci5vbihcImluc3RhbmNlUmVhZHlcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlZGl0YWJsZSA9IHRoaXouZWRpdG9yLmVkaXRhYmxlKCk7XG5cbiAgICAgICAgZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsIFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhpei5vblNpemVDaGFuZ2VkKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKGVkaXRhYmxlLCBcImtleXVwXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS4kLmtleUNvZGUgPT0gRE9NX1ZLX0VTQ0FQRSkge1xuICAgICAgICAgICAgICAgIEJhc2VXaWRnZXQuaGFuZGxlQ2xvc2FibGVFc2NhcGVLZXkoZXZlbnQuZGF0YS4kKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXoub25TaXplQ2hhbmdlZCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGl6LmVkaXRTb3VyY2VCdXR0b24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGl6LmVkaXRTb3VyY2VCdXR0b24pO1xuICAgICAgICAgICAgdGhpei5nZXRFZGl0b3JUb29sYmFyKCkuYXBwZW5kQ2hpbGQodGhpei5lZGl0U291cmNlQnV0dG9uKTtcblxuICAgICAgICAgICAgdGhpei5pbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICh0aGl6LnBlbmRpbmdDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpei5zZXRDb250ZW50KHRoaXoucGVuZGluZ0NvbnRlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXoucGVuZGluZ0NvbnRlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgRG9tLmFkZENsYXNzKHRoaXoubm9kZSgpLCBcIkluaXRpYWxpemVkXCIpO1xuICAgICAgICAgICAgICAgIERvbS5lbWl0RXZlbnQoUmljaFRleHRFZGl0b3IuRURJVE9SX0lOSVRJQUxJWkVEX0VWRU5UX05BTUUsIHRoaXoubm9kZSgpLCB7fSk7XG5cbiAgICAgICAgICAgICAgICB0aGl6LmVkaXRvci5vbihcImNoYW5nZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIERvbS5lbWl0RXZlbnQoUmljaFRleHRFZGl0b3IuVEVYVF9DSEFOR0VfRVZFTlRfTkFNRSwgdGhpei5ub2RlKCksIHt9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgfSk7XG5cbiAgICBEb20uYWRkQ2xhc3ModGhpcy5ub2RlKCksIFwiU2Nyb2xsZXJJbnN0YWxsZWRcIik7XG5cbiAgICBmdW5jdGlvbiBoZWlnaHRXYXRjaGVyKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpei5vblNpemVDaGFuZ2VkKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChoZWlnaHRXYXRjaGVyLCAxMDAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGhlaWdodFdhdGNoZXIsIDUwMCk7XG5cbn07XG5SaWNoVGV4dEVkaXRvci5wcm90b3R5cGUuZ2V0Rm9jdXNOb2RlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVkaXRvci5jb250YWluZXI7XG59O1xuUmljaFRleHRFZGl0b3IucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoY29udGVudCwgZGVsYXkpIHtcbiAgICBpZiAoIWNvbnRlbnQpIGNvbnRlbnQgPSBcIlwiO1xuICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAgIHRoaXMuZWRpdG9yLnNldERhdGEoY29udGVudC5odG1sID8gY29udGVudC5odG1sIDogY29udGVudCk7XG4gICAgICAgIHRoaXMuY29udGVudENTUyA9IGNvbnRlbnQuY3NzIHx8IFwiXCI7XG4gICAgICAgIHRoaXMuYXBwbHlDU1ModGhpcy5jb250ZW50Q1NTKTtcbiAgICAgICAgdGhpcy5vblNpemVDaGFuZ2VkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wZW5kaW5nQ29udGVudCA9IGNvbnRlbnQ7XG4gICAgfVxufTtcblJpY2hUZXh0RWRpdG9yLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmVkaXRvci5nZXREYXRhKCk7XG59O1xuUmljaFRleHRFZGl0b3IucHJvdG90eXBlLmdldENvbnRlbnRTdHlsZXNoZWV0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnRlbnRDU1M7XG59O1xuUmljaFRleHRFZGl0b3IucHJvdG90eXBlLmdldFRleHRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldENvbnRlbnQoKS5yZXBsYWNlKC88W14+XSo+L2csIFwiXCIpO1xufTtcblJpY2hUZXh0RWRpdG9yLnByb3RvdHlwZS5vbklmcmFtZUluaXRpYWxpemVkID0gZnVuY3Rpb24gKGVkaXRvcikge1xuICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xuICAgIHRoaXMub25TaXplQ2hhbmdlZCh0aGlzLmVkaXRvcik7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgRG9tLmVtaXRFdmVudChSaWNoVGV4dEVkaXRvci5FRElUT1JfSU5JVElBTElaRURfRVZFTlRfTkFNRSwgdGhpcy5ub2RlKCksIHt9KTtcblxuICAgIHZhciB0aGl6ID0gdGhpcztcbiAgICB0aGlzLmVkaXRvci5vbihSaWNoVGV4dEVkaXRvci5URVhUX0NIQU5HRV9FVkVOVF9OQU1FLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIERvbS5lbWl0RXZlbnQoUmljaFRleHRFZGl0b3IuVEVYVF9DSEFOR0VfRVZFTlRfTkFNRSwgdGhpei5ub2RlKCksIHt9KTtcbiAgICB9KTtcbn07XG5SaWNoVGV4dEVkaXRvci5wcm90b3R5cGUuZ2V0RWRpdG9yRnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubm9kZSgpLnF1ZXJ5U2VsZWN0b3IoXCI6c2NvcGUgaWZyYW1lXCIpO1xufTtcblJpY2hUZXh0RWRpdG9yLnByb3RvdHlwZS5nZXRFZGl0b3JUb29sYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGUoKS5xdWVyeVNlbGVjdG9yKFwiOnNjb3BlIC5ja2VfdG9wXCIpO1xufTtcblJpY2hUZXh0RWRpdG9yLnByb3RvdHlwZS5vblNpemVDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpZnJhbWUgPSB0aGlzLmdldEVkaXRvckZyYW1lKCk7XG4gICAgdmFyIHNpemUgPSB7XG4gICAgICAgIHdpZHRoOiB0aGlzLmVkaXRvci5kb2N1bWVudC4kLmJvZHkuc2Nyb2xsV2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5lZGl0b3IuZG9jdW1lbnQuJC5ib2R5LnNjcm9sbEhlaWdodCArIDVcbiAgICB9O1xuXG4gICAgaWYgKHNpemUuaGVpZ2h0ICE9IHRoaXMubGFzdENvbnRlbnRIZWlnaHQpIHtcbiAgICAgICAgaWZyYW1lLnBhcmVudE5vZGUuc3R5bGUuaGVpZ2h0ID0gTWF0aC5tYXgoc2l6ZS5oZWlnaHQsIDIwMCkgKyBcInB4XCI7XG4gICAgICAgIHRoaXMudXBkYXRlU2Nyb2xsaW5nKFwiYnJpbmdTZWxlY3Rpb25JbnRvVmlld1wiKTtcblxuICAgICAgICB0aGlzLmxhc3RDb250ZW50SGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7XG4gICAgfVxufTtcblJpY2hUZXh0RWRpdG9yLnByb3RvdHlwZS5nZXRTZWxlY3Rpb25Cb3VuZGluZ1JlY3QgPSBmdW5jdGlvbiAoZHkpIHtcbiAgICB0cnkge1xuICAgICAgICB2YXIgaWZyYW1lID0gdGhpcy5nZXRFZGl0b3JGcmFtZSgpO1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuICAgICAgICBpZiAocmFuZ2UuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnRDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn07XG5SaWNoVGV4dEVkaXRvci5DTEFTU19UT09MQkFSX1NISUZURUQgPSBcIlRvb2xiYXJTaGlmdGVkXCI7XG5SaWNoVGV4dEVkaXRvci5wcm90b3R5cGUuc2hpZnRUb29sYmFyID0gZnVuY3Rpb24gKGQsIHNjcm9sbFBhbmUpIHtcbiAgICB2YXIgdG9vbGJhciA9IHRoaXMuZ2V0RWRpdG9yVG9vbGJhcigpO1xuXG4gICAgdGhpcy50b29sYmFyUGFkZGluZy5zdHlsZS5oZWlnaHQgPSAodG9vbGJhci5vZmZzZXRIZWlnaHQgKyA1KSArIFwicHhcIjtcbiAgICBpZiAoZCA+IDApIHtcbiAgICAgICAgaWYgKCFEb20uaGFzQ2xhc3ModGhpcy5ub2RlKCksIFJpY2hUZXh0RWRpdG9yLkNMQVNTX1RPT0xCQVJfU0hJRlRFRCkpIHtcbiAgICAgICAgICAgIHZhciByZWN0ID0gc2Nyb2xsUGFuZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHZhciB0aGlzUmVjdCA9IHRoaXMubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdmFyIGJvZHlSZWN0ID0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgRG9tLmFkZENsYXNzKHRoaXMubm9kZSgpLCBSaWNoVGV4dEVkaXRvci5DTEFTU19UT09MQkFSX1NISUZURUQpO1xuICAgICAgICAgICAgdG9vbGJhci5zdHlsZS50b3AgPSByZWN0LnRvcCArIFwicHhcIjtcbiAgICAgICAgICAgIHRvb2xiYXIuc3R5bGUubGVmdCA9ICh0aGlzUmVjdC5sZWZ0KSArIFwicHhcIjtcbiAgICAgICAgICAgIHRvb2xiYXIuc3R5bGUucmlnaHQgPSAoYm9keVJlY3Qud2lkdGggLSB0aGlzUmVjdC5yaWdodCkgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBEb20ucmVtb3ZlQ2xhc3ModGhpcy5ub2RlKCksIFJpY2hUZXh0RWRpdG9yLkNMQVNTX1RPT0xCQVJfU0hJRlRFRCk7XG4gICAgICAgIHRvb2xiYXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICAgICAgdG9vbGJhci5zdHlsZS53aWR0aCA9IFwiYXV0b1wiO1xuICAgIH1cbn07XG5SaWNoVGV4dEVkaXRvci5wcm90b3R5cGUudXBkYXRlU2Nyb2xsaW5nID0gZnVuY3Rpb24gKGJyaW5nU2VsZWN0aW9uSW50b1ZpZXcpIHtcbiAgICB2YXIgc2Nyb2xsUGFuZSA9IERvbS5maW5kVXB3YXJkKHRoaXMubm9kZSgpLCBmdW5jdGlvbiAobikge1xuICAgICAgICByZXR1cm4gbi5zY3JvbGxIZWlnaHQgPiBuLm9mZnNldEhlaWdodDtcbiAgICB9KTtcblxuICAgIGlmICghc2Nyb2xsUGFuZSkge1xuICAgICAgICB0aGlzLnNoaWZ0VG9vbGJhcigwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciByMSA9IHRoaXMubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciByMiA9IHNjcm9sbFBhbmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBpZiAoYnJpbmdTZWxlY3Rpb25JbnRvVmlldykge1xuICAgICAgICB2YXIgc3IgPSB0aGlzLmdldFNlbGVjdGlvbkJvdW5kaW5nUmVjdCgpO1xuICAgICAgICBpZiAoc3IpIHtcbiAgICAgICAgICAgIHZhciBzYWZlQ2FyZXRIZWlnaHQgPSBVdGlsLmVtKCkgKiAzO1xuXG4gICAgICAgICAgICB2YXIgY2FyZXRUb3AgPSBzci50b3AgKyB0aGlzLmdldEVkaXRvckZyYW1lKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuXG4gICAgICAgICAgICB2YXIgZCA9IGNhcmV0VG9wICsgc2FmZUNhcmV0SGVpZ2h0IC0gKHIyLnRvcCArIHIyLmhlaWdodCk7XG4gICAgICAgICAgICBpZiAoZCA+IDApIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxQYW5lLnNjcm9sbFRvcCArPSBkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkID0gcjIudG9wICsgdGhpcy5nZXRFZGl0b3JUb29sYmFyKCkub2Zmc2V0SGVpZ2h0IC0gY2FyZXRUb3AgKyBzYWZlQ2FyZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKGQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFBhbmUuc2Nyb2xsVG9wIC09IGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByMSA9IHRoaXMubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGR5ID0gcjIudG9wIC0gcjEudG9wO1xuICAgIHRoaXMuc2hpZnRUb29sYmFyKE1hdGgubWF4KGR5IC0gMSwgMCksIHNjcm9sbFBhbmUpO1xuXG4gICAgaWYgKCF0aGlzLnNjcm9sbFBhbmVXYXRjaGVkKSB7XG4gICAgICAgIERvbS5yZWdpc3RlckV2ZW50KHNjcm9sbFBhbmUsIFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2Nyb2xsaW5nKCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgICAgICB0aGlzLnNjcm9sbFBhbmVXYXRjaGVkID0gdHJ1ZTtcbiAgICB9XG59O1xuUmljaFRleHRFZGl0b3IucHJvdG90eXBlLmFwcGx5Q1NTID0gZnVuY3Rpb24gKGNzcykge1xuICAgIGlmICh0aGlzLnN0eWxlTm9kZSkgdGhpcy5zdHlsZU5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnN0eWxlTm9kZSk7XG5cbiAgICB2YXIgZG9jID0gdGhpcy5lZGl0b3IuZG9jdW1lbnQuJDtcblxuICAgIHZhciBoZWFkID0gZG9jLmhlYWQgfHwgZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcblxuICAgIHZhciBzdHlsZSA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgc3R5bGUudHlwZSA9IFwidGV4dC9jc3NcIjtcblxuICAgIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IFwiXCI7XG4gICAgfVxuXG4gICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXG4gICAgdGhpcy5zdHlsZU5vZGUgPSBzdHlsZTtcbn07XG5SaWNoVGV4dEVkaXRvci5wcm90b3R5cGUub25Tb3VyY2VCdXR0b25DbGlja2VkID0gZnVuY3Rpb24gKCkge1xuICAgIG5ldyBSaWNoVGV4dEVkaXRvckFkdmFuY2VkRGlhbG9nKCkuY2FsbGJhY2soZnVuY3Rpb24gKGNvbnRlbnQpIHtcbiAgICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udGVudChjb250ZW50KTtcbiAgICAgICAgICAgIERvbS5lbWl0RXZlbnQoUmljaFRleHRFZGl0b3IuVEVYVF9DSEFOR0VfRVZFTlRfTkFNRSwgdGhpcy5ub2RlKCksIHt9KTtcbiAgICAgICAgfVxuICAgIH0uYmluZCh0aGlzKSkub3Blbih7XG4gICAgICAgIGh0bWw6IHRoaXMuZ2V0Q29udGVudCgpLFxuICAgICAgICBjc3M6IHRoaXMuZ2V0Q29udGVudFN0eWxlc2hlZXQoKVxuICAgIH0pO1xufTtcblxuUmljaFRleHRFZGl0b3IuVEVYVF9DSEFOR0VfRVZFTlRfTkFNRSA9IFwidGV4dC1jaGFuZ2VcIjtcblJpY2hUZXh0RWRpdG9yLkVESVRPUl9JTklUSUFMSVpFRF9FVkVOVF9OQU1FID0gXCJwOkl0ZW1Jbml0aWFsaXplZFwiO1xuIiwiZnVuY3Rpb24gU2VsZWN0Qm94KCkge1xuICAgIHZhciB0aGl6ID0gdGhpcztcbiAgICB0aGlzLm5hbWUgPSBcInNlbGVjdEJveFwiO1xuICAgIHRoaXMubW9kZSA9IFNlbGVjdEJveC5NT0RFX0NIRUNLO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gU2VsZWN0Qm94LkRJUkVDVElPTl9ST1c7XG4gICAgdGhpcy5tdWx0aXBsZVNlbGVjdCA9IGZhbHNlO1xuICAgIHRoaXMuZGlzcGxheVN0YXR1cyA9IFNlbGVjdEJveC5ESVNQTEFZX1NUQVRVU19KT0lOVEVYVDtcbiAgICB0aGlzLm9wdGlvblNlbGVjdEFsbCA9IGZhbHNlO1xuICAgIHRoaXMub3B0aW9uU2VsZWN0QWxsVGV4dCA9IFwiU2VsZWN0IEFsbFwiO1xuICAgIHRoaXMuZmlsdGVyQm94ID0gZmFsc2U7XG4gICAgdGhpcy5maWx0ZXJIaW50VGV4dCA9IFwiaW5wdXQga2V5d29yZFwiO1xuICAgIC8qKlxuICAgIC8vIHRoaXMuZ2V0Q29uZmlnID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gICAgIHJldHVybiB7XG4gICAgLy8gICAgICAgICBuYW1lOiBcIm5hbWVfc3RyaW5nXCIsXG4gICAgLy8gICAgICAgICBtb2RlOiBTZWxlY3RCb3guTU9ERV9EUk9QRE9XTiwgICAgICAgICAgICAgICAvLyBcImRyb3Bkb3duXCIgfCBcImNoZWNrXCIsXG4gICAgLy8gICAgICAgICBkaXJlY3Rpb246IFNlbGVjdEJveC5ESVJFQ1RJT05fUk9XLCAgICAgICAgICAvLyBcInJvd1wiIHwgXCJjb2x1bW5cIixcbiAgICAvLyAgICAgICAgIG11bHRpcGxlU2VsZWN0OiB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWUgfCBmYWxzZSxcbiAgICAvLyAgICAgICAgIGRpc3BsYXlTdGF0dXM6IFNlbGVjdEJveC5ESVNQTEFZX1NUQVRVU19KT0lOVEVYVCwgICAgICAvLyBcImpvaW5fdGV4dFwiIHwgXCJ0b3RhbFwiXG4gICAgLy8gICAgICAgICBvcHRpb25TZWxlY3RBbGw6IHRydWUsICAgICAgICAgICAgICAgICAgICAgICAvLyB0cnVlIHwgZmFsc2UsXG4gICAgLy8gICAgICAgICBvcHRpb25TZWxlY3RBbGxUZXh0OiBcIlNlbGVjdCBBbGxcIixcbiAgICAvLyAgICAgICAgIGZpbHRlckJveDogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRydWUgfCBmYWxzZVxuICAgIC8vICAgICAgICAgZmlsdGVySGludFRleHQ6IFwiaW5wdXQga2V5d29yZFwiXG4gICAgLy8gICAgIH07XG4gICAgLy8gfVxuICAgIC8vIHRoaXMuZ2V0RGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgIC8vICAgICByZXR1cm4gW1xuICAgIC8vICAgICAgICAge2lkOiAxLCBuYW1lOiBcIkFCQ1wiLCBkZXNjcmlwdGlvbjogXCJkZXNjcmlwdGlvblwiLCBhY3RpdmU6IHRydWV9LFxuICAgIC8vICAgICAgICAge2lkOiAyLCBuYW1lOiBcIk1PS0FcIiwgZGVzY3JpcHRpb246IFwiZGVzY3JpcHRcIiwgYWN0aXZlOiBmYWxzZX0sXG4gICAgLy8gICAgICAgICB7aWQ6IDMsIG5hbWU6IFwiTEFUVEVcIiwgZGVzY3JpcHRpb246IFwiTGF0dGUgQ29mZmVlXCIsIGFjdGl2ZTogZmFsc2V9XG4gICAgLy8gICAgIF1cbiAgICAvLyB9XG4gICAgLy8gdGhpcy5wYXJzZURhdGEgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAvLyAgICAgcmV0dXJuIHtcbiAgICAvLyAgICAgICAgIHZhbHVlOiBvYmplY3QuaWQsXG4gICAgLy8gICAgICAgICB0ZXh0OiBvYmplY3QubmFtZSxcbiAgICAvLyAgICAgICAgIGNoZWNrZWQ6IHRydWUsICAgICAgLy8gdHJ1ZSB8IGZhbHNlLFxuICAgIC8vICAgICAgICAgcm9sZTogXCJcIiwgICAgICAgICAgIC8vIFwib3B0aW9uXCIgfCBcImhhbmRsZVwiLFxuICAgIC8vICAgICAgICAgdHlwZTogXCJcIiwgICAgICAgICAgIC8vIFwic2VsZWN0YWxsXCIgfCBcInNlcGVyYXRvclwiXG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG4gICAgLy8gdGhpcy5nZXROYW1lID0gZnVuY3Rpb24oKSB7IHJldHVybiBcIm5hbWVfc3RyaW5nXCI7IH1cbiAgICAvLyB0aGlzLmdldE11bHRpcGxlU2VsZWN0ID0gZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9XG4gICAgLy8gdGhpcy5nZXRNb2RlID0gZnVuY3Rpb24oKSB7IHJldHVybiBcImRyb3Bkb3duXCIgfHwgXCJjaGVja1wiIH1cbiAgICAvLyB0aGlzLmZpbHRlciA9IGZ1bmN0aW9uKGRhdGEsIGtleXdvcmQpIHsgaWYgKGRhdGEubmFtZS5zdGFydHNXaXRoKGtleXdvcmQpKSByZXR1cm4gdHJ1ZTsgZWxzZSByZXR1cm4gZmFsc2U7IH1cbiAgICAvLyB0aGlzLmdldENvbmZpZ3MgPSBmdW5jdGlvbigpIHtyZXR1cm4ge1xuICAgIC8vICAgICAgbmFtZTogXCJuYW1lXCIsXG4gICAgLy8gICAgICBtb2RlOiBTZWxlY3RCb3guTU9ERV9EUk9QRE9XTixcbiAgICAvLyAgICAgIGRpcmVjdGlvbjogU2VsZWN0Qm94LkRJUkVDVElPTl9DT0xVTU4sXG4gICAgLy8gICAgICBtdWx0aXBsZVNlbGVjdDogdHJ1ZXxmYWxzZSxcbiAgICAvLyAgICAgIGRpc3BsYXlTdGF0dXM6IFNlbGVjdEJveC5ESVNQTEFZX1NUQVRVU19KT0lOVEVYVCxcbiAgICAvLyAgICAgIG9wdGlvblNlbGVjdEFsbDogdHJ1ZXxmYWxzZSxcbiAgICAvLyAgICAgIG9wdGlvblNlbGVjdEFsbFRleHQ6IFwiLS0gU2VsZWN0IEFsbCAtLVwiLFxuICAgIC8vICAgICAgZmlsdGVyQm94OiB0cnVlLFxuICAgIC8vICAgICAgZmlsdGVySGludFRleHQ6IFwiSW5wdXQga2V5d29yZFwiXG4gICAgLy8gIH19XG4gICAgKi9cbiAgICBCYXNlVGVtcGxhdGVkV2lkZ2V0LmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLnBvcHVwQ29udGFpbmVyLm9uSGlkZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpei5tb2RlID09IFNlbGVjdEJveC5NT0RFX0RST1BET1dOKSB7XG4gICAgICAgICAgICB0aGl6Ll9zZXRTZWxlY3RlZFN0YXR1cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuYmluZChcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5wb3B1cENvbnRhaW5lci5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgdGhpcy5wb3B1cENvbnRhaW5lci5oaWRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3B1cENvbnRhaW5lci5zaG93KHRoaXMuc3RhdHVzQm94LCBcImxlZnQtaW5zaWRlXCIsIFwidG9wXCIsIDAsIDUsIFwiYXV0b0ZsaXBcIik7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLl9mb2N1c0VsZW1lbnQoRG9tLmZpbmRGaXJzdENoaWxkV2l0aENsYXNzKHRoaXMub3B0aW9uQm94LCBcIk9wdGlvbkNvbnRhaW5lclwiKSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSwgMjApO1xuICAgIH0sIHRoaXMuc3RhdHVzQm94KTtcbn1cbl9fZXh0ZW5kKEJhc2VUZW1wbGF0ZWRXaWRnZXQsIFNlbGVjdEJveCk7XG5cblNlbGVjdEJveC5NT0RFX0RST1BET1dOID0gXCJkcm9wZG93blwiO1xuU2VsZWN0Qm94Lk1PREVfQ0hFQ0sgPSBcImNoZWNrXCI7XG5TZWxlY3RCb3guRElSRUNUSU9OX1JPVyA9IFwicm93XCI7XG5TZWxlY3RCb3guRElSRUNUSU9OX0NPTFVNTiA9IFwiY29sdW1uXCI7XG5TZWxlY3RCb3guRElTUExBWV9TVEFUVVNfSk9JTlRFWFQgPSBcImpvaW5fdGV4dFwiO1xuU2VsZWN0Qm94LkRJU1BMQVlfU1RBVFVTX1RPVEFMID0gXCJ0b3RhbFwiO1xuU2VsZWN0Qm94Lk9QVElPTl9ST0xFX09QVElPTiA9IFwib3B0aW9uXCI7XG5TZWxlY3RCb3guT1BUSU9OX1JPTEVfSEFORExFID0gXCJoYW5kbGVcIjtcblNlbGVjdEJveC5IQU5ETEVfVFlQRV9TRUxFQ1RBTEwgPSBcInNlbGVjdGFsbFwiO1xuU2VsZWN0Qm94LkhBTkRMRV9UWVBFX1NFUEVSQVRPUiA9IFwic2VwZXJhdG9yXCI7XG5cblNlbGVjdEJveC5wcm90b3R5cGUuc2V0Q29udGVudEZyYWdtZW50ID0gZnVuY3Rpb24oZnJhZ21lbnQpIHtcbiAgICB2YXIgb3B0aW9ucyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGg7IGkgKyspIHtcbiAgICAgICAgdmFyIG5vZGUgPSBmcmFnbWVudC5jaGlsZE5vZGVzW2ldO1xuICAgICAgICBpZiAoIW5vZGUgfHwgbm9kZS5ub2RlVHlwZSAhPSBOb2RlLkVMRU1FTlRfTk9ERSkgY29udGludWU7XG4gICAgICAgIHZhciByb2xlID0gbm9kZS5sb2NhbE5hbWU7XG4gICAgICAgIGlmIChyb2xlID09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaChub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNldHVwKG9wdGlvbnMpO1xufVxuXG5TZWxlY3RCb3gucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0RGF0YSA/IHRoaXMuZ2V0RGF0YSgpIDogW107XG4gICAgdGhpcy5vcHRpb25zID0gdGhpcy5wYXJzZURhdGEgPyB0aGlzLl9wYXJzZURhdGEodGhpcy5kYXRhKSA6IHRoaXMuX3BhcnNlT3B0aW9ucyhvcHRpb25zKTtcbiAgICB0aGlzLm5hbWUgPSBEb20uZ2V0QXR0cmlidXRlQXNTdHJpbmcodGhpcy5ub2RlKCksIFwiYW5vbi1pZFwiLCB0aGlzLm5hbWUpO1xuICAgIC8vIFJlYWQgY29uZmlnIGZyb20gYXR0cmlidXRlc1xuICAgIHRoaXMubXVsdGlwbGVTZWxlY3QgPSBEb20uZ2V0QXR0cmlidXRlQXNCb29sZWFuKHRoaXMubm9kZSgpLCBcIm11bHRpcGxlLXNlbGVjdFwiLCB0aGlzLm11bHRpcGxlU2VsZWN0KTtcbiAgICB0aGlzLmRpc3BsYXlTdGF0dXMgPSBEb20uZ2V0QXR0cmlidXRlQXNTdHJpbmcodGhpcy5ub2RlKCksIFwiZGlzcGxheS1zdGF0dXNcIiwgdGhpcy5kaXNwbGF5U3RhdHVzKTtcbiAgICB0aGlzLm1vZGUgPSBEb20uZ2V0QXR0cmlidXRlQXNTdHJpbmcodGhpcy5ub2RlKCksIFwibW9kZVwiLCAodGhpcy5vcHRpb25zLmxlbmd0aCA+IDMgPyBTZWxlY3RCb3guTU9ERV9EUk9QRE9XTiA6IHRoaXMubW9kZSkpO1xuICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5tb2RlID09IFNlbGVjdEJveC5NT0RFX0RST1BET1dOID8gU2VsZWN0Qm94LkRJUkVDVElPTl9DT0xVTU4gOiBEb20uZ2V0QXR0cmlidXRlQXNTdHJpbmcodGhpcy5ub2RlKCksIFwiZGlyZWN0aW9uXCIsIHRoaXMuZGlyZWN0aW9uKTtcbiAgICBpZiAodGhpcy5nZXRDb25maWdzKSB7XG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmdldENvbmZpZ3MoKTtcbiAgICAgICAgaWYgKGNvbmZpZy5uYW1lKSB0aGlzLm5hbWUgPSBjb25maWcubmFtZTtcbiAgICAgICAgaWYgKGNvbmZpZy5tb2RlKSB0aGlzLm1vZGUgPSBjb25maWcubW9kZTtcbiAgICAgICAgaWYgKGNvbmZpZy5kaXJlY3Rpb24pIHRoaXMuZGlyZWN0aW9uID0gY29uZmlnLmRpcmVjdGlvbjtcbiAgICAgICAgaWYgKGNvbmZpZy5tdWx0aXBsZVNlbGVjdCkgdGhpcy5tdWx0aXBsZVNlbGVjdCA9IGNvbmZpZy5tdWx0aXBsZVNlbGVjdDtcbiAgICAgICAgaWYgKGNvbmZpZy5kaXNwbGF5U3RhdHVzKSB0aGlzLmRpc3BsYXlTdGF0dXMgPSBjb25maWcuZGlzcGxheVN0YXR1cztcbiAgICAgICAgaWYgKGNvbmZpZy5vcHRpb25TZWxlY3RBbGwpIHRoaXMub3B0aW9uU2VsZWN0QWxsID0gY29uZmlnLm9wdGlvblNlbGVjdEFsbDtcbiAgICAgICAgaWYgKGNvbmZpZy5vcHRpb25TZWxlY3RBbGxUZXh0KSB0aGlzLm9wdGlvblNlbGVjdEFsbFRleHQgPSBjb25maWcub3B0aW9uU2VsZWN0QWxsVGV4dDtcbiAgICAgICAgaWYgKGNvbmZpZy5maWx0ZXJCb3gpIHRoaXMuZmlsdGVyQm94ID0gY29uZmlnLmZpbHRlckJveDtcbiAgICAgICAgaWYgKGNvbmZpZy5maWx0ZXJIaW50VGV4dCkgdGhpcy5maWx0ZXJIaW50VGV4dCA9IGNvbmZpZy5maWx0ZXJIaW50VGV4dDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZ2V0TmFtZSkgdGhpcy5uYW1lID0gdGhpcy5nZXROYW1lKCk7XG4gICAgaWYgKHRoaXMuZ2V0TXVsdGlwbGVTZWxlY3QpIHRoaXMubXVsdGlwbGVTZWxlY3QgPSB0aGlzLmdldE11bHRpcGxlU2VsZWN0KCk7XG4gICAgLy8gaWYgKHRoaXMuZ2V0RGlzcGxheVN0YXR1cykgdGhpcy5kaXNwbGF5U3RhdHVzID0gdGhpcy5nZXREaXNwbGF5U3RhdHVzKCk7XG4gICAgaWYgKHRoaXMuZ2V0TW9kZSkgdGhpcy5tb2RlID0gdGhpcy5nZXRNb2RlKCk7XG4gICAgaWYgKHRoaXMubW9kZSA9PSBTZWxlY3RCb3guTU9ERV9EUk9QRE9XTikge1xuICAgICAgICB0aGlzLmJpbmQoXCJjbGlja1wiLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubXVsdGlwbGVTZWxlY3QgPT0gZmFsc2UgJiYgZXZlbnQudGFyZ2V0LnRhZ05hbWUgPT0gXCJJTlBVVFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3B1cENvbnRhaW5lci5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMubXVsdGlwbGVTZWxlY3QgPT0gdHJ1ZSAmJiBldmVudC50YXJnZXQudGFnTmFtZSA9PSBcIklOUFVUXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uQWxsID0gRG9tLmZpbmRDaGlsZCh0aGlzLm9wdGlvbkJveCwge2V2YWw6IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoRG9tLmdldEF0dHJpYnV0ZUFzU3RyaW5nKG5vZGUsIFwicm9sZVwiKSA9PSBTZWxlY3RCb3guT1BUSU9OX1JPTEVfSEFORExFKSAmJiAoRG9tLmdldEF0dHJpYnV0ZUFzU3RyaW5nKG5vZGUsIFwiaGFuZGxlXCIpID09IFNlbGVjdEJveC5IQU5ETEVfVFlQRV9TRUxFQ1RBTEwpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBvcHRpb25BbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRBbGxPcHRpb25TZWxlY3RlZChvcHRpb25BbGwuY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3NldFNlbGVjdGVkU3RhdHVzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vblNlbGVjdGlvbkNoYW5nZWQodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMub3B0aW9uQm94KTtcbiAgICB9XG4gICAgdGhpcy5faW5zdGFsbCgpO1xufVxuXG5TZWxlY3RCb3gucHJvdG90eXBlLl9pbnN0YWxsID0gZnVuY3Rpb24oKSB7XG4gICAgRG9tLmFkZENsYXNzKHRoaXMub3B0aW9uQm94LCB0aGlzLmRpcmVjdGlvbiA9PSBTZWxlY3RCb3guRElSRUNUSU9OX1JPVyA/IFwiSEJveFwiIDogXCJWQm94XCIpO1xuICAgIERvbS5hZGRDbGFzcyh0aGlzLm5vZGUoKSwgdGhpcy5tb2RlKTtcbiAgICB0aGlzLm9wdGlvbkJveC5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGlmICh0aGlzLmZpbHRlckJveCkge1xuICAgICAgICB2YXIgZmlsdGVyQm94ID0gdGhpcy5fY3JlYXRlRmlsdGVyQm94KCk7XG4gICAgICAgIHRoaXMuYmluZChcImNoYW5nZVwiLCB0aGlzLl9vbktleXdvcmRJbnB1dC5iaW5kKHRoaXMpLCBmaWx0ZXJCb3gpO1xuICAgICAgICBEb20uYXBwZW5kKGZpbHRlckJveCwgdGhpcy5vcHRpb25Cb3gpO1xuICAgICAgICBEb20uYXBwZW5kKHRoaXMuX2NyZWF0ZVNlcGVyYXRvcigpLCB0aGlzLm9wdGlvbkJveCk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9wdGlvblNlbGVjdEFsbCkge1xuICAgICAgICBEb20uYXBwZW5kKHRoaXMuX2NyZWF0ZU9wdGlvblNlbGVjdEFsbCgpLCB0aGlzLm9wdGlvbkJveCk7XG4gICAgICAgIERvbS5hcHBlbmQodGhpcy5fY3JlYXRlU2VwZXJhdG9yKCksIHRoaXMub3B0aW9uQm94KTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9wdGlvbiA9IHRoaXMub3B0aW9uc1tpXTtcbiAgICAgICAgaWYgKG9wdGlvbi5yb2xlID09IFNlbGVjdEJveC5PUFRJT05fUk9MRV9IQU5ETEUpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb24udHlwZSA9PSBTZWxlY3RCb3guSEFORExFX1RZUEVfU0VMRUNUQUxMKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubXVsdGlwbGVTZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2NyZWF0ZU9wdGlvbkVsZW1lbnQob3B0aW9uLCBcImNoZWNrYm94XCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJpbmQoXCJtb3VzZWVudGVyXCIsIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXIsIGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIERvbS5hcHBlbmQoY29udGFpbmVyLCB0aGlzLm9wdGlvbkJveCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb24udHlwZSA9PSBTZWxlY3RCb3guSEFORExFX1RZUEVfU0VQRVJBVE9SKSB7XG4gICAgICAgICAgICAgICAgRG9tLmFwcGVuZCh0aGlzLl9jcmVhdGVTZXBlcmF0b3IoKSwgdGhpcy5vcHRpb25Cb3gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuX2NyZWF0ZU9wdGlvbkVsZW1lbnQob3B0aW9uLCB0aGlzLm11bHRpcGxlU2VsZWN0ID8gXCJjaGVja2JveFwiIDogXCJyYWRpb1wiKTtcbiAgICAgICAgICAgIHRoaXMuYmluZChcIm1vdXNlZW50ZXJcIiwgdGhpcy5faGFuZGxlTW91c2VFbnRlciwgY29udGFpbmVyKTtcbiAgICAgICAgICAgIERvbS5hcHBlbmQoY29udGFpbmVyLCB0aGlzLm9wdGlvbkJveCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMubW9kZSA9PSBTZWxlY3RCb3guTU9ERV9EUk9QRE9XTikge1xuICAgICAgICB0aGlzLnBvcHVwQ29udGFpbmVyLnNldENvbnRlbnRGcmFnbWVudCh0aGlzLm9wdGlvbkJveCk7XG4gICAgICAgIHRoaXMuYmluZChcImtleXByZXNzXCIsIHRoaXMuX2hhbmRsZUtleVByZXNzLmJpbmQodGhpcyksIHRoaXMub3B0aW9uQm94KTtcbiAgICAgICAgdGhpcy5fc2V0U2VsZWN0ZWRTdGF0dXMoKTtcbiAgICB9XG59XG5cblNlbGVjdEJveC5wcm90b3R5cGUub25TZWxlY3Rpb25DaGFuZ2VkID0gZnVuY3Rpb24oZnJvbVVzZXJBY3Rpb24pIHtcbiAgICBEb20uZW1pdEV2ZW50KFwicDpTZWxlY3Rpb25DaGFuZ2VkXCIsIHRoaXMubm9kZSgpLCB7fSk7XG4gICAgaWYgKHRoaXMuX29wdGlvbnMgJiYgdGhpcy5fb3B0aW9ucy5vblNlbGVjdGlvbkNoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5fb3B0aW9ucy5vblNlbGVjdGlvbkNoYW5nZWQoZnJvbVVzZXJBY3Rpb24pO1xuICAgIH1cbn1cblxuU2VsZWN0Qm94LnByb3RvdHlwZS5zZXRBbGxPcHRpb25TZWxlY3RlZCA9IGZ1bmN0aW9uKHNlbGVjdGVkKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBEb20uZmluZENoaWxkcmVuQnlUYWdOYW1lKHRoaXMub3B0aW9uQm94LCBcImlucHV0XCIsIHRydWUpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBvcHRpb25zW2ldLmNoZWNrZWQgPSBzZWxlY3RlZDtcbiAgICB9XG59XG5cblNlbGVjdEJveC5wcm90b3R5cGUuaXNBbGxPcHRpb25TZWxlY3RlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25Cb3gucXVlcnlTZWxlY3RvckFsbChcImlucHV0W3R5cGU9Y2hlY2tib3hdXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgb3B0ID0gb3B0aW9uc1tpXTtcbiAgICAgICAgaWYgKERvbS5nZXRBdHRyaWJ1dGVBc1N0cmluZyhvcHQsIFwicm9sZVwiKSA9PSBTZWxlY3RCb3guT1BUSU9OX1JPTEVfSEFORExFKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFvcHQuY2hlY2tlZCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuU2VsZWN0Qm94LnByb3RvdHlwZS5jb3VudFNlbGVjdGVkT3B0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIERvbS5maW5kQ2hpbGRyZW4odGhpcy5vcHRpb25Cb3gsIHtcbiAgICAgICAgZXZhbDogZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIChub2RlLnRhZ05hbWUgPT0gXCJpbnB1dFwiKSAmJiAoRG9tLmdldEF0dHJpYnV0ZUFzU3RyaW5nKG5vZGUsIFwicm9sZVwiKSAhPSBTZWxlY3RCb3guT1BUSU9OX1JPTEVfSEFORExFKSAmJiBub2RlLmNoZWNrZWQ7XG4gICAgICAgIH1cbiAgICB9LCB0cnVlKS5sZW5ndGg7XG59XG5cblNlbGVjdEJveC5wcm90b3R5cGUuZ2V0VmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBEb20uZ2V0VGFncyhcImlucHV0XCIsIHRoaXMub3B0aW9uQm94KTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zW2ldO1xuICAgICAgICBpZiAob3B0aW9uLmNoZWNrZWQgPT0gdHJ1ZSAmJiAoRG9tLmdldEF0dHJpYnV0ZUFzU3RyaW5nKG9wdGlvbiwgXCJyb2xlXCIpICE9IFNlbGVjdEJveC5PUFRJT05fUk9MRV9IQU5ETEUpKSByZXN1bHQucHVzaChvcHRpb24udmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5TZWxlY3RCb3gucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBEb20uZ2V0VGFncyhcImlucHV0XCIsIHRoaXMub3B0aW9uQm94KTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnNbaV07XG4gICAgICAgIGlmIChvcHRpb24uY2hlY2tlZCA9PSB0cnVlICYmIChEb20uZ2V0QXR0cmlidXRlQXNTdHJpbmcob3B0aW9uLCBcInJvbGVcIikgIT0gU2VsZWN0Qm94Lk9QVElPTl9ST0xFX0hBTkRMRSkpIHJldHVybiBvcHRpb24udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG5TZWxlY3RCb3gucHJvdG90eXBlLmdldFNlbGVjdGVkRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBvcHRpb25zID0gRG9tLmdldFRhZ3MoXCJpbnB1dFwiLCB0aGlzLm9wdGlvbkJveCk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9uc1tpXTtcbiAgICAgICAgaWYgKG9wdGlvbi5jaGVja2VkID09IHRydWUgJiYgKERvbS5nZXRBdHRyaWJ1dGVBc1N0cmluZyhvcHRpb24sIFwicm9sZVwiKSAhPSBTZWxlY3RCb3guT1BUSU9OX1JPTEVfSEFORExFKSkgcmVzdWx0LnB1c2gob3B0aW9uLl9kYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuU2VsZWN0Qm94LnByb3RvdHlwZS5nZXRTZWxlY3RlZE9wdGlvblRleHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgb3B0aW9ucyA9IERvbS5nZXRUYWdzKFwiaW5wdXRcIiwgdGhpcy5vcHRpb25Cb3gpO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnNbaV07XG4gICAgICAgIGlmIChvcHRpb24uY2hlY2tlZCA9PSB0cnVlICYmIChEb20uZ2V0QXR0cmlidXRlQXNTdHJpbmcob3B0aW9uLCBcInJvbGVcIikgIT0gU2VsZWN0Qm94Lk9QVElPTl9ST0xFX0hBTkRMRSkpIHJlc3VsdC5wdXNoKG9wdGlvbi5uZXh0U2libGluZy50ZXh0Q29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cblNlbGVjdEJveC5wcm90b3R5cGUuc2V0VmFsdWVTZWxlY3RlZCA9IGZ1bmN0aW9uKHZhbHVlLCBzZWxlY3RlZCkge1xuICAgIHZhciBvcHRpb25zID0gRG9tLmdldFRhZ3MoXCJpbnB1dFwiLCB0aGlzLm9wdGlvbkJveCk7XG4gICAgaWYgKCF0aGlzLm11bHRpcGxlU2VsZWN0KSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9uc1tpXS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zW2ldO1xuICAgICAgICBpZiAob3B0aW9uLnZhbHVlID09IHZhbHVlKSB7XG4gICAgICAgICAgICBvcHRpb24uY2hlY2tlZCA9IHNlbGVjdGVkO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fc2V0U2VsZWN0ZWRTdGF0dXMoKTtcbn1cblxuU2VsZWN0Qm94LnByb3RvdHlwZS5vbkRldGFjaGVkID0gZnVuY3Rpb24gKCkge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5wb3B1cENvbnRhaW5lci5wb3B1cENvbnRhaW5lcik7XG59XG5cblNlbGVjdEJveC5wcm90b3R5cGUuX3NldFNlbGVjdGVkU3RhdHVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXR1cyA9IFwiXCI7XG4gICAgdmFyIHNlbGVjdGVkVGV4dCA9IHRoaXMuZ2V0U2VsZWN0ZWRPcHRpb25UZXh0KCk7XG4gICAgdmFyIG9wdGlvbkFsbCA9IERvbS5maW5kQ2hpbGQodGhpcy5vcHRpb25Cb3gsIHtldmFsOiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gKERvbS5nZXRBdHRyaWJ1dGVBc1N0cmluZyhub2RlLCBcInJvbGVcIikgPT0gU2VsZWN0Qm94Lk9QVElPTl9ST0xFX0hBTkRMRSkgJiYgKERvbS5nZXRBdHRyaWJ1dGVBc1N0cmluZyhub2RlLCBcImhhbmRsZVwiKSA9PSBTZWxlY3RCb3guSEFORExFX1RZUEVfU0VMRUNUQUxMKVxuICAgICAgICB9XG4gICAgfSwgdHJ1ZSk7XG4gICAgaWYgKHRoaXMubXVsdGlwbGVTZWxlY3QpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNBbGxPcHRpb25TZWxlY3RlZCgpICYmIG9wdGlvbkFsbCkge1xuICAgICAgICAgICAgb3B0aW9uQWxsLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG9wdGlvbkdyb3VwID0gRG9tLmZpbmRQYXJlbnRXaXRoQ2xhc3Mob3B0aW9uQWxsLCBcIk9wdGlvbkNvbnRhaW5lclwiKTtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IERvbS5nZXRUYWcoXCJsYWJlbFwiLCBvcHRpb25Hcm91cCk7XG4gICAgICAgICAgICBzdGF0dXMgPSBsYWJlbC50ZXh0Q29udGVudCArIFN0cmluZy5mb3JtYXQoXCIoezB9KVwiLCBzZWxlY3RlZFRleHQubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25BbGwpIG9wdGlvbkFsbC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRUZXh0ID4gMSkgc3RhdHVzID0gU3RyaW5nLmZvcm1hdChcInswfSBpdGVtcyBhcmUgc2VsZWN0ZWRcIiwgc2VsZWN0ZWRUZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgICBlbHNlIHN0YXR1cyA9IFN0cmluZy5mb3JtYXQoXCJ7MH0gaXRlbSBpcyBzZWxlY3RlZFwiLCBzZWxlY3RlZFRleHQubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXR1cyA9IHNlbGVjdGVkVGV4dFswXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGlzcGxheVN0YXR1cyAhPSBTZWxlY3RCb3guRElTUExBWV9TVEFUVVNfVE9UQUwpIHtcbiAgICAgICAgc3RhdHVzID0gKG9wdGlvbkFsbCAmJiBvcHRpb25BbGwuY2hlY2tlZCkgPyBvcHRpb25BbGwubmV4dFNpYmxpbmcudGV4dENvbnRlbnQgOiAoc2VsZWN0ZWRUZXh0Lmxlbmd0aCA/IHNlbGVjdGVkVGV4dC5qb2luKFwiLCBcIikgOiBcIjAgaXRlbSBpcyBzZWxlY3RlZFwiKTtcbiAgICAgICAgdGhpcy5zdGF0dXNCb3gudGl0bGUgPSBzdGF0dXM7XG4gICAgfVxuICAgIHRoaXMuc3RhdHVzSXRlbS50ZXh0Q29udGVudCA9IHN0YXR1cztcbn1cblxuU2VsZWN0Qm94LnByb3RvdHlwZS5fcGFyc2VEYXRhID0gZnVuY3Rpb24oZGF0YSkge1xuICAgIHZhciBvcHRpb25zID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcy5wYXJzZURhdGEoZGF0YVtpXSk7XG4gICAgICAgIGl0ZW0uX2RhdGEgPSBkYXRhW2ldO1xuICAgICAgICBvcHRpb25zLnB1c2goaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xufVxuXG5TZWxlY3RCb3gucHJvdG90eXBlLl9wYXJzZU9wdGlvbnMgPSBmdW5jdGlvbihkb21BcnJheSkge1xuICAgIHZhciBvcHRpb25zID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb21BcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IGRvbUFycmF5W2ldO1xuICAgICAgICB2YXIgb3B0ID0ge307XG4gICAgICAgIG9wdC52YWx1ZSA9IGVsZW1lbnQudmFsdWU7XG4gICAgICAgIG9wdC50ZXh0ID0gRG9tLmdldEF0dHJpYnV0ZUFzU3RyaW5nKGVsZW1lbnQsIFwidGV4dFwiLCBcIlwiKTtcbiAgICAgICAgb3B0LmNoZWNrZWQgPSBEb20uZ2V0QXR0cmlidXRlQXNCb29sZWFuKGVsZW1lbnQsIFwiY2hlY2tlZFwiLCBmYWxzZSk7XG4gICAgICAgIG9wdC5yb2xlID0gRG9tLmdldEF0dHJpYnV0ZUFzU3RyaW5nKGVsZW1lbnQsIFwicm9sZVwiLCBcIm9wdGlvblwiKTtcbiAgICAgICAgb3B0LnR5cGUgPSBEb20uZ2V0QXR0cmlidXRlQXNTdHJpbmcoZWxlbWVudCwgXCJ0eXBlXCIsIFwiXCIpO1xuICAgICAgICBvcHQuX2RhdGEgPSBlbGVtZW50O1xuICAgICAgICBvcHRpb25zLnB1c2gob3B0KTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG5cblNlbGVjdEJveC5wcm90b3R5cGUuX2NyZWF0ZU9wdGlvbkVsZW1lbnQgPSBmdW5jdGlvbihvcHRpb24sIHR5cGUpIHtcbiAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImhib3hcIik7XG4gICAgRG9tLmFkZENsYXNzKGNvbnRhaW5lciwgXCJPcHRpb25Db250YWluZXIgSXRlbVwiKTtcbiAgICB2YXIgc2VsZWN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBzZWxlY3RJdGVtLnR5cGUgPSB0eXBlO1xuICAgIHNlbGVjdEl0ZW0udmFsdWUgPSBvcHRpb24udmFsdWU7XG4gICAgc2VsZWN0SXRlbS5jaGVja2VkID0gb3B0aW9uLmNoZWNrZWQ7XG4gICAgc2VsZWN0SXRlbS5pZCA9IHRoaXMubmFtZSArIFwiX1wiICsgd2lkZ2V0LnJhbmRvbSgpO1xuICAgIHNlbGVjdEl0ZW0ubmFtZSA9IHRoaXMubmFtZTtcbiAgICBzZWxlY3RJdGVtLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgb3B0aW9uLnJvbGUpO1xuICAgIHNlbGVjdEl0ZW0uc2V0QXR0cmlidXRlKFwiaGFuZGxlXCIsIG9wdGlvbi50eXBlKTtcbiAgICBzZWxlY3RJdGVtLl9kYXRhID0gb3B0aW9uLl9kYXRhO1xuXG4gICAgdmFyIGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgIGxhYmVsLnRleHRDb250ZW50ID0gb3B0aW9uLnRleHQ7XG4gICAgbGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIHNlbGVjdEl0ZW0uaWQpO1xuICAgIERvbS5hcHBlbmQoc2VsZWN0SXRlbSwgY29udGFpbmVyKTtcbiAgICBEb20uYXBwZW5kKGxhYmVsLCBjb250YWluZXIpO1xuICAgIHJldHVybiBjb250YWluZXI7XG59XG5cblNlbGVjdEJveC5wcm90b3R5cGUuX2NyZWF0ZUZpbHRlckJveCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb250YWluZXIgPSBEb20ubmV3RE9NRWxlbWVudCh7XG4gICAgICAgIF9uYW1lOiBcImlucHV0XCIsXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICBpZDogdGhpcy5uYW1lICsgXCJfXCIgKyB3aWRnZXQucmFuZG9tKCksXG4gICAgICAgIHBsYWNlaG9sZGVyOiB0aGlzLmZpbHRlckhpbnRUZXh0LFxuICAgICAgICByb2xlOiBcImhhbmRsZVwiLFxuICAgICAgICBoYW5kbGU6IFwiZmlsdGVyXCJcbiAgICB9KTtcbiAgICB2YXIgaWNvbiA9IERvbS5uZXdET01FbGVtZW50KHtcbiAgICAgICAgX25hbWU6IFwiaWNvblwiLFxuICAgICAgICBjbGFzczogXCJtYWduaWZ5XCJcbiAgICB9KVxuICAgIHJldHVybiBjb250YWluZXI7XG59XG5cblNlbGVjdEJveC5wcm90b3R5cGUuX2NyZWF0ZU9wdGlvblNlbGVjdEFsbCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaGJveFwiKTtcbiAgICBEb20uYWRkQ2xhc3MoY29udGFpbmVyLCBcIk9wdGlvbkNvbnRhaW5lciBJdGVtXCIpO1xuICAgIHZhciBzZWxlY3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHNlbGVjdEl0ZW0udHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICBzZWxlY3RJdGVtLnZhbHVlID0gXCJcIjtcbiAgICBzZWxlY3RJdGVtLmNoZWNrZWQgPSBmYWxzZTtcbiAgICBzZWxlY3RJdGVtLmlkID0gdGhpcy5uYW1lICsgXCJfXCIgKyB3aWRnZXQucmFuZG9tKCk7XG4gICAgc2VsZWN0SXRlbS5uYW1lID0gdGhpcy5uYW1lO1xuICAgIHNlbGVjdEl0ZW0uc2V0QXR0cmlidXRlKFwicm9sZVwiLCBTZWxlY3RCb3guT1BUSU9OX1JPTEVfSEFORExFKTtcbiAgICBzZWxlY3RJdGVtLnNldEF0dHJpYnV0ZShcImhhbmRsZVwiLCBTZWxlY3RCb3guSEFORExFX1RZUEVfU0VMRUNUQUxMKTtcbiAgICB2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgbGFiZWwudGV4dENvbnRlbnQgPSB0aGlzLm9wdGlvblNlbGVjdEFsbFRleHQgIT0gXCJcIiA/IFwiU2VsZWN0IEFsbFwiIDogdGhpcy5vcHRpb25TZWxlY3RBbGxUZXh0O1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBzZWxlY3RJdGVtLmlkKTtcbiAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoXCJmbGV4XCIsIDEpO1xuICAgIERvbS5hcHBlbmQoc2VsZWN0SXRlbSwgY29udGFpbmVyKTtcbiAgICBEb20uYXBwZW5kKGxhYmVsLCBjb250YWluZXIpO1xuICAgIHJldHVybiBjb250YWluZXI7XG59XG5cblNlbGVjdEJveC5wcm90b3R5cGUuX2NyZWF0ZVNlcGVyYXRvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBociA9IERvbS5uZXdET01FbGVtZW50KHtcbiAgICAgICAgX25hbWU6IFwiaHJcIixcbiAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gaHI7XG59XG5cblNlbGVjdEJveC5wcm90b3R5cGUuX2ZpbmRCeURhdGEgPSBmdW5jdGlvbihub2RlLCBrZXl3b3JkKSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyKG5vZGUuX2RhdGEsIGtleXdvcmQpO1xufVxuXG5TZWxlY3RCb3gucHJvdG90eXBlLl9maW5kQnlPcHRpb25UZXh0ID0gZnVuY3Rpb24obm9kZSwga2V5d29yZCkge1xuICAgIHZhciBsYWJlbCA9IERvbS5nZXRUYWcoXCJsYWJlbFwiLCBub2RlKTtcbiAgICByZXR1cm4gbGFiZWwudGV4dENvbnRlbnQuc3RhcnRzV2l0aChrZXl3b3JkKTtcbn1cblxuU2VsZWN0Qm94LnByb3RvdHlwZS5fb25LZXl3b3JkSW5wdXQgPSBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBrZXl3b3JkID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgIHZhciBvcHRpb25zID0gRG9tLmZpbmRDaGlsZHJlbldpdGhDbGFzcyh0aGlzLm9wdGlvbkJveCwgXCJPcHRpb25Db250YWluZXJcIiwgZmFsc2UpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9uc1tpXTtcbiAgICAgICAgaWYgKERvbS5nZXRBdHRyaWJ1dGVBc1N0cmluZyhvcHRpb24sIFwicm9sZVwiKSAhPSBTZWxlY3RCb3guT1BUSU9OX1JPTEVfSEFORExFKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWx0ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2ZpbmRCeURhdGEob3B0aW9uLCBrZXl3b3JkKSkgRG9tLmFkZENsYXNzKG9wdGlvbiwgXCJIaWRkZW5cIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl9maW5kQnlPcHRpb25UZXh0KG9wdGlvbiwga2V5d29yZCkpIERvbS5hZGRDbGFzcyhvcHRpb24sIFwiSGlkZGVuXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5TZWxlY3RCb3gucHJvdG90eXBlLl9oYW5kbGVNb3VzZUVudGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgbm9kZSA9IGV2ZW50LnRhcmdldDtcbiAgICB2YXIgY3VycmVudEZvY3VzID0gRG9tLmZpbmRDaGlsZFdpdGhDbGFzcyhwYXJlbnQsIFwiRm9jdXNcIik7XG4gICAgaWYgKG5vZGUgIT0gY3VycmVudEZvY3VzKSB7XG4gICAgICAgIHRoaXMuX2ZvY3VzRWxlbWVudChub2RlKTtcbiAgICB9XG59XG5cblNlbGVjdEJveC5wcm90b3R5cGUuX2hhbmRsZUtleVByZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgY3VycmVudEZvY3VzID0gRG9tLmZpbmRDaGlsZFdpdGhDbGFzcyh0aGlzLm9wdGlvbkJveCwgXCJGb2N1c1wiKTtcbiAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgICAgY2FzZSBET01fVktfU1BBQ0U6XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIC8vIHZhciBlbGVtZW50ID0gRG9tLmdldFRhZyhcImlucHV0XCIsIGN1cnJlbnRGb2N1cyk7XG4gICAgICAgICAgICAvLyBlbGVtZW50LmNoZWNrZWQgPSAhZWxlbWVudC5jaGVja2VkO1xuICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBET01fVktfVVA6XG4gICAgICAgICAgICB2YXIgbmV4dEZvY3VzID0gY3VycmVudEZvY3VzID8gY3VycmVudEZvY3VzLnByZXZpb3VzU2libGluZyA6IERvbS5maW5kRmlyc3RDaGlsZFdpdGhDbGFzcyh0aGlzLm9wdGlvbkJveCwgXCJPcHRpb25Db250YWluZXJcIik7XG4gICAgICAgICAgICBpZiAobmV4dEZvY3VzKSB7XG4gICAgICAgICAgICAgICAgRG9tLmNhbmNlbEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb2N1c0VsZW1lbnQobmV4dEZvY3VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgRE9NX1ZLX0RPV046XG4gICAgICAgICAgICB2YXIgbmV4dEZvY3VzID0gY3VycmVudEZvY3VzID8gY3VycmVudEZvY3VzLm5leHRTaWJsaW5nIDogRG9tLmZpbmRGaXJzdENoaWxkV2l0aENsYXNzKHRoaXMub3B0aW9uQm94LCBcIk9wdGlvbkNvbnRhaW5lclwiKTtcbiAgICAgICAgICAgIGlmIChuZXh0Rm9jdXMpIHtcbiAgICAgICAgICAgICAgICBEb20uY2FuY2VsRXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvY3VzRWxlbWVudChuZXh0Rm9jdXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuXG5TZWxlY3RCb3gucHJvdG90eXBlLl9mb2N1c0VsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGN1cnJlbnRGb2N1cyA9IERvbS5maW5kQ2hpbGRXaXRoQ2xhc3ModGhpcy5vcHRpb25Cb3gsIFwiRm9jdXNcIik7XG4gICAgaWYgKGN1cnJlbnRGb2N1cykge1xuICAgICAgICBEb20ucmVtb3ZlQ2xhc3MoY3VycmVudEZvY3VzLCBcIkZvY3VzXCIpO1xuICAgIH1cbiAgICBEb20uYWRkQ2xhc3MoZWxlbWVudCwgXCJGb2N1c1wiKTtcbiAgICBEb20uZ2V0VGFnKFwiaW5wdXRcIiwgZWxlbWVudCkuZm9jdXMoKTtcbn1cbiIsImZ1bmN0aW9uIFNuYWNrQmFyKCkge1xuICAgIEJhc2VUZW1wbGF0ZWRXaWRnZXQuY2FsbCh0aGlzKTtcbiAgICB0aGlzLml0ZW1zID0gW107XG5cbiAgICB0aGlzLmJpbmQoXCJjbGlja1wiLCB0aGlzLmNsb3NlLCB0aGlzLmNsb3NlQnV0dG9uKTtcbiAgICB0aGlzLmJpbmQoXCJjbGlja1wiLCB0aGlzLm9uQWN0aW9uQ2xpY2ssIHRoaXMuYWN0aW9uQnV0dG9uKTtcbn1cblxuX19leHRlbmQoQmFzZVRlbXBsYXRlZFdpZGdldCwgU25hY2tCYXIpO1xuXG5TbmFja0Jhci5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAobWVzc2FnZSwgYWN0aW9uVGl0bGUsIGFjdGlvbkhhbmRsZXIsIGljb24sIGV4dHJhTWVzc2FnZSwgY2xvc2FibGUpIHtcbiAgICBEb20uYWRkQ2xhc3ModGhpcy5pY29uLCBpY29uIHx8IFwiY2hlY2tib3gtbWFya2VkLWNpcmNsZVwiKTtcbiAgICBEb20uc2V0SW5uZXJUZXh0KHRoaXMubWVzc2FnZSwgbWVzc2FnZSk7XG5cbiAgICBEb20udG9nZ2xlQ2xhc3ModGhpcy5ub2RlKCksIFwiV2l0aEV4dHJhTWVzc2FnZVwiLCBleHRyYU1lc3NhZ2UgPyB0cnVlIDogZmFsc2UpO1xuICAgIERvbS5zZXRJbm5lclRleHQodGhpcy5leHRyYU1lc3NhZ2UsIGV4dHJhTWVzc2FnZSB8fCBcIlwiKTtcblxuICAgIERvbS50b2dnbGVDbGFzcyh0aGlzLm5vZGUoKSwgXCJXaXRoQWN0aW9uXCIsIGFjdGlvblRpdGxlID8gdHJ1ZSA6IGZhbHNlKTtcbiAgICBEb20uc2V0SW5uZXJUZXh0KHRoaXMuYWN0aW9uQnV0dG9uLCBhY3Rpb25UaXRsZSk7XG4gICAgdGhpcy5hY3Rpb25IYW5kbGVyID0gYWN0aW9uSGFuZGxlcjtcblxuICAgIERvbS50b2dnbGVDbGFzcyh0aGlzLm5vZGUoKSwgXCJDbG9zYWJsZVwiLCBjbG9zYWJsZSA/IHRydWUgOiBmYWxzZSk7XG4gICAgdGhpcy5jbG9zYWJsZSA9IGNsb3NhYmxlO1xufTtcblNuYWNrQmFyLnByb3RvdHlwZS5vbkFjdGlvbkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5hY3Rpb25IYW5kbGVyKSByZXR1cm47XG4gICAgdGhpcy5hY3Rpb25IYW5kbGVyKCk7XG4gICAgdGhpcy5jbG9zZSgpO1xufTtcblNuYWNrQmFyLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuY2xvc2VUaW1lb3V0KTtcblxuICAgIHZhciBub2RlID0gdGhpcy5ub2RlKCk7XG4gICAgbm9kZS5zdHlsZS50b3AgPSBcIi1cIiArIE1hdGguY2VpbChub2RlLm9mZnNldEhlaWdodCAvIFV0aWwuZW0oKSkgKyBcImVtXCI7XG4gICAgbm9kZS5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG5cbiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICB9LCAzNTApO1xufTtcblNuYWNrQmFyLnNob3cgPSBmdW5jdGlvbiAobWVzc2FnZSwgYWN0aW9uLCBhY3Rpb25IYW5kbGVyLCBpY29uLCBleHRyYU1lc3NhZ2UsIGNsb3NhYmxlKSB7XG4gICAgdmFyIHNuYWNrQmFyID0gbmV3IFNuYWNrQmFyKCk7XG4gICAgc25hY2tCYXIuc2V0dXAobWVzc2FnZSwgYWN0aW9uLCBhY3Rpb25IYW5kbGVyLCBpY29uLCBleHRyYU1lc3NhZ2UsIGNsb3NhYmxlKTtcbiAgICBEb20uYWRkQ2xhc3Moc25hY2tCYXIubm9kZSgpLCBcIkZsb2F0aW5nXCIpO1xuICAgIHNuYWNrQmFyLm5vZGUoKS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBzbmFja0Jhci5ub2RlKCkuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xuICAgIHNuYWNrQmFyLm5vZGUoKS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICBzbmFja0Jhci5ub2RlKCkuc3R5bGUudHJhbnNpdGlvbiA9IFwidG9wIDAuM3MgZWFzZSwgb3BhY2l0eSAwLjNzIGVhc2VcIjtcbiAgICBzbmFja0Jhci5pbnRvKGRvY3VtZW50LmJvZHkpO1xuXG4gICAgdmFyIGhlaWdodCA9IE1hdGguY2VpbChzbmFja0Jhci5ub2RlKCkub2Zmc2V0SGVpZ2h0IC8gVXRpbC5lbSgpKTtcbiAgICB2YXIgd2lkdGggPSBzbmFja0Jhci5ub2RlKCkub2Zmc2V0V2lkdGg7XG4gICAgc25hY2tCYXIubm9kZSgpLnN0eWxlLnRvcCA9IFwiLVwiICsgaGVpZ2h0ICsgXCJlbVwiO1xuICAgIHNuYWNrQmFyLm5vZGUoKS5zdHlsZS5sZWZ0ID0gTWF0aC5yb3VuZCgoZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCAtIHdpZHRoKSAvIDIpICsgXCJweFwiO1xuXG4gICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzbmFja0Jhci5ub2RlKCkuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgICAgICBzbmFja0Jhci5ub2RlKCkuc3R5bGUudG9wID0gXCIxZW1cIjtcbiAgICAgICAgc25hY2tCYXIubm9kZSgpLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcblxuICAgICAgICBzbmFja0Jhci5jbG9zZVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzbmFja0Jhci5jbG9zZSgpO1xuICAgICAgICB9LCBhY3Rpb24gPyA3MDAwIDogNTAwMCk7XG4gICAgfSwgMTApO1xufVxuIiwiZnVuY3Rpb24gVGFiQ29udHJvbCgpIHtcblx0QmFzZVRlbXBsYXRlZFdpZGdldC5jYWxsKHRoaXMpO1xufVxuX19leHRlbmQoQmFzZVRlbXBsYXRlZFdpZGdldCwgVGFiQ29udHJvbCk7XG5cbiIsImZ1bmN0aW9uIFZpZXdUYWcoKSB7XG5cdEJhc2VUZW1wbGF0ZWRXaWRnZXQuY2FsbCh0aGlzKTtcbn1cbl9fZXh0ZW5kKEJhc2VUZW1wbGF0ZWRXaWRnZXQsIFZpZXdUYWcpO1xuXG4iLCJ3aWRnZXQucGUgPSB7fTtcbndpZGdldC5wZS5fYnVpbGRDb250YWluZXIgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBjb250ZXh0KSB7XG4gICAgXG4gICAgXG59O1xud2lkZ2V0LnBlLkJhc2VFZGl0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgXG59O1xuXG53aWRnZXQucGUuQmFzZUVkaXRvci5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIChjb250YWluZXIpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IHdpZGdldC5nZXQoY29udGFpbmVyKTtcbiAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgIERvbS5hZGRDbGFzcyh0aGlzLmNvbnRhaW5lciwgXCJFZGl0YWJsZUNvbnRhaW5lclwiKTtcbiAgICBEb20uYWRkQ2xhc3ModGhpcy5jb250YWluZXIsIFwiRWRpdGFibGVDb250YWluZXJFZGl0YWJsZVwiKTtcbiAgICBcbiAgICB0aGlzLmVkaXRvciA9IHRoaXMuY3JlYXRlRWRpdG9yKCk7XG4gICAgRG9tLmFkZENsYXNzKHRoaXMuZWRpdG9yLCBcIkNvbnRyb2xcIik7XG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5lZGl0b3IpO1xuICAgIFxuICAgIHRoaXMubGFiZWwgPSBEb20ubmV3RE9NRWxlbWVudCh7XG4gICAgICAgIF9uYW1lOiBcInNwYW5cIixcbiAgICAgICAgXCJjbGFzc1wiOiB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLm11bHRpbGluZSA/IFwiTUxhYmVsXCIgOiBcIkVMYWJlbFwiXG4gICAgfSk7XG4gICAgXG4gICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5sYWJlbCk7XG59O1xud2lkZ2V0LnBlLkJhc2VFZGl0b3IucHJvdG90eXBlLnJlYWRPbmx5ID0gZnVuY3Rpb24gKHJlYWRPbmx5KSB7XG4gICAgaWYgKHJlYWRPbmx5KSB7XG4gICAgICAgIERvbS5yZW1vdmVDbGFzcyh0aGlzLmNvbnRhaW5lciwgXCJFZGl0YWJsZUNvbnRhaW5lckVkaXRhYmxlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIERvbS5hZGRDbGFzcyh0aGlzLmNvbnRhaW5lciwgXCJFZGl0YWJsZUNvbnRhaW5lckVkaXRhYmxlXCIpO1xuICAgIH1cbn07XG53aWRnZXQucGUuQmFzZUVkaXRvci5wcm90b3R5cGUudXNlSHRtbEZvckRpc3BsYXlUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbn07XG53aWRnZXQucGUuQmFzZUVkaXRvci5wcm90b3R5cGUudXBkYXRlRGlzcGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcyA9IHRoaXMuZ2V0RGlzcGxheVRleHQodGhpcy52YWx1ZSk7XG4gICAgaWYgKHRoaXMudXNlSHRtbEZvckRpc3BsYXlUZXh0KCkpIHtcbiAgICAgICAgdGhpcy5sYWJlbC5pbm5lckhUTUwgPSBzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBoID0gRG9tLmh0bWxFbmNvZGUocyk7XG4gICAgICAgIHRoaXMubGFiZWwuaW5uZXJIVE1MID0gaDtcbiAgICB9XG59O1xud2lkZ2V0LnBlLkJhc2VFZGl0b3IucHJvdG90eXBlLnJvbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRWYWx1ZSh0aGlzLm9yaWdpbmFsVmFsdWUsIHRydWUpO1xufVxud2lkZ2V0LnBlLkJhc2VFZGl0b3IucHJvdG90eXBlLmdldE9yaWdpbmFsVmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMub3JpZ2luYWxWYWx1ZTtcbn07XG53aWRnZXQucGUuQmFzZUVkaXRvci5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIGlzT3JpZ2luYWxWYWx1ZSkge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAvL2NvbnNvbGUubG9nKFwic2V0IHZhbHVlOiBcIiArIGlzT3JpZ2luYWxWYWx1ZSwgdHlwZW9mKGlzT3JpZ2luYWxWYWx1ZSkpO1xuICAgIGlmIChpc09yaWdpbmFsVmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YoaXNPcmlnaW5hbFZhbHVlKSA9PSAgXCJ1bmRlZmluZWRcIiB8fCBpc09yaWdpbmFsVmFsdWUgPT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsVmFsdWUgPSB0aGlzLnZhbHVlID09IG51bGwgPyBudWxsIDogSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnZhbHVlKSk7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJvcmlnaW5hbCB2YWx1ZTogXCIsIHRoaXMub3JpZ2luYWxWYWx1ZSk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlRGlzcGxheSgpO1xuICAgIHRoaXMuc2V0SW1wbCh0aGlzLnZhbHVlKTtcbn07XG53aWRnZXQucGUuQmFzZUVkaXRvci5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuZ2V0SW1wbCgpO1xuICAgIHJldHVybiB0aGlzLnZhbHVlO1xufTtcbndpZGdldC5wZS5CYXNlRWRpdG9yLnByb3RvdHlwZS5nZXRUeXBlZFZhbHVlID0gZnVuY3Rpb24gKHR5cGUsIGlkT25seSwgZm9yY2VBcnJheSkge1xuICAgIHJldHVybiB3aWRnZXQucGUuX2dldFN0cm9uZ1R5cGVFZGl0b3JWYWx1ZSh0aGlzLCB0eXBlLCBpZE9ubHksIGZvcmNlQXJyYXkpO1xufVxuXG53aWRnZXQucGUuQmFzZUVkaXRvci5wcm90b3R5cGUub25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy52YWx1ZSA9IHRoaXMuZ2V0SW1wbCgpO1xuICAgIHRoaXMudXBkYXRlRGlzcGxheSgpO1xuICAgIGlmICh0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLm9uQ2hhbmdlZCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMub25DaGFuZ2VkKCk7XG4gICAgfVxufTtcblxud2lkZ2V0LnBlLkJhc2VFZGl0b3IucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmVkaXRvci5mb2N1cykge1xuICAgICAgICB0aGlzLmVkaXRvci5mb2N1cygpO1xuICAgIH1cbn07XG53aWRnZXQucGUuQmFzZUVkaXRvci5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24oZW5hYmxlKSB7XG4gICAgaWYgKHRoaXMuZWRpdG9yKSB0aGlzLmVkaXRvci5kaXNhYmxlZCA9ICFlbmFibGU7XG59XG53aWRnZXQucGUuQmFzZUVkaXRvci5wcm90b3R5cGUubGlzdGVuID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGl6ID0gdGhpcztcbiAgICB2YXIgZiA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aGl6Lm9uY2hhbmdlKCk7XG4gICAgfTtcbiAgICBcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkgKyspIHtcbiAgICAgICAgRG9tLnJlZ2lzdGVyRXZlbnQodGhpcy5jb250YWluZXIsIGFyZ3VtZW50c1tpXSwgZiwgZmFsc2UpO1xuICAgIH1cbn07XG5cbndpZGdldC5wZS5QbGFpblRleHRFZGl0b3IgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLmluaXQoY29udGFpbmVyKTtcbiAgICBcbiAgICBpZiAodGhpcy5vcHRpb25zLmlzRGF0ZSkge1xuICAgICAgICB2YXIgcCA9ICQodGhpcy5lZGl0b3IpLmRhdGVwaWNrZXIoe1xuICAgICAgICAgICAgZm9ybWF0OiBcIm1tL2RkL3l5eXlcIlxuICAgICAgICB9KS5vbihcImNoYW5nZURhdGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcC5kYXRlcGlja2VyKFwiaGlkZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vdGhpcy5lZGl0b3IuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBEb20uYWRkQ2xhc3ModGhpcy5lZGl0b3IsIFwiRGF0ZUVkaXRvclwiKTtcbiAgICB9XG5cbiAgICBcbiAgICBpZiAodGhpcy5vcHRpb25zLm11bHRpbGluZSkge1xuICAgICAgICBEb20uYWRkQ2xhc3ModGhpcy5jb250YWluZXIsIFwiRWRpdGFibGVDb250YWluZXJNdWx0aUxpbmVcIik7XG4gICAgfVxuICAgICAgICBcbiAgICB0aGlzLmxpc3RlbihcImNoYW5nZVwiLCBcImtleXVwXCIpO1xufTtcbndpZGdldC5wZS5QbGFpblRleHRFZGl0b3IucHJvdG90eXBlID0gbmV3IHdpZGdldC5wZS5CYXNlRWRpdG9yKCk7XG53aWRnZXQucGUuUGxhaW5UZXh0RWRpdG9yLnByb3RvdHlwZS5jcmVhdGVFZGl0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5tdWx0aWxpbmUpIHtcbiAgICAgICAgcmV0dXJuIERvbS5uZXdET01FbGVtZW50KHtcbiAgICAgICAgICAgIF9uYW1lOiBcInRleHRhcmVhXCIsXG4gICAgICAgICAgICBcImNsYXNzXCI6IFwiZm9ybS1jb250cm9sXCIsXG4gICAgICAgICAgICByb3dzOiB0aGlzLm9wdGlvbnMucm93cyB8fCBcIjNcIixcbiAgICAgICAgICAgIG1heExlbmd0aDogdGhpcy5vcHRpb25zLm1heExlbmd0aCA/IHRoaXMub3B0aW9ucy5tYXhMZW5ndGggOiBcIlwiXG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBEb20ubmV3RE9NRWxlbWVudCh7XG4gICAgICAgICAgICBfbmFtZTogXCJpbnB1dFwiLFxuICAgICAgICAgICAgXCJjbGFzc1wiOiBcImZvcm0tY29udHJvbFwiLFxuICAgICAgICAgICAgZ3VpZDogd2lkZ2V0LnJhbmRvbSgpLFxuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IHRoaXMub3B0aW9ucy5tYXhMZW5ndGggPyB0aGlzLm9wdGlvbnMubWF4TGVuZ3RoIDogXCJcIlxuICAgICAgICB9KTtcbiAgICB9XG59O1xud2lkZ2V0LnBlLlBsYWluVGV4dEVkaXRvci5wcm90b3R5cGUuc2V0SW1wbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaXNEYXRlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGQgPSB2YWx1ZS5nZXRUaW1lID8gdmFsdWUgOiBEYXRlVXRpbC5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmVkaXRvci52YWx1ZSA9IERhdGVVdGlsLmZvcm1hdEZvclVJKGQpO1xuLy8gICAgICAgICAgICBhbGVydChbZCwgdGhpcy5vcHRpb25zLmRhdGVGb3JtYXQsIHRoaXMuZWRpdG9yLnZhbHVlXSk7XG4gICAgICAgICAgICAkKHRoaXMuZWRpdG9yKS5kYXRlcGlja2VyKFwic2V0VmFsdWVcIiwgdGhpcy5lZGl0b3IudmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lZGl0b3IudmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRoaXMuZWRpdG9yLnZhbHVlID0gdmFsdWUgfHwgXCJcIjtcbiAgICB0aGlzLmxhYmVsLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIHZhbHVlIHx8IFwiXCIpO1xufTtcbndpZGdldC5wZS5QbGFpblRleHRFZGl0b3IucHJvdG90eXBlLmdldEltcGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5pc0RhdGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVkaXRvci52YWx1ZSkgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBEYXRlVXRpbC5wYXJzZSh0aGlzLmVkaXRvci52YWx1ZSk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0aGlzLmVkaXRvci52YWx1ZTtcbn07XG53aWRnZXQucGUuUGxhaW5UZXh0RWRpdG9yLnByb3RvdHlwZS5nZXREaXNwbGF5VGV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMuaXNEYXRlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGQgPSB2YWx1ZS5nZXRUaW1lID8gdmFsdWUgOiBEYXRlVXRpbC5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gRGF0ZVV0aWwuZm9ybWF0Rm9yVUkoZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gdmFsdWUgfHwgXCJcIjtcbn07XG5cbndpZGdldC5wZS5Db2xvclBpY2tlciA9IGZ1bmN0aW9uIChjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRoaXMuaW5pdChjb250YWluZXIpO1xuICAgIFxuICAgIHRoaXMuY29sb3JQaWNrZXIgPSBuZXcgd2lkZ2V0LkNvbG9yUGlja2VyKHRoaXMuZWRpdG9yLCB0aGlzLm9wdGlvbnMpO1xufTtcblxud2lkZ2V0LnBlLkNvbG9yUGlja2VyLnByb3RvdHlwZSA9IG5ldyB3aWRnZXQucGUuQmFzZUVkaXRvcigpO1xud2lkZ2V0LnBlLkNvbG9yUGlja2VyLnByb3RvdHlwZS5jcmVhdGVFZGl0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcmV0dXJuIGRpdjtcbn07XG53aWRnZXQucGUuQ29sb3JQaWNrZXIucHJvdG90eXBlLnNldEltcGwgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmNvbG9yUGlja2VyLnNldFZhbHVlKHZhbHVlKTtcbn07XG53aWRnZXQucGUuQ29sb3JQaWNrZXIucHJvdG90eXBlLmdldEltcGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JQaWNrZXIuZ2V0VmFsdWUoKTtcbn07XG53aWRnZXQucGUuQ29sb3JQaWNrZXIucHJvdG90eXBlLnNldEVuYWJsZWQgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xuICAgIHRoaXMuY29sb3JQaWNrZXIuc2V0RW5hYmxlZChlbmFibGVkKTtcbn07XG53aWRnZXQucGUuQ29sb3JQaWNrZXIucHJvdG90eXBlLmdldERpc3BsYXlUZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5jb2xvclBpY2tlci5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwiQ29sb3JQaWNrZXJcXFwiPlwiICsgdGhpcy5jb2xvclBpY2tlci53cmFwcGVyLmlubmVySFRNTCArIFwiPC9kaXY+XCI7XG59O1xuXG53aWRnZXQucGUuQ29sb3JQaWNrZXIucHJvdG90eXBlLnVzZUh0bWxGb3JEaXNwbGF5VGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbndpZGdldC5wZS5Db21ib0VkaXRvciA9IGZ1bmN0aW9uIChjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRoaXMuaW5pdChjb250YWluZXIpO1xuICAgIFxuICAgIHRoaXMuY29tYm9NYW5hZ2VyID0gbmV3IHdpZGdldC5Db21ib01hbmFnZXIodGhpcy5lZGl0b3IsIHRoaXMub3B0aW9ucyk7XG4gICAgXG4gICAgaWYgKHRoaXMub3B0aW9ucy5pdGVtcykge1xuICAgICAgICB0aGlzLmNvbWJvTWFuYWdlci5zZXRJdGVtcyh0aGlzLm9wdGlvbnMuaXRlbXMpO1xuICAgIH1cblxuICAgIHRoaXMubGlzdGVuKFwiY2hhbmdlXCIsIFwia2V5dXBcIiwgXCJjbGlja1wiKTtcbn07XG53aWRnZXQucGUuQ29tYm9FZGl0b3IucHJvdG90eXBlID0gbmV3IHdpZGdldC5wZS5CYXNlRWRpdG9yKCk7XG53aWRnZXQucGUuQ29tYm9FZGl0b3IucHJvdG90eXBlLmNyZWF0ZUVkaXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaXYuY2xhc3NOYW1lID0gXCJDb21ib0VkaXRvclwiO1xuICAgIHJldHVybiBkaXY7XG59O1xud2lkZ2V0LnBlLkNvbWJvRWRpdG9yLnByb3RvdHlwZS5zZXRJbXBsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5jb21ib01hbmFnZXIuc2VsZWN0SXRlbUlmQ29udGFpbnModmFsdWUpO1xufTtcbndpZGdldC5wZS5Db21ib0VkaXRvci5wcm90b3R5cGUuZ2V0SW1wbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb21ib01hbmFnZXIuZ2V0U2VsZWN0ZWRJdGVtKCk7XG59O1xud2lkZ2V0LnBlLkNvbWJvRWRpdG9yLnByb3RvdHlwZS5nZXREaXNwbGF5VGV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmNvbWJvTWFuYWdlci5nZXRDdXJyZW50SXRlbURpc3BsYXlUZXh0KHZhbHVlKTtcbn07XG53aWRnZXQucGUuQ29tYm9FZGl0b3IucHJvdG90eXBlLnNldEl0ZW1zID0gZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgdGhpcy5jb21ib01hbmFnZXIuc2V0SXRlbXMoaXRlbXMpO1xufTtcbndpZGdldC5wZS5Db21ib0VkaXRvci5wcm90b3R5cGUuYXN5bmNMb2FkSXRlbXMgPSBmdW5jdGlvbiAobG9hZGVyKSB7XG4gICAgdmFyIHRoaXogPSB0aGlzO1xuICAgIGxvYWRlcihmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICAgICAgdGhpei5jb21ib01hbmFnZXIuc2V0SXRlbXMoaXRlbXMpO1xuICAgIH0pO1xufTtcbndpZGdldC5wZS5Db21ib0VkaXRvci5wcm90b3R5cGUuZmlyZVNlbGVjdGlvbkV2ZW50ID0gZnVuY3Rpb24oZnJvbVVzZXIpIHtcbiAgICB0aGlzLmNvbWJvTWFuYWdlci5maXJlU2VsZWN0aW9uRXZlbnQoZnJvbVVzZXIpO1xufVxud2lkZ2V0LnBlLkNvbWJvRWRpdG9yLnByb3RvdHlwZS5zZXRFbmFibGUgPSBmdW5jdGlvbihlbmFibGUpIHtcbiAgICB0aGlzLmVuYWJsZSA9IGVuYWJsZTtcbiAgICB0aGlzLmNvbWJvTWFuYWdlci5zZXRFbmFibGUoZW5hYmxlKTtcbn1cblxuXG53aWRnZXQucGUuRGF0ZVRpbWVFZGl0b3IgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLmluaXQoY29udGFpbmVyKTtcbiAgICBcbiAgICB2YXIgdXNlU2Vjb25kcyA9IHRoaXMub3B0aW9ucy51c2VTZWNvbmRzID8gdGhpcy5vcHRpb25zLnVzZVNlY29uZHMgOiBmYWxzZTtcbiAgICB2YXIgZm9ybWF0ID0gdGhpcy5vcHRpb25zLmZvcm1hdCA/IHRoaXMub3B0aW9ucy5mb3JtYXQgOiBudWxsO1xuICAgIHdpZGdldC5VdGlsLmluaXREYXRlVGltZUVkaXRvcih0aGlzLmVkaXRvciwgdGhpcy5vcHRpb25zLndpdGhUaW1lLCB1c2VTZWNvbmRzLCBmb3JtYXQpO1xuICAgIERvbS5hZGRDbGFzcyh0aGlzLmVkaXRvciwgXCJEYXRlRWRpdG9yXCIpO1xuICAgICAgICBcbiAgICB0aGlzLmxpc3RlbihcImNoYW5nZVwiLCBcImtleXVwXCIpO1xufTtcbndpZGdldC5wZS5EYXRlVGltZUVkaXRvci5wcm90b3R5cGUgPSBuZXcgd2lkZ2V0LnBlLkJhc2VFZGl0b3IoKTtcbndpZGdldC5wZS5EYXRlVGltZUVkaXRvci5wcm90b3R5cGUuY3JlYXRlRWRpdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBEb20ubmV3RE9NRWxlbWVudCh7XG4gICAgICAgIF9uYW1lOiBcImlucHV0XCIsXG4gICAgICAgIFwiY2xhc3NcIjogXCJmb3JtLWNvbnRyb2xcIixcbiAgICAgICAgZ3VpZDogd2lkZ2V0LnJhbmRvbSgpLFxuICAgICAgICB0eXBlOiBcInRleHRcIlxuICAgIH0pO1xufTtcbndpZGdldC5wZS5EYXRlVGltZUVkaXRvci5wcm90b3R5cGUuc2V0SW1wbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHdpZGdldC5VdGlsLnNldERhdGVUaW1lRWRpdG9yVmFsdWUodGhpcy5lZGl0b3IsIHZhbHVlKTtcbn07XG53aWRnZXQucGUuRGF0ZVRpbWVFZGl0b3IucHJvdG90eXBlLmdldEltcGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHdpZGdldC5VdGlsLmdldERhdGVUaW1lRWRpdG9yVmFsdWUodGhpcy5lZGl0b3IpO1xufTtcbndpZGdldC5wZS5EYXRlVGltZUVkaXRvci5wcm90b3R5cGUuZ2V0RGlzcGxheVRleHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gXCJcIjtcbiAgICByZXR1cm4gRGF0ZVV0aWwuZm9ybWF0Rm9yVUkoRGF0ZVV0aWwuZW5zdXJlRGF0ZSh2YWx1ZSksIHRoaXMub3B0aW9ucy53aXRoVGltZSk7XG59O1xuXG53aWRnZXQucGUuVGltZUVkaXRvciA9IGZ1bmN0aW9uKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy5pbml0KGNvbnRhaW5lcik7XG4gICAgd2lkZ2V0LlV0aWwuaW5pdFRpbWVFZGl0b3IodGhpcy5lZGl0b3IsIHRoaXMub3B0aW9ucyk7XG4gICAgdGhpcy5saXN0ZW4oXCJjaGFuZ2VcIiwgXCJrZXl1cFwiKTtcbn1cblxud2lkZ2V0LnBlLlRpbWVFZGl0b3IucHJvdG90eXBlID0gbmV3IHdpZGdldC5wZS5CYXNlRWRpdG9yKCk7XG53aWRnZXQucGUuVGltZUVkaXRvci5wcm90b3R5cGUuY3JlYXRlRWRpdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBEb20ubmV3RE9NRWxlbWVudCh7XG4gICAgICAgIF9uYW1lOiBcImlucHV0XCIsXG4gICAgICAgIFwiY2xhc3NcIjogXCJmb3JtLWNvbnRyb2xcIixcbiAgICAgICAgZ3VpZDogd2lkZ2V0LnJhbmRvbSgpLFxuICAgICAgICB0eXBlOiBcInRleHRcIlxuICAgIH0pO1xufTtcbndpZGdldC5wZS5UaW1lRWRpdG9yLnByb3RvdHlwZS5zZXRJbXBsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgd2lkZ2V0LlV0aWwuc2V0VGltZUVkaXRvclZhbHVlKHRoaXMuZWRpdG9yLCB2YWx1ZSk7XG59O1xud2lkZ2V0LnBlLlRpbWVFZGl0b3IucHJvdG90eXBlLmdldERpc3BsYXlUZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBcIjAwOjAwXCI7XG4gICAgcmV0dXJuIHZhbHVlLmdldEhvdXJzKCkgKyBcIjpcIiArIHZhbHVlLmdldE1pbnV0ZXMoKTtcbn07XG53aWRnZXQucGUuVGltZUVkaXRvci5wcm90b3R5cGUuZ2V0SW1wbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGF0YSA9IHRoaXMuZWRpdG9yLnZhbHVlLnNwbGl0KFwiOlwiKTtcbiAgICBpZiAoZGF0YS5sZW5ndGggIT0gMikgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIHtob3VyczogcGFyc2VJbnQoZGF0YVswXSwgMTApLCBtaW51dGVzOiBwYXJzZUludChkYXRhWzFdLCAxMCl9O1xufTtcbndpZGdldC5wZS5OdW1iZXJFZGl0b3IgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLmluaXQoY29udGFpbmVyKTtcbiAgICBcbiAgICBEb20uYWRkQ2xhc3ModGhpcy5lZGl0b3IsIFwiTnVtYmVyRWRpdG9yXCIpO1xuICAgIFV0aWwuZW5mb3JjZU51bWJlcklucHV0KHRoaXMuZWRpdG9yKTtcbiAgICBcbiAgICB0aGlzLmxpc3RlbihcImNoYW5nZVwiLCBcImtleXVwXCIpO1xufTtcbndpZGdldC5wZS5OdW1iZXJFZGl0b3IucHJvdG90eXBlID0gbmV3IHdpZGdldC5wZS5CYXNlRWRpdG9yKCk7XG53aWRnZXQucGUuTnVtYmVyRWRpdG9yLnByb3RvdHlwZS5jcmVhdGVFZGl0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIERvbS5uZXdET01FbGVtZW50KHtcbiAgICAgICAgX25hbWU6IFwiaW5wdXRcIixcbiAgICAgICAgXCJjbGFzc1wiOiBcImZvcm0tY29udHJvbFwiLFxuICAgICAgICBndWlkOiB3aWRnZXQucmFuZG9tKCksXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICBtYXhMZW5ndGg6IHRoaXMub3B0aW9ucy5tYXhMZW5ndGggPyB0aGlzLm9wdGlvbnMubWF4TGVuZ3RoIDogXCJcIlxuICAgIH0pO1xufTtcbndpZGdldC5wZS5OdW1iZXJFZGl0b3IucHJvdG90eXBlLnNldEltcGwgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB0aGlzLmVkaXRvci52YWx1ZSA9IFwiXCIgKyAodmFsdWUgfHwgXCJcIik7XG59O1xud2lkZ2V0LnBlLk51bWJlckVkaXRvci5wcm90b3R5cGUuZ2V0SW1wbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5lZGl0b3IudmFsdWUgPyBwYXJzZUZsb2F0KHRoaXMuZWRpdG9yLnZhbHVlKSA6IG51bGw7XG59O1xud2lkZ2V0LnBlLk51bWJlckVkaXRvci5wcm90b3R5cGUuZ2V0RGlzcGxheVRleHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gXCJcIiArICh2YWx1ZSB8fCBcIlwiKTtcbn07XG5cbndpZGdldC5wZS5Cb29sZWFuRWRpdG9yID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuZm9ybWF0KSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5mb3JtYXQgPSBmdW5jdGlvbiAoYikge1xuICAgICAgICAgICAgcmV0dXJuIGIgPyBNZXNzYWdlc1tcInllc1wiXSA6IE1lc3NhZ2VzW1wibm9cIl07XG4gICAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIHRoaXMuaW5pdChjb250YWluZXIpO1xuICAgIFxuICAgIHRoaXMuY29tYm9NYW5hZ2VyID0gbmV3IHdpZGdldC5Db21ib01hbmFnZXIodGhpcy5lZGl0b3IsIHRoaXMub3B0aW9ucyk7XG4gICAgdGhpcy5jb21ib01hbmFnZXIuc2V0SXRlbXMoW3RydWUsIGZhbHNlXSk7XG5cbiAgICB0aGlzLmxpc3RlbihcImNoYW5nZVwiLCBcImtleXVwXCIsIFwiY2xpY2tcIik7XG59O1xud2lkZ2V0LnBlLkJvb2xlYW5FZGl0b3IucHJvdG90eXBlID0gbmV3IHdpZGdldC5wZS5CYXNlRWRpdG9yKCk7XG53aWRnZXQucGUuQm9vbGVhbkVkaXRvci5wcm90b3R5cGUuY3JlYXRlRWRpdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdi5jbGFzc05hbWUgPSBcInRlc3RcIjtcbiAgICByZXR1cm4gZGl2O1xufTtcbndpZGdldC5wZS5Cb29sZWFuRWRpdG9yLnByb3RvdHlwZS5zZXRJbXBsID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdGhpcy5jb21ib01hbmFnZXIuc2VsZWN0SXRlbSh2YWx1ZSk7XG59O1xud2lkZ2V0LnBlLkJvb2xlYW5FZGl0b3IucHJvdG90eXBlLmdldEltcGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcIkJvb2xlYW5FZGl0b3IucHJvdG90eXBlLmdldEltcGxcIiwgdGhpcy5jb21ib01hbmFnZXIuZ2V0U2VsZWN0ZWRJdGVtKCkpO1xuICAgIHJldHVybiB0aGlzLmNvbWJvTWFuYWdlci5nZXRTZWxlY3RlZEl0ZW0oKTtcbn07XG53aWRnZXQucGUuQm9vbGVhbkVkaXRvci5wcm90b3R5cGUuZ2V0RGlzcGxheVRleHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5jb21ib01hbmFnZXIuZ2V0Q3VycmVudEl0ZW1EaXNwbGF5VGV4dCh2YWx1ZSk7XG59O1xuXG53aWRnZXQucGUuTXVsdGlTZWxlY3Rpb25FZGl0b3IgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLmluaXQoY29udGFpbmVyKTtcbiAgICBcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5yZW5kZXJlcikgdGhpcy5vcHRpb25zLnJlbmRlcmVyID0gdGhpcy5vcHRpb25zLmZvcm1hdDtcbiAgICBcbiAgICB2YXIgdGhpeiA9IHRoaXM7XG4gICAgRG9tLnJlZ2lzdGVyRXZlbnQodGhpcy5lZGl0b3IsIFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGl6Lm9wdGlvbnMuYnVpbGRTb3VyY2UoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICAgICAgbmV3IE11bHRpU2VsZWN0aW9uRGlhbG9nKCkub3Blbihzb3VyY2UsIHRoaXoub3B0aW9ucy5yZW5kZXJlciwgdGhpei5pdGVtcywgdGhpei5vcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAobmV3U2VsZWN0ZWRJdGVtcykge1xuICAgICAgICAgICAgICAgIHRoaXouc2V0VmFsdWUobmV3U2VsZWN0ZWRJdGVtcywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmICh0aGl6Lm9wdGlvbnMub25DaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJvbiBjaGFuZ2VkXCIgKyBvcHRpb25zKTsgXG4gICAgICAgICAgICAgICAgICAgIHRoaXoub3B0aW9ucy5vbkNoYW5nZWQodGhpei5pdGVtcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sIGZhbHNlKTtcbiAgICBcbiAgICBEb20uYWRkQ2xhc3ModGhpcy5sYWJlbCwgXCJNdWx0aVNlbGVjdGlvbkVkaXRvclwiKTtcbiAgICB0aGlzLmxpc3RlbihcImNoYW5nZVwiLCBcImtleXVwXCIsIFwiY2xpY2tcIik7XG59O1xud2lkZ2V0LnBlLk11bHRpU2VsZWN0aW9uRWRpdG9yLnByb3RvdHlwZSA9IG5ldyB3aWRnZXQucGUuQmFzZUVkaXRvcigpO1xud2lkZ2V0LnBlLk11bHRpU2VsZWN0aW9uRWRpdG9yLnByb3RvdHlwZS5jcmVhdGVFZGl0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIERvbS5uZXdET01FbGVtZW50KHtcbiAgICAgICAgX25hbWU6IFwiYnV0dG9uXCIsXG4gICAgICAgIFwiY2xhc3NcIjogXCJidG4gYnRuLWRlZmF1bHQgTXVsdGlTZWxlY3Rpb25FZGl0b3JcIixcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgX2NoaWxkcmVuOiBbe1xuICAgICAgICAgICAgX25hbWU6IFwic3BhblwiLFxuICAgICAgICAgICAgXCJjbGFzc1wiOiBcImRpc3BsYXlcIixcbiAgICAgICAgICAgIF9pZDogXCJkaXNwbGF5U3BhblwiLFxuICAgICAgICAgICAgX2h0bWw6IFwiU2VsZWN0aW9uIDEsIFNlbGVjdGlvbiAyLCBTZWxlY3Rpb24gMywgTGFzdCBzZWxlY3Rpb24gaXRlbVwiXG4gICAgICAgIH0se1xuICAgICAgICAgICAgX25hbWU6IFwic3BhblwiLFxuICAgICAgICAgICAgX2h0bWw6IFwiJiMxNjA7XCJcbiAgICAgICAgfSx7XG4gICAgICAgICAgICBfbmFtZTogXCJpXCIsXG4gICAgICAgICAgICBcImNsYXNzXCI6IFwiZmEgZmEtZWxsaXBzaXMtaFwiXG4gICAgICAgIH1dXG4gICAgfSwgZG9jdW1lbnQsIHRoaXMpO1xufTtcbndpZGdldC5wZS5NdWx0aVNlbGVjdGlvbkVkaXRvci5wcm90b3R5cGUuc2V0SW1wbCA9IGZ1bmN0aW9uIChpdGVtcykge1xuICAgIGlmICghaXRlbXMpIGl0ZW1zID0gW107XG4gICAgdGhpcy5pdGVtcyA9IGl0ZW1zO1xuICAgIFxuICAgIGlmICh0aGlzLnVzZUh0bWxGb3JEaXNwbGF5VGV4dCgpIHx8IHRoaXMub3B0aW9ucy51c2VIdG1sKSB7XG4gICAgICAgIHRoaXMuZGlzcGxheVNwYW4uaW5uZXJIVE1MID0gdGhpcy5nZXREaXNwbGF5VGV4dCh0aGlzLml0ZW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBEb20uc2V0SW5uZXJUZXh0KHRoaXMuZGlzcGxheVNwYW4sIHRoaXMuZ2V0RGlzcGxheVRleHQodGhpcy5pdGVtcykpO1xuICAgIH1cbiAgICBcbiAgICB0aGlzLmxhYmVsLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsIHRoaXMuZ2V0VGl0bGVUZXh0KHRoaXMuaXRlbXMpKTtcbn07XG53aWRnZXQucGUuTXVsdGlTZWxlY3Rpb25FZGl0b3IucHJvdG90eXBlLmdldEltcGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaXRlbXM7XG59O1xud2lkZ2V0LnBlLk11bHRpU2VsZWN0aW9uRWRpdG9yLnByb3RvdHlwZS5nZXRUaXRsZVRleHQgPSBmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICB2YXIgcyA9IFwiXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkgKyspIHtcbiAgICAgICAgaWYgKGl0ZW1zW2ldLmlzUm9vdCkgY29udGludWU7XG4gICAgICAgIGlmIChzKSBzICs9IFwiLCBcIjtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZWxlY3RlZEl0ZW1Gb3JtYXQpIHtcbiAgICAgICAgICAgIHMgKz0gdGhpcy5vcHRpb25zLnNlbGVjdGVkSXRlbUZvcm1hdChpdGVtc1tpXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzICs9IHRoaXMub3B0aW9ucy5mb3JtYXQoaXRlbXNbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBzXG59O1xud2lkZ2V0LnBlLk11bHRpU2VsZWN0aW9uRWRpdG9yLnByb3RvdHlwZS5nZXREaXNwbGF5VGV4dCA9IGZ1bmN0aW9uIChpdGVtcykge1xuICAgIHZhciBzID0gXCJcIjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSArKykge1xuICAgICAgICBpZiAoaXRlbXNbaV0uaXNSb290KSBjb250aW51ZTtcbiAgICAgICAgaWYgKHMpIHMgKz0gXCIsIFwiO1xuICAgICAgICBzICs9IHRoaXMub3B0aW9ucy5mb3JtYXQoaXRlbXNbaV0sIFwiZm9yQnV0dG9uRGlzcGxheVwiKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHNcbn07XG5cbndpZGdldC5wZS5BdHRhY2htZW50RWRpdG9yID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy5pbml0KGNvbnRhaW5lcik7XG4gICAgXG4gICAgdmFyIHRoaXogPSB0aGlzO1xuICAgIERvbS5yZWdpc3RlckV2ZW50KHRoaXMudXBsb2FkQnV0dG9uLCBcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbmV3IENvbW1vblVwbG9hZERpYWxvZyhmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgIHRoaXouc2V0VmFsdWUoaWQsIGZhbHNlKTtcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGl0bGU6IG9wdGlvbnMudGl0bGUgPyAoTWVzc2FnZXNbXCJ1cGxvYWRcIl0gKyBcIiBcIiArIG9wdGlvbi5kYXRhTmFtZSkgOiBNZXNzYWdlc1tcInVwbG9hZFwiXVxuICAgICAgICB9KS5vcGVuKCk7XG4gICAgfSwgZmFsc2UpO1xuICAgIERvbS5yZWdpc3RlckV2ZW50KHRoaXMucmVtb3ZlQnV0dG9uLCBcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2lkZ2V0LkRpYWxvZy5jb25maXJtKE1lc3NhZ2VzW1wicmVtb3ZlX2F0dGFjaG1lbnRfY29uZmlybV9tc2dcIl0sIE1lc3NhZ2VzW1wicmVtb3ZlXCJdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGl6LnNldFZhbHVlKG51bGwsIGZhbHNlKTtcbiAgICAgICAgfSwgTWVzc2FnZXNbXCJjYW5jZWxcIl0sICBmdW5jdGlvbiAoKSB7fSk7XG4gICAgfSwgZmFsc2UpO1xufTtcbndpZGdldC5wZS5BdHRhY2htZW50RWRpdG9yLnByb3RvdHlwZSA9IG5ldyB3aWRnZXQucGUuQmFzZUVkaXRvcigpO1xud2lkZ2V0LnBlLkF0dGFjaG1lbnRFZGl0b3IucHJvdG90eXBlLmNyZWF0ZUVkaXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRG9tLm5ld0RPTUVsZW1lbnQoe1xuICAgICAgICBfbmFtZTogXCJkaXZcIixcbiAgICAgICAgXCJjbGFzc1wiOiBcIkF0dGFjaG1lbnRFZGl0b3JcIixcbiAgICAgICAgX2NoaWxkcmVuOiBbe1xuICAgICAgICAgICAgX25hbWU6IFwic3BhblwiLFxuICAgICAgICAgICAgXCJjbGFzc1wiOiBcImRpc3BsYXlcIixcbiAgICAgICAgICAgIF9pZDogXCJkaXNwbGF5U3BhblwiLFxuICAgICAgICAgICAgX2h0bWw6IFwiXCJcbiAgICAgICAgfSx7XG4gICAgICAgICAgICBfbmFtZTogXCJidXR0b25cIixcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJidG4gYnRuLWRlZmF1bHRcIixcbiAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICBfaWQ6IFwicmVtb3ZlQnV0dG9uXCIsXG4gICAgICAgICAgICBzdHlsZTogXCJtYXJnaW46IDBweCA1cHg7XCIsXG4gICAgICAgICAgICBfaHRtbDogTWVzc2FnZXNbXCJyZW1vdmVcIl1cbiAgICAgICAgfSx7XG4gICAgICAgICAgICBfbmFtZTogXCJidXR0b25cIixcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJidG4gYnRuLWRlZmF1bHRcIixcbiAgICAgICAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICBfaWQ6IFwidXBsb2FkQnV0dG9uXCIsXG4gICAgICAgICAgICBfaHRtbDogTWVzc2FnZXNbXCJjaGFuZ2VcIl1cbiAgICAgICAgfV1cbiAgICB9LCBkb2N1bWVudCwgdGhpcyk7XG59O1xud2lkZ2V0LnBlLkF0dGFjaG1lbnRFZGl0b3IucHJvdG90eXBlLnNldEltcGwgPSBmdW5jdGlvbiAoYXR0YWNobWVudElkKSB7XG4gICAgdGhpcy5hdHRhY2htZW50SWQgPSBhdHRhY2htZW50SWQ7XG4gICAgXG4gICAgdGhpcy5kaXNwbGF5U3Bhbi5pbm5lckhUTUwgPSB0aGlzLmdldERpc3BsYXlUZXh0KHRoaXMuYXR0YWNobWVudElkKTtcbiAgICB0aGlzLnJlbW92ZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gdGhpcy5hdHRhY2htZW50SWQgPyBcImlubGluZS1ibG9ja1wiIDogXCJub25lXCI7XG4gICAgdGhpcy51cGxvYWRCdXR0b24uaW5uZXJIVE1MID0gdGhpcy5hdHRhY2htZW50SWQgPyBNZXNzYWdlc1tcImNoYW5nZVwiXSA6IE1lc3NhZ2VzW1widXBsb2FkX2xhYmVsXCJdO1xuICAgIC8vaHR0cDovL2xvY2FsaG9zdC9hc3NldC1tYW5hZ2VyLXdlYi9wYWdlcy9kaXNwYWNoZXIvRGlzcGFjaGVyU2VydmxldD9iZWFuTmFtZT1Qcm9wZXJ0aWVzQ29udHJvbGxlckJlYW4mbWV0aG9kTmFtZT1vcGVuU2NyZWVuJmtleUF0dHJpYnV0ZXM9dHlwZSxpZCZrZXlWYWx1ZXM9YXNzZXQsMTAjXG59O1xud2lkZ2V0LnBlLkF0dGFjaG1lbnRFZGl0b3IucHJvdG90eXBlLmdldEltcGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0YWNobWVudElkO1xufTtcbndpZGdldC5wZS5BdHRhY2htZW50RWRpdG9yLnByb3RvdHlwZS51c2VIdG1sRm9yRGlzcGxheVRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRydWU7XG59O1xud2lkZ2V0LnBlLkF0dGFjaG1lbnRFZGl0b3IucHJvdG90eXBlLmdldERpc3BsYXlUZXh0ID0gZnVuY3Rpb24gKGF0dGFjaG1lbnRJZCkge1xuICAgIGlmICghYXR0YWNobWVudElkKSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBuYW1lID0gYXR0YWNobWVudElkO1xuICAgICAgICBpZiAobmFtZS5tYXRjaCgvXihbXiNdKykjWzAtOV0rJC8pKSB7XG4gICAgICAgICAgICBuYW1lID0gUmVnRXhwLiQxO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cmwgPSBDT05URVhUX1BBVEggKyBcIi9hbXcvZG93bmxvYWQ/ZmlsZU5hbWU9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoYXR0YWNobWVudElkKTtcbiAgICAgICAgcmV0dXJuIFwiPGEgaHJlZj1cXFwiXCIgKyB1cmwgKyBcIlxcXCIgdGFyZ2V0PVxcXCJfYmxhbmtcXFwiPlwiICsgRG9tLmh0bWxFbmNvZGUobmFtZSkgKyBcIjwvYT5cIjtcbiAgICB9XG59O1xud2lkZ2V0LnBlLlN0YXRpY0xvY2F0aW9uRWRpdG9yID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy5pbml0KGNvbnRhaW5lcik7XG4gICAgXG4gICAgdmFyIHRoaXogPSB0aGlzO1xuICAgIHZhciBvcGVuU3RhdGljTG9jYXRpb25EaWFsb2cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbmV3IFN0YXRpY0xvY2F0aW9uRWRpdERpYWxvZyh0aGl6LmZpeGVkTG9jYXRpb24gPyB0aGl6LmZpeGVkTG9jYXRpb24uYXNzZXRJZCA6IG51bGwsIHRoaXouZml4ZWRMb2NhdGlvbiwgZnVuY3Rpb24gKGZpeGVkTG9jYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXouc2V0VmFsdWUoZml4ZWRMb2NhdGlvbiwgZmFsc2UpO1xuICAgICAgICB9KS5vcGVuKCk7XG4gICAgfTtcbiAgICBEb20ucmVnaXN0ZXJFdmVudCh0aGlzLnN0YXRpY0NoZWNrQm94LCBcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XG4gICAgICAgaWYgKHRoaXouc3RhdGljQ2hlY2tCb3guY2hlY2tlZCkge1xuICAgICAgICAgICBpZiAoIXRoaXouZml4ZWRMb2NhdGlvbikge1xuICAgICAgICAgICAgICAgb3BlblN0YXRpY0xvY2F0aW9uRGlhbG9nKCk7XG4gICAgICAgICAgIH1cbiAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICB0aGl6LnNldFZhbHVlKG51bGwsIGZhbHNlKTtcbiAgICAgICB9XG4gICAgfSk7XG4gICAgRG9tLnJlZ2lzdGVyRXZlbnQodGhpcy5sb2NhdGlvbkxpbmssIFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIG9wZW5TdGF0aWNMb2NhdGlvbkRpYWxvZygpO1xuICAgIH0pO1xufVxud2lkZ2V0LnBlLlN0YXRpY0xvY2F0aW9uRWRpdG9yLnByb3RvdHlwZSA9IG5ldyB3aWRnZXQucGUuQmFzZUVkaXRvcigpO1xud2lkZ2V0LnBlLlN0YXRpY0xvY2F0aW9uRWRpdG9yLnByb3RvdHlwZS5jcmVhdGVFZGl0b3IgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaWQgPSB3aWRnZXQucmFuZG9tKCk7XG4gICAgcmV0dXJuIERvbS5uZXdET01FbGVtZW50KHtcbiAgICAgICAgX25hbWU6IFwiZGl2XCIsXG4gICAgICAgIFwiY2xhc3NcIjogXCJMb2NhdGlvbkVkaXRvclwiLFxuICAgICAgICBfY2hpbGRyZW46IFt7XG4gICAgICAgICAgICBfbmFtZTogXCJpbnB1dFwiLFxuICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgX2lkOiBcInN0YXRpY0NoZWNrQm94XCJcbiAgICAgICAgfSx7XG4gICAgICAgICAgICBfbmFtZTogXCJsYWJlbFwiLFxuICAgICAgICAgICAgXCJmb3JcIjogaWQsXG4gICAgICAgICAgICBfdGV4dDogTWVzc2FnZXNbXCJzdGF0aWNfbG9jYXRpb25fbGFiZWxcIl0sXG4gICAgICAgICAgICBzdHlsZTogXCJtYXJnaW4tbGVmdDogMC41ZXg7IG1hcmdpbi1yaWdodDogMWV4OyBmb250LXdlaWdodDogbm9ybWFsO1wiLFxuICAgICAgICAgICAgX2lkOiBcInN0YXRpY0xhYmVsXCJcbiAgICAgICAgfSx7XG4gICAgICAgICAgICBfbmFtZTogXCJhXCIsXG4gICAgICAgICAgICBocmVmOiBcIiNcIixcbiAgICAgICAgICAgIF9pZDogXCJsb2NhdGlvbkxpbmtcIixcbiAgICAgICAgICAgIF9odG1sOiBNZXNzYWdlc1tcInN0YXRpY19zZWxlY3RfbG9jYXRpb25fYnV0dG9uXCJdXG4gICAgICAgIH1dXG4gICAgfSwgZG9jdW1lbnQsIHRoaXMpO1xufTtcbndpZGdldC5wZS5TdGF0aWNMb2NhdGlvbkVkaXRvci5wcm90b3R5cGUuZ2V0SW1wbCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5maXhlZExvY2F0aW9uO1xufTtcbndpZGdldC5wZS5TdGF0aWNMb2NhdGlvbkVkaXRvci5wcm90b3R5cGUuc2V0SW1wbCA9IGZ1bmN0aW9uIChmaXhlZExvY2F0aW9uKSB7XG4gICAgdGhpcy5maXhlZExvY2F0aW9uID0gZml4ZWRMb2NhdGlvbjtcbiAgICB0aGlzLnN0YXRpY0NoZWNrQm94LmNoZWNrZWQgPSB0aGlzLmZpeGVkTG9jYXRpb24gIT0gbnVsbCA/IHRydWUgOiBmYWxzZTtcbiAgICB0aGlzLnN0YXRpY0xhYmVsLmlubmVySFRNTCA9IHRoaXMuZml4ZWRMb2NhdGlvbiAhPSBudWxsID8gTWVzc2FnZXNbXCJzdGF0aWNfbG9jYXRpb25fbGFiZWxcIl0gOiBNZXNzYWdlc1tcInNlbGVjdF9sb2NhdGlvbl90aXRsZVwiXTtcbiAgICB0aGlzLmxvY2F0aW9uTGluay5pbm5lckhUTUwgPSB0aGlzLmZpeGVkTG9jYXRpb24gPyAodGhpcy5maXhlZExvY2F0aW9uLm5hbWUgPyB0aGlzLmZpeGVkTG9jYXRpb24ubmFtZSA6IE1lc3NhZ2VzW1wiY2hhbmdlX2xvY2F0aW9uX2J1dHRvblwiXSkgOiBcIlwiO1xufVxud2lkZ2V0LnBlLlN0YXRpY0xvY2F0aW9uRWRpdG9yLnByb3RvdHlwZS5nZXREaXNwbGF5VGV4dCA9IGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgcmV0dXJuIFwiXCI7XG59XG5cbndpZGdldC5wZS5fZ2V0U3Ryb25nVHlwZUVkaXRvclZhbHVlID0gZnVuY3Rpb24gKGVkaXRvciwgdHlwZSwgaWRPbmx5LCBmb3JjZUFycmF5KSB7XG4gICAgdmFyIHZhbHVlID0gZWRpdG9yLmdldFZhbHVlKCk7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB2YWx1ZTtcbiAgICBcbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSArKykge1xuICAgICAgICAgICAgaWYgKGlkT25seSkge1xuICAgICAgICAgICAgICAgIHZhbHVlW2ldID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogdmFsdWVbaV0uaWQsXG4gICAgICAgICAgICAgICAgICAgIGNsYXp6OiB0eXBlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZVtpXS5jbGF6eiA9IHR5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YWx1ZSA9IG5ldyBfTGlzdChmb3JjZUFycmF5ID8gbnVsbCA6IFwibGlzdFwiLCB0eXBlLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlkT25seSkge1xuICAgICAgICAgICAgdmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHZhbHVlLmlkLFxuICAgICAgICAgICAgICAgIGNsYXp6OiB0eXBlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZS5jbGF6eiA9IHR5cGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxud2lkZ2V0LnBlLnZhbGlkYXRpb25SZWdpc3RyeSA9IHtcbiAgICAgICAgcmVxdWlyZWQ6IGZ1bmN0aW9uICh2YWx1ZSwgcGFyYW0sIGVkaXRvcikge1xuICAgICAgICAgICAgaWYgKCgodmFsdWUgaW5zdGFuY2VvZiBTdHJpbmcpICYmICF2YWx1ZSkgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlBsZWFzZSBlbnRlciB0aGUgJFRJVExFLlwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgbWF4TGVuZ3RoOiBmdW5jdGlvbiAodmFsdWUsIHBhcmFtLCBlZGl0b3IpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiBwYXJhbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlBsZWFzZSBlbnRlciB0aGUgJFRJVExFIHdpdGggbWF4aW11bSBcIiArIHBhcmFtICsgXCIgY2hhcmFjdGVycy5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIHBhdHRlcm5NYXRjaGVkOiBmdW5jdGlvbiAodmFsdWUsIHBhcmFtLCBlZGl0b3IpIHtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG59OyJdfQ==
